(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{2640:function(t,e,a){"use strict";a(57);var n=a(6),o={__name:"TableFooterResults",props:{firstIndex:{type:Number,default:0},lastIndex:{type:Number,default:0},totalCount:{type:Number,default:0}},setup:function(t){return{__sfc:!0}}},s=a(8),i=Object(s.a)(o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("span",{staticClass:"text-sm text-slate-700 dark:text-slate-200 font-medium"},[t._v("\n  "+t._s(t.$t("GENERAL.SHOWING_RESULTS",{firstIndex:t.firstIndex,lastIndex:t.lastIndex,totalCount:t.totalCount}))+"\n")])}),[],!1,null,null,null).exports,r={__name:"TableFooterPagination",props:{currentPage:{type:Number,default:1},totalCount:{type:Number,default:0},totalPages:{type:Number,default:0}},emits:["page-change"],setup:function(t,e){var a=e.emit,o=t,s=Object(n.computed)((function(){return o.currentPage===o.totalPages||1===o.totalPages})),i=Object(n.computed)((function(){return 1===o.currentPage})),r=Object(n.computed)((function(){return o.currentPage===o.totalPages})),c=Object(n.computed)((function(){return 1===o.currentPage}));function l(t){a("page-change",t)}return{__sfc:!0,props:o,hasLastPage:s,hasFirstPage:i,hasNextPage:r,hasPrevPage:c,emit:a,buttonClass:function(t){return t?"hover:!bg-slate-50 dark:hover:!bg-slate-800":"dark:hover:!bg-slate-700/50"},onPageChange:l,onNextPage:function t(){t.value||l(o.currentPage+1)},onPrevPage:function(){c.value||l(o.currentPage-1)},onFirstPage:function(){i.value||l(1)},onLastPage:function(){s.value||l(o.totalPages)}}}},c=Object(s.a)(r,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"flex items-center bg-slate-50 dark:bg-slate-800 h-8 rounded-lg"},[e("woot-button",{class:a.buttonClass(a.hasFirstPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":a.hasFirstPage,"class-names":"dark:!bg-slate-800 !opacity-100 ltr:rounded-l-lg ltr:rounded-r-none rtl:rounded-r-lg rtl:rounded-l-none"},on:{click:a.onFirstPage}},[e("fluent-icon",{class:a.hasFirstPage&&"opacity-40",attrs:{icon:"chevrons-left",size:"20","icon-lib":"lucide"}})],1),t._v(" "),e("div",{staticClass:"bg-slate-75 dark:bg-slate-700/50 w-px rounded-sm h-4"}),t._v(" "),e("woot-button",{class:a.buttonClass(a.hasPrevPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":a.hasPrevPage,"class-names":"dark:!bg-slate-800 !opacity-100 rounded-none"},on:{click:a.onPrevPage}},[e("fluent-icon",{class:a.hasPrevPage&&"opacity-40",attrs:{icon:"chevron-left-single",size:"20","icon-lib":"lucide"}})],1),t._v(" "),e("div",{staticClass:"flex px-3 items-center gap-3 tabular-nums bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-100"},[e("span",{staticClass:"text-sm text-slate-800 dark:text-slate-75"},[t._v("\n      "+t._s(t.currentPage)+"\n    ")]),t._v(" "),e("span",{staticClass:"text-slate-600 dark:text-slate-500"},[t._v("/")]),t._v(" "),e("span",{staticClass:"text-sm text-slate-600 dark:text-slate-500"},[t._v("\n      "+t._s(t.totalPages)+"\n    ")])]),t._v(" "),e("woot-button",{class:a.buttonClass(a.hasNextPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":a.hasNextPage,"class-names":"dark:!bg-slate-800 !opacity-100 rounded-none"},on:{click:a.onNextPage}},[e("fluent-icon",{class:a.hasNextPage&&"opacity-40",attrs:{icon:"chevron-right-single",size:"20","icon-lib":"lucide"}})],1),t._v(" "),e("div",{staticClass:"bg-slate-75 dark:bg-slate-700/50 w-px rounded-sm h-4"}),t._v(" "),e("woot-button",{class:a.buttonClass(a.hasLastPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","class-names":"dark:!bg-slate-800 !opacity-100 ltr:rounded-r-lg ltr:rounded-l-none rtl:rounded-l-lg rtl:rounded-r-none","is-disabled":a.hasLastPage},on:{click:a.onLastPage}},[e("fluent-icon",{class:a.hasLastPage&&"opacity-40",attrs:{icon:"chevrons-right",size:"20","icon-lib":"lucide"}})],1)],1)}),[],!1,null,null,null).exports,l={__name:"TableFooter",props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:25},totalCount:{type:Number,default:0}},setup:function(t){var e=t,a=Object(n.computed)((function(){return Math.ceil(e.totalCount/e.pageSize)})),o=Object(n.computed)((function(){return e.pageSize*(e.currentPage-1)+1})),s=Object(n.computed)((function(){return Math.min(e.totalCount,e.pageSize*e.currentPage)})),r=Object(n.computed)((function(){return e.totalCount&&!(o.value>e.totalCount)}));return{__sfc:!0,props:e,totalPages:a,firstIndex:o,lastIndex:s,isFooterVisible:r,TableFooterResults:i,TableFooterPagination:c}}},u=Object(s.a)(l,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return a.isFooterVisible?e("footer",{staticClass:"h-12 flex items-center justify-between px-6"},[e(a.TableFooterResults,{attrs:{"first-index":a.firstIndex,"last-index":a.lastIndex,"total-count":t.totalCount}}),t._v(" "),t.totalCount?e(a.TableFooterPagination,{attrs:{"current-page":t.currentPage,"total-pages":a.totalPages,"total-count":t.totalCount,"page-size":t.pageSize},on:{"page-change":function(e){return t.$emit("page-change",e)}}}):t._e()],1):t._e()}),[],!1,null,null,null);e.a=u.exports},2997:function(t,e,a){},2998:function(t,e,a){},3250:function(t,e,a){"use strict";a(2997)},3251:function(t,e,a){"use strict";a(2998)},3337:function(t,e,a){"use strict";a.r(e);a(51),a(13),a(9),a(11),a(15),a(12),a(16);var n=a(34),o=a(2640),s=a(271),i=a(191),r=a(1923),c=a(1916);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var p={components:{Thumbnail:s.a,Spinner:i.a,EmptyState:r.a},props:{notifications:{type:Array,default:function(){return[]}},isLoading:{type:Boolean,default:!1},isUpdating:{type:Boolean,default:!1},onClickNotification:{type:Function,default:function(){}},onMarkAllDoneClick:{type:Function,default:function(){}}},computed:u(u({},Object(n.mapGetters)({notificationMetadata:"notifications/getMeta"})),{},{showEmptyResult:function(){return!this.isLoading&&0===this.notifications.length}}),methods:{dynamicTime:c.b}},f=(a(3250),a(8)),g=Object(f.a)(p,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"flex-grow flex-shrink h-full px-4 py-8 overflow-hidden bg-white dark:bg-slate-900"},[t.notificationMetadata.unreadCount?e("woot-submit-button",{staticClass:"button nice success button--fixed-top",attrs:{"button-text":t.$t("NOTIFICATIONS_PAGE.MARK_ALL_DONE"),loading:t.isUpdating},on:{click:t.onMarkAllDoneClick}}):t._e(),t._v(" "),e("table",{staticClass:"woot-table notifications-table"},[e("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]},t._l(t.notifications,(function(a){return e("tr",{key:a.id,class:{"is-unread":null===a.read_at},on:{click:()=>t.onClickNotification(a)}},[e("td",[e("div",{staticClass:"overflow-hidden flex-view notification-contant--wrap whitespace-nowrap text-ellipsis"},[e("h5",{staticClass:"notification--title"},[t._v("\n              "+t._s(`#${a.primary_actor?a.primary_actor.id:t.$t("NOTIFICATIONS_PAGE.DELETE_TITLE")}`)+"\n            ")]),t._v(" "),e("span",{staticClass:"overflow-hidden notification--message-title whitespace-nowrap text-ellipsis"},[t._v("\n              "+t._s(a.push_message_title)+"\n            ")])])]),t._v(" "),e("td",{staticClass:"text-right"},[e("span",{staticClass:"notification--type"},[t._v("\n            "+t._s(t.$t(`NOTIFICATIONS_PAGE.TYPE_LABEL.${a.notification_type}`))+"\n          ")])]),t._v(" "),e("td",{staticClass:"thumbnail--column"},[a.primary_actor.meta.assignee?e("thumbnail",{attrs:{src:a.primary_actor.meta.assignee.thumbnail,size:"36px",username:a.primary_actor.meta.assignee.name}}):t._e()],1),t._v(" "),e("td",[e("div",{staticClass:"text-right timestamp--column"},[e("span",{staticClass:"notification--created-at"},[t._v("\n              "+t._s(t.dynamicTime(a.last_activity_at))+"\n            ")])])]),t._v(" "),e("td",[a.read_at?t._e():e("div",{staticClass:"notification--unread-indicator"})])])})),0)]),t._v(" "),t.showEmptyResult?e("empty-state",{attrs:{title:t.$t("NOTIFICATIONS_PAGE.LIST.404")}}):t._e(),t._v(" "),t.isLoading?e("div",{staticClass:"notifications--loader"},[e("spinner"),t._v(" "),e("span",[t._v(t._s(t.$t("NOTIFICATIONS_PAGE.LIST.LOADING_MESSAGE")))])],1):t._e()],1)}),[],!1,null,"ff75260a",null).exports,b=a(95);function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _={components:{NotificationTable:g,TableFooter:o.a},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.mapGetters)({accountId:"getCurrentAccountId",meta:"notifications/getMeta",records:"notifications/getNotifications",uiFlags:"notifications/getUIFlags"})),mounted:function(){this.$store.dispatch("notifications/get",{page:1})},methods:{onPageChange:function(t){window.history.pushState({},null,"".concat(this.$route.path,"?page=").concat(t)),this.$store.dispatch("notifications/get",{page:t})},openConversation:function(t){var e=t.primary_actor_id,a=t.primary_actor_type,n=t.primary_actor.id,o=t.notification_type;this.$track(b.a.OPEN_CONVERSATION_VIA_NOTIFICATION,{notificationType:o}),this.$store.dispatch("notifications/read",{id:t.id,primaryActorId:e,primaryActorType:a,unreadCount:this.meta.unreadCount}),this.$router.push("/app/accounts/".concat(this.accountId,"/conversations/").concat(n))},onMarkAllDoneClick:function(){this.$track(b.a.MARK_AS_READ_NOTIFICATIONS),this.$store.dispatch("notifications/readAll")}}},v=_,P=(a(3251),Object(f.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-y-auto h-full"},[e("div",{staticClass:"flex flex-col h-full"},[e("notification-table",{attrs:{notifications:t.records,"is-loading":t.uiFlags.isFetching,"is-updating":t.uiFlags.isUpdating,"on-click-notification":t.openConversation,"on-mark-all-done-click":t.onMarkAllDoneClick}}),t._v(" "),e("table-footer",{staticClass:"border-t border-slate-75 dark:border-slate-700/50",attrs:{"current-page":Number(t.meta.currentPage),"total-count":t.meta.count,"page-size":15},on:{"page-change":t.onPageChange}})],1)])}),[],!1,null,"058057ed",null));e.default=P.exports}}]);
//# sourceMappingURL=66-01553db030174726719a.chunk.js.map