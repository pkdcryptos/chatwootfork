(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1446:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a}));r(51);var n=function(t){var e=window.chatwootConfig,r=e.hostURL,n=e.helpCenterURL;return"".concat(n||r||"","/hc/").concat(t)},a=function(t,e,r,a){var o=n(t);return"".concat(o,"/articles/").concat(a)}},1500:function(t,e,r){"use strict";var n={__name:"SettingsLayout",props:{title:{type:String,default:null}},setup:function(t){return{__sfc:!0}}},a=r(8),o=Object(a.a)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex-grow-0 flex-shrink-0 w-full h-full max-w-full bg-white border border-transparent border-solid dark:bg-slate-900 dark:border-transparent md:max-w-2xl"},[t.$slots.title||t.title?e("h3",{staticClass:"text-lg text-black-900 dark:text-slate-200"},[t._t("title",(function(){return[t._v(t._s(t.title))]}))],2):t._e(),t._v(" "),e("div",{staticClass:"mx-0 my-4 border-b border-solid border-slate-25 dark:border-slate-800"},[t._t("default")],2),t._v(" "),e("div",{staticClass:"flex justify-between"},[e("div",[t._t("footer-left")],2),t._v(" "),e("div",[t._t("footer-right")],2)])])}),[],!1,null,null,null);e.a=o.exports},1684:function(t,e,r){"use strict";r(37),r(44),r(9),r(24);var n=r(129),a=r(69),o=r(6),l=r(601),u=r(67),i=r(323),s=r(1446),c=r(149),p=r(12),E=r(741),d=r(366),f=r(245),b=r(1500);function m(t,e,r,n,a,o,l){try{var u=t[o](l),i=u.value}catch(s){return void r(s)}u.done?e(i):Promise.resolve(i).then(n,a)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function l(t){m(o,n,a,l,u,"next",t)}function u(t){m(o,n,a,l,u,"throw",t)}l(void 0)}))}}var O={__name:"PortalSettingsBasicForm",props:{portal:{type:Object,default:function(){}},isSubmitting:{type:Boolean,default:!1},submitButtonText:{type:String,default:""}},emits:["submit","delete-logo"],setup:function(t,e){var r=e.emit,m=t,O=c.b.EXAMPLE_URL,_=Object(l.a)().t;Object(o.defineComponent)({name:"PortalSettingsBasicForm"});var g=Object(o.reactive)({name:"",slug:"",domain:"",logoUrl:"",avatarBlobId:""}),L={name:{required:a.f,minLength:Object(a.d)(2)},slug:{required:a.f},domain:{isDomain:f.a}},P=Object(n.a)(L,g),R=Object(o.computed)((function(){return P.value.name.$error?_("HELP_CENTER.CATEGORY.ADD.NAME.ERROR"):""})),A=Object(o.computed)((function(){return P.value.slug.$error?_("HELP_CENTER.CATEGORY.ADD.SLUG.ERROR"):""})),T=Object(o.computed)((function(){return P.value.domain.$error?_("HELP_CENTER.PORTAL.ADD.DOMAIN.ERROR"):""})),h=Object(o.computed)((function(){return Object(s.b)(g.slug)})),D=Object(o.computed)((function(){return _("HELP_CENTER.PORTAL.ADD.DOMAIN.HELP_TEXT",{exampleURL:O})})),x=Object(o.computed)((function(){return Object(p.e)(g.logoUrl)}));function C(){return(C=v(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.logoUrl="",g.avatarBlobId="",r("delete-logo");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return j.apply(this,arguments)}function j(){return(j=v(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d.a)(e);case 3:r=t.sent,n=r.fileUrl,a=r.blobId,n&&(g.logoUrl=n,g.avatarBlobId=a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Object(u.a)(_("HELP_CENTER.PORTAL.ADD.LOGO.IMAGE_UPLOAD_ERROR"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return Object(o.onMounted)((function(){var t=m.portal||{};if(g.name=t.name||"",g.slug=t.slug||"",g.domain=t.custom_domain||"",t.logo){var e=t.logo,r=e.file_url,n=e.blob_id;g.logoUrl=r,g.avatarBlobId=n}})),{__sfc:!0,EXAMPLE_URL:O,MAXIMUM_FILE_UPLOAD_SIZE:4,t:_,props:m,state:g,rules:L,v$:P,nameError:R,slugError:A,domainError:T,domainHelpText:h,domainExampleHelpText:D,showDeleteButton:x,emit:r,onNameChange:function(){g.slug=Object(i.b)(g.name)},onSubmitClick:function(){if(P.value.$touch(),!P.value.$invalid){var t={name:g.name,slug:g.slug,custom_domain:g.domain,blob_id:g.avatarBlobId||null};r("submit",t)}},deleteAvatar:function(){return C.apply(this,arguments)},uploadLogoToStorage:S,onFileChange:function(t){var e=t.file;if(Object(E.a)(e,4))S(e);else{Object(u.a)(_("PROFILE_SETTINGS.FORM.MESSAGE_SIGNATURE_SECTION.IMAGE_UPLOAD_SIZE_ERROR",{size:4}))}},SettingsLayout:b.a}}},_=O,g=r(8),L=Object(g.a)(_,(function(){var t=this,e=t._self._c,r=t._self._setupProxy;return e(r.SettingsLayout,{attrs:{title:t.$t("HELP_CENTER.PORTAL.ADD.CREATE_FLOW_PAGE.BASIC_SETTINGS_PAGE.TITLE")},scopedSlots:t._u([{key:"footer-right",fn:function(){return[e("woot-button",{attrs:{"is-loading":t.isSubmitting,"is-disabled":r.v$.$invalid},on:{click:r.onSubmitClick}},[t._v("\n      "+t._s(t.submitButtonText)+"\n    ")])]},proxy:!0}])},[e("div",[e("div",{staticClass:"mb-4"},[e("div",{staticClass:"flex flex-row items-center"},[e("woot-avatar-uploader",{attrs:{label:t.$t("HELP_CENTER.PORTAL.ADD.LOGO.LABEL"),src:r.state.logoUrl},on:{change:r.onFileChange}}),t._v(" "),r.showDeleteButton?e("div",{staticClass:"avatar-delete-btn"},[e("woot-button",{attrs:{type:"button","color-scheme":"alert",variant:"hollow",size:"small"},on:{click:r.deleteAvatar}},[t._v("\n            "+t._s(t.$t("PROFILE_SETTINGS.DELETE_AVATAR"))+"\n          ")])],1):t._e()],1),t._v(" "),e("p",{staticClass:"mt-1 mb-0 text-xs not-italic text-slate-600 dark:text-slate-400"},[t._v("\n        "+t._s(t.$t("HELP_CENTER.PORTAL.ADD.LOGO.HELP_TEXT"))+"\n      ")])]),t._v(" "),e("div",{staticClass:"mb-4"},[e("woot-input",{class:{error:r.v$.name.$error},attrs:{error:r.nameError,label:t.$t("HELP_CENTER.PORTAL.ADD.NAME.LABEL"),placeholder:t.$t("HELP_CENTER.PORTAL.ADD.NAME.PLACEHOLDER"),"help-text":t.$t("HELP_CENTER.PORTAL.ADD.NAME.HELP_TEXT")},on:{blur:r.v$.name.$touch,input:r.onNameChange},model:{value:r.state.name,callback:function(e){t.$set(r.state,"name",e)},expression:"state.name"}})],1),t._v(" "),e("div",{staticClass:"mb-4"},[e("woot-input",{class:{error:r.v$.slug.$error},attrs:{error:r.slugError,label:t.$t("HELP_CENTER.PORTAL.ADD.SLUG.LABEL"),placeholder:t.$t("HELP_CENTER.PORTAL.ADD.SLUG.PLACEHOLDER"),"help-text":r.domainHelpText},on:{blur:r.v$.slug.$touch},model:{value:r.state.slug,callback:function(e){t.$set(r.state,"slug",e)},expression:"state.slug"}})],1),t._v(" "),e("div",{staticClass:"mb-4"},[e("woot-input",{class:{error:r.v$.domain.$error},attrs:{label:t.$t("HELP_CENTER.PORTAL.ADD.DOMAIN.LABEL"),placeholder:t.$t("HELP_CENTER.PORTAL.ADD.DOMAIN.PLACEHOLDER"),"help-text":r.domainExampleHelpText,error:r.domainError},on:{blur:r.v$.domain.$touch},model:{value:r.state.domain,callback:function(e){t.$set(r.state,"domain",e)},expression:"state.domain"}})],1)])])}),[],!1,null,null,null);e.a=L.exports},2178:function(t,e,r){"use strict";r.r(e);r(37),r(52),r(73),r(44),r(9),r(24),r(26),r(11),r(23),r(30),r(25),r(31);var n=r(1684),a=r(67),o=r(283),l=r(755),u=r(601),i=r(6);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t,e,r,n,a,o,l){try{var u=t[o](l),i=u.value}catch(s){return void r(s)}u.done?e(i):Promise.resolve(i).then(n,a)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function l(t){E(o,n,a,l,u,"next",t)}function u(t){E(o,n,a,l,u,"throw",t)}l(void 0)}))}}var f={__name:"EditPortalBasic",setup:function(t){Object(i.defineComponent)({name:"EditPortalBasic"});var e=Object(o.b)(),r=Object(l.a)(),s=Object(l.b)(),p=Object(o.a)(),E=Object(u.a)().t,f=e["portals/uiFlagsIn"],b=Object(i.ref)(null),m=Object(i.computed)((function(){return r.params.portalSlug})),v=Object(i.computed)((function(){var t=r.params.portalSlug;return e["portals/portalBySlug"].value(t)}));function O(){return(O=d(regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",t.prev=1,o=b.value,t.next=5,p.dispatch("portals/update",c(c({},e),{},{portalSlug:o}));case 5:if(n=E("HELP_CENTER.PORTAL.ADD.API.SUCCESS_MESSAGE_FOR_UPDATE"),b.value===e.slug){t.next=10;break}return t.next=9,p.dispatch("portals/index");case 9:s.replace({name:r.name,params:{portalSlug:e.slug}});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||E("HELP_CENTER.PORTAL.ADD.API.ERROR_MESSAGE_FOR_UPDATE");case 15:return t.prev=15,Object(a.a)(n),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))).apply(this,arguments)}function _(){return(_=d(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=b.value,t.next=4,p.dispatch("portals/deleteLogo",{portalSlug:e});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(a.a)((null===t.t0||void 0===t.t0?void 0:t.t0.message)||E("HELP_CENTER.PORTAL.ADD.LOGO.IMAGE_DELETE_ERROR"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return Object(i.onMounted)((function(){b.value=m.value})),{__sfc:!0,getters:e,route:r,router:s,store:p,t:E,uiFlags:f,lastPortalSlug:b,currentPortalSlug:m,currentPortal:v,updatePortalSettings:function(t){return O.apply(this,arguments)},deleteLogo:function(){return _.apply(this,arguments)},PortalSettingsBasicForm:n.a}}},b=f,m=r(8),v=Object(m.a)(b,(function(){var t=this,e=t._self._c,r=t._self._setupProxy;return r.currentPortal?e(r.PortalSettingsBasicForm,{attrs:{portal:r.currentPortal,"is-submitting":r.uiFlags.isUpdating,"submit-button-text":t.$t("HELP_CENTER.PORTAL.EDIT.EDIT_BASIC_INFO.BUTTON_TEXT")},on:{submit:r.updatePortalSettings,"delete-logo":r.deleteLogo}}):t._e()}),[],!1,null,null,null);e.default=v.exports}}]);
//# sourceMappingURL=85-9965a6657fe4b2069eb0.chunk.js.map