{"version":3,"sources":["webpack:///app/javascript/dashboard/components/widgets/FilterInput/Index.vue","webpack:///./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?99d2","webpack:///./app/javascript/dashboard/components/widgets/FilterInput/Index.vue","webpack:///./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?8b58","webpack:///./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?56f5","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?b35a","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue?1ad7","webpack:///./app/javascript/dashboard/mixins/automations/methodsMixin.js","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/constants.js","webpack:///app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?6692","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?a06c","webpack:///app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?9562","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?426b","webpack:///app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue?3cfe","webpack:///./app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue"],"names":["component","_vm","this","_c","_self","staticClass","class","getInputErrorClass","errorMessage","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","attributeKey","multiple","resetFilter","_l","group","i","key","attrs","attribute","domProps","_v","_s","disabled","filterOperator","operator","$t","inputType","dropdownValues","model","callback","$$v","values","composing","_e","removeFilter","query_operator","computed","mapGetters","agents","campaigns","contacts","inboxes","labels","teams","slaPolicies","booleanFilterOptions","id","statusFilterOptions","statusFilters","Object","keys","status","TEXT","methods","getFileName","onEventChange","automation","conditions","getDefaultConditions","event_name","actions","getDefaultActions","getAttributes","automationTypes","getInputType","customAttribute","isACustomAttribute","allCustomAttributes","getCustomAttributeInputType","attribute_display_type","getAutomationType","getOperators","mode","getOperatorTypes","filterOperators","find","condition","getCustomAttributeType","customAttributeType","getConditionDropdownValues","type","customAttributes","getConditionOptions","languages","countries","appendNewCondition","push","appendNewAction","index","length","useAlert","splice","removeAction","submitAutomation","errors","validateAutomation","generateAutomationPayload","$emit","currentCondition","filter_operator","attribute_key","showUserInput","showActionInput","action","automationActionTypes","resetAction","action_params","manifestConditions","filterCustomAttributes","customAttr","isCustomAttribute","getStandardAttributeInputType","join","item","includes","generateActionsArray","params","action_name","getActionDropdownValues","team_ids","message","manifestActions","actionParams","formatAutomation","getActionOptions","manifestCustomAttributes","conversationCustomAttributesRaw","$store","getters","contactCustomAttributesRaw","conversationCustomAttributeTypes","generateCustomAttributeTypes","contactCustomAttributeTypes","manifestedCustomAttributes","generateCustomAttributes","message_created","conversation_created","conversation_updated","conversation_opened","AUTOMATIONS","attributeI18nKey","OPERATOR_TYPES_1","OPERATOR_TYPES_2","OPERATOR_TYPES_6","OPERATOR_TYPES_3","AUTOMATION_RULE_EVENTS","AUTOMATION_ACTION_TYPES","label","error","$set","description","event","preventDefault","onClose","apply","arguments","files","openAddPopup","uiFlags","isFetching","records","thHeader","active","toggleAutomation","readableTime","created_on","modifiers","loading","openEditPopup","cloneAutomation","openDeletePopup","showAddPopup","hideAddPopup","showDeleteConfirmationPopup","closeDeletePopup","confirmDeletion","deleteMessage","deleteConfirmText","deleteRejectText","showEditPopup","hideEditPopup","selectedResponse","ref","toggleModalTitle","toggleModalDescription"],"mappings":"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","file":"js/64-d8433ba11fea7a99de45.chunk.js","sourcesContent":["<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <div>\n    <div\n      class=\"rounded-md p-2 border border-solid\"\n      :class=\"getInputErrorClass(errorMessage)\"\n    >\n      <div class=\"flex\">\n        <select\n          v-if=\"groupedFilters\"\n          v-model=\"attributeKey\"\n          class=\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n          @change=\"resetFilter()\"\n        >\n          <optgroup\n            v-for=\"(group, i) in filterGroups\"\n            :key=\"i\"\n            :label=\"group.name\"\n          >\n            <option\n              v-for=\"attribute in group.attributes\"\n              :key=\"attribute.key\"\n              :value=\"attribute.key\"\n            >\n              {{ attribute.name }}\n            </option>\n          </optgroup>\n        </select>\n        <select\n          v-else\n          v-model=\"attributeKey\"\n          class=\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n          @change=\"resetFilter()\"\n        >\n          <option\n            v-for=\"attribute in filterAttributes\"\n            :key=\"attribute.key\"\n            :value=\"attribute.key\"\n            :disabled=\"attribute.disabled\"\n          >\n            {{ attribute.name }}\n          </option>\n        </select>\n\n        <select\n          v-model=\"filterOperator\"\n          class=\"bg-white dark:bg-slate-900 max-w-[20%] mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n        >\n          <option\n            v-for=\"(operator, o) in operators\"\n            :key=\"o\"\n            :value=\"operator.value\"\n          >\n            {{ $t(`FILTER.OPERATOR_LABELS.${operator.value}`) }}\n          </option>\n        </select>\n\n        <div v-if=\"showUserInput\" class=\"filter__answer--wrap mr-1 flex-grow\">\n          <div\n            v-if=\"inputType === 'multi_select'\"\n            class=\"multiselect-wrap--small\"\n          >\n            <multiselect\n              v-model=\"values\"\n              track-by=\"id\"\n              label=\"name\"\n              :placeholder=\"'Select'\"\n              :multiple=\"true\"\n              selected-label\n              :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n              deselect-label=\"\"\n              :max-height=\"160\"\n              :options=\"dropdownValues\"\n              :allow-empty=\"false\"\n            />\n          </div>\n          <div\n            v-else-if=\"inputType === 'search_select'\"\n            class=\"multiselect-wrap--small\"\n          >\n            <multiselect\n              v-model=\"values\"\n              track-by=\"id\"\n              label=\"name\"\n              :placeholder=\"'Select'\"\n              selected-label\n              :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n              deselect-label=\"\"\n              :max-height=\"160\"\n              :options=\"dropdownValues\"\n              :allow-empty=\"false\"\n              :option-height=\"104\"\n            />\n          </div>\n          <div v-else-if=\"inputType === 'date'\" class=\"multiselect-wrap--small\">\n            <input\n              v-model=\"values\"\n              type=\"date\"\n              :editable=\"false\"\n              class=\"mb-0 datepicker\"\n            />\n          </div>\n          <input\n            v-else\n            v-model=\"values\"\n            type=\"text\"\n            class=\"mb-0\"\n            placeholder=\"Enter value\"\n          />\n        </div>\n        <woot-button\n          icon=\"dismiss\"\n          variant=\"clear\"\n          color-scheme=\"secondary\"\n          @click=\"removeFilter\"\n        />\n      </div>\n      <p v-if=\"errorMessage\" class=\"filter-error\">\n        {{ errorMessage }}\n      </p>\n    </div>\n\n    <div\n      v-if=\"showQueryOperator\"\n      class=\"flex items-center justify-center relative my-2.5 mx-0\"\n    >\n      <hr\n        class=\"w-full absolute border-b border-solid border-slate-75 dark:border-slate-800\"\n      />\n      <select\n        v-model=\"query_operator\"\n        class=\"bg-white dark:bg-slate-900 mb-0 w-auto relative text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n      >\n        <option value=\"and\">\n          {{ $t('FILTER.QUERY_DROPDOWN_LABELS.AND') }}\n        </option>\n        <option value=\"or\">\n          {{ $t('FILTER.QUERY_DROPDOWN_LABELS.OR') }}\n        </option>\n      </select>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: Object,\n      default: () => null,\n    },\n    filterAttributes: {\n      type: Array,\n      default: () => [],\n    },\n    inputType: {\n      type: String,\n      default: 'plain_text',\n    },\n    dataType: {\n      type: String,\n      default: 'plain_text',\n    },\n    operators: {\n      type: Array,\n      default: () => [],\n    },\n    dropdownValues: {\n      type: Array,\n      default: () => [],\n    },\n    showQueryOperator: {\n      type: Boolean,\n      default: false,\n    },\n    showUserInput: {\n      type: Boolean,\n      default: true,\n    },\n    groupedFilters: {\n      type: Boolean,\n      default: false,\n    },\n    filterGroups: {\n      type: Array,\n      default: () => [],\n    },\n    customAttributeType: {\n      type: String,\n      default: '',\n    },\n    errorMessage: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    attributeKey: {\n      get() {\n        if (!this.value) return null;\n        return this.value.attribute_key;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, attribute_key: value });\n      },\n    },\n    filterOperator: {\n      get() {\n        if (!this.value) return null;\n        return this.value.filter_operator;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, filter_operator: value });\n      },\n    },\n    values: {\n      get() {\n        if (!this.value) return null;\n        return this.value.values;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, values: value });\n      },\n    },\n    query_operator: {\n      get() {\n        if (!this.value) return null;\n        return this.value.query_operator;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, query_operator: value });\n      },\n    },\n    custom_attribute_type: {\n      get() {\n        if (!this.customAttributeType) return '';\n        return this.customAttributeType;\n      },\n      set() {\n        const payload = this.value || {};\n        this.$emit('input', {\n          ...payload,\n          custom_attribute_type: this.customAttributeType,\n        });\n      },\n    },\n  },\n  watch: {\n    customAttributeType: {\n      handler(value) {\n        if (\n          value === 'conversation_attribute' ||\n          value === 'contact_attribute'\n        ) {\n          // eslint-disable-next-line vue/no-mutating-props\n          this.value.custom_attribute_type = this.customAttributeType;\n          // eslint-disable-next-line vue/no-mutating-props\n        } else this.value.custom_attribute_type = '';\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    removeFilter() {\n      this.$emit('removeFilter');\n    },\n    resetFilter() {\n      this.$emit('resetFilter');\n    },\n    getInputErrorClass(errorMessage) {\n      return errorMessage\n        ? 'bg-red-50 dark:bg-red-800/50 border-red-100 dark:border-red-700/50'\n        : 'bg-slate-50 dark:bg-slate-800 border-slate-75 dark:border-slate-700/50';\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.filter__answer--wrap {\n  input {\n    @apply bg-white dark:bg-slate-900 mb-0 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600;\n  }\n}\n\n.filter-error {\n  @apply text-red-500 dark:text-red-200 block my-1 mx-0;\n}\n\n.multiselect {\n  @apply mb-0;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=d8032476&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=d8032476&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d8032476\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"rounded-md p-2 border border-solid\",class:_vm.getInputErrorClass(_vm.errorMessage)},[_c('div',{staticClass:\"flex\"},[(_vm.groupedFilters)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attributeKey),expression:\"attributeKey\"}],staticClass:\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.attributeKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.resetFilter()}]}},_vm._l((_vm.filterGroups),function(group,i){return _c('optgroup',{key:i,attrs:{\"label\":group.name}},_vm._l((group.attributes),function(attribute){return _c('option',{key:attribute.key,domProps:{\"value\":attribute.key}},[_vm._v(\"\\n            \"+_vm._s(attribute.name)+\"\\n          \")])}),0)}),0):_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attributeKey),expression:\"attributeKey\"}],staticClass:\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.attributeKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.resetFilter()}]}},_vm._l((_vm.filterAttributes),function(attribute){return _c('option',{key:attribute.key,attrs:{\"disabled\":attribute.disabled},domProps:{\"value\":attribute.key}},[_vm._v(\"\\n          \"+_vm._s(attribute.name)+\"\\n        \")])}),0),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterOperator),expression:\"filterOperator\"}],staticClass:\"bg-white dark:bg-slate-900 max-w-[20%] mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.filterOperator=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.operators),function(operator,o){return _c('option',{key:o,domProps:{\"value\":operator.value}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(`FILTER.OPERATOR_LABELS.${operator.value}`))+\"\\n        \")])}),0),_vm._v(\" \"),(_vm.showUserInput)?_c('div',{staticClass:\"filter__answer--wrap mr-1 flex-grow\"},[(_vm.inputType === 'multi_select')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":'Select',\"multiple\":true,\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"max-height\":160,\"options\":_vm.dropdownValues,\"allow-empty\":false},model:{value:(_vm.values),callback:function ($$v) {_vm.values=$$v},expression:\"values\"}})],1):(_vm.inputType === 'search_select')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":'Select',\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"max-height\":160,\"options\":_vm.dropdownValues,\"allow-empty\":false,\"option-height\":104},model:{value:(_vm.values),callback:function ($$v) {_vm.values=$$v},expression:\"values\"}})],1):(_vm.inputType === 'date')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.values),expression:\"values\"}],staticClass:\"mb-0 datepicker\",attrs:{\"type\":\"date\",\"editable\":false},domProps:{\"value\":(_vm.values)},on:{\"input\":function($event){if($event.target.composing)return;_vm.values=$event.target.value}}})]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.values),expression:\"values\"}],staticClass:\"mb-0\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter value\"},domProps:{\"value\":(_vm.values)},on:{\"input\":function($event){if($event.target.composing)return;_vm.values=$event.target.value}}})]):_vm._e(),_vm._v(\" \"),_c('woot-button',{attrs:{\"icon\":\"dismiss\",\"variant\":\"clear\",\"color-scheme\":\"secondary\"},on:{\"click\":_vm.removeFilter}})],1),_vm._v(\" \"),(_vm.errorMessage)?_c('p',{staticClass:\"filter-error\"},[_vm._v(\"\\n      \"+_vm._s(_vm.errorMessage)+\"\\n    \")]):_vm._e()]),_vm._v(\" \"),(_vm.showQueryOperator)?_c('div',{staticClass:\"flex items-center justify-center relative my-2.5 mx-0\"},[_c('hr',{staticClass:\"w-full absolute border-b border-solid border-slate-75 dark:border-slate-800\"}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query_operator),expression:\"query_operator\"}],staticClass:\"bg-white dark:bg-slate-900 mb-0 w-auto relative text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.query_operator=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"and\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('FILTER.QUERY_DROPDOWN_LABELS.AND'))+\"\\n      \")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"or\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('FILTER.QUERY_DROPDOWN_LABELS.OR'))+\"\\n      \")])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=d8032476&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAutomationRule.vue?vue&type=style&index=0&id=49e4d2b0&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 p-4 overflow-auto\"},[_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"add-circle\"},on:{\"click\":function($event){return _vm.openAddPopup()}}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('AUTOMATION.HEADER_BTN_TXT'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row gap-4\"},[_c('div',{staticClass:\"w-full lg:w-3/5\"},[(!_vm.uiFlags.isFetching && !_vm.records.length)?_c('p',{staticClass:\"flex flex-col items-center justify-center h-full\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('AUTOMATION.LIST.404'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.uiFlags.isFetching)?_c('woot-loading-state',{attrs:{\"message\":_vm.$t('AUTOMATION.LOADING')}}):_vm._e(),_vm._v(\" \"),(!_vm.uiFlags.isFetching && _vm.records.length)?_c('table',{staticClass:\"woot-table\"},[_c('thead',_vm._l((_vm.$t('AUTOMATION.LIST.TABLE_HEADER')),function(thHeader){return _c('th',{key:thHeader},[_vm._v(\"\\n            \"+_vm._s(thHeader)+\"\\n          \")])}),0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.records),function(automation,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(automation.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(automation.description))]),_vm._v(\" \"),_c('td',[_c('woot-switch',{attrs:{\"value\":automation.active},on:{\"input\":function($event){return _vm.toggleAutomation(automation, automation.active)}}})],1),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.readableTime(automation.created_on)))]),_vm._v(\" \"),_c('td',{staticClass:\"button-wrapper\"},[_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AUTOMATION.FORM.EDIT')),expression:\"$t('AUTOMATION.FORM.EDIT')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"size\":\"tiny\",\"color-scheme\":\"secondary\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[automation.id],\"icon\":\"edit\"},on:{\"click\":function($event){return _vm.openEditPopup(automation)}}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AUTOMATION.CLONE.TOOLTIP')),expression:\"$t('AUTOMATION.CLONE.TOOLTIP')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"size\":\"tiny\",\"color-scheme\":\"primary\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[automation.id],\"icon\":\"copy\"},on:{\"click\":function($event){return _vm.cloneAutomation(automation.id)}}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AUTOMATION.FORM.DELETE')),expression:\"$t('AUTOMATION.FORM.DELETE')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"color-scheme\":\"alert\",\"size\":\"tiny\",\"icon\":\"dismiss-circle\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[automation.id]},on:{\"click\":function($event){return _vm.openDeletePopup(automation, index)}}})],1)])}),0)]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"hidden w-1/3 lg:block\"},[_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.$t('AUTOMATION.SIDEBAR_TXT')),expression:\"$t('AUTOMATION.SIDEBAR_TXT')\"}]})])]),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showAddPopup,\"size\":\"medium\",\"on-close\":_vm.hideAddPopup},on:{\"update:show\":function($event){_vm.showAddPopup=$event}}},[(_vm.showAddPopup)?_c('add-automation-rule',{attrs:{\"on-close\":_vm.hideAddPopup},on:{\"saveAutomation\":_vm.submitAutomation}}):_vm._e()],1),_vm._v(\" \"),_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeleteConfirmationPopup,\"on-close\":_vm.closeDeletePopup,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.$t('LABEL_MGMT.DELETE.CONFIRM.TITLE'),\"message\":_vm.$t('AUTOMATION.DELETE.CONFIRM.MESSAGE'),\"message-value\":_vm.deleteMessage,\"confirm-text\":_vm.deleteConfirmText,\"reject-text\":_vm.deleteRejectText},on:{\"update:show\":function($event){_vm.showDeleteConfirmationPopup=$event}}}),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showEditPopup,\"size\":\"medium\",\"on-close\":_vm.hideEditPopup},on:{\"update:show\":function($event){_vm.showEditPopup=$event}}},[(_vm.showEditPopup)?_c('edit-automation-rule',{attrs:{\"on-close\":_vm.hideEditPopup,\"selected-response\":_vm.selectedResponse},on:{\"saveAutomation\":_vm.submitAutomation}}):_vm._e()],1),_vm._v(\" \"),_c('woot-confirm-modal',{ref:\"confirmDialog\",attrs:{\"title\":_vm.toggleModalTitle,\"description\":_vm.toggleModalDescription}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import languages from 'dashboard/components/widgets/conversation/advancedFilterItems/languages';\nimport countries from 'shared/constants/countries';\nimport { validateAutomation } from 'dashboard/helper/validations';\n\nimport {\n  generateCustomAttributeTypes,\n  getActionOptions,\n  getConditionOptions,\n  getCustomAttributeInputType,\n  getOperatorTypes,\n  isACustomAttribute,\n  getFileName,\n  getDefaultConditions,\n  getDefaultActions,\n  filterCustomAttributes,\n  generateAutomationPayload,\n  getStandardAttributeInputType,\n  isCustomAttribute,\n  generateCustomAttributes,\n} from 'dashboard/helper/automationHelper';\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\n\nexport default {\n  computed: {\n    ...mapGetters({\n      agents: 'agents/getAgents',\n      campaigns: 'campaigns/getAllCampaigns',\n      contacts: 'contacts/getContacts',\n      inboxes: 'inboxes/getInboxes',\n      labels: 'labels/getLabels',\n      teams: 'teams/getTeams',\n      slaPolicies: 'sla/getSLA',\n    }),\n    booleanFilterOptions() {\n      return [\n        {\n          id: true,\n          name: this.$t('FILTER.ATTRIBUTE_LABELS.TRUE'),\n        },\n        {\n          id: false,\n          name: this.$t('FILTER.ATTRIBUTE_LABELS.FALSE'),\n        },\n      ];\n    },\n\n    statusFilterOptions() {\n      const statusFilters = this.$t('CHAT_LIST.CHAT_STATUS_FILTER_ITEMS');\n      return [\n        ...Object.keys(statusFilters).map(status => {\n          return {\n            id: status,\n            name: statusFilters[status].TEXT,\n          };\n        }),\n        {\n          id: 'all',\n          name: this.$t('CHAT_LIST.FILTER_ALL'),\n        },\n      ];\n    },\n  },\n  methods: {\n    getFileName,\n    onEventChange() {\n      this.automation.conditions = getDefaultConditions(\n        this.automation.event_name\n      );\n      this.automation.actions = getDefaultActions();\n    },\n    getAttributes(key) {\n      return this.automationTypes[key].conditions;\n    },\n    getInputType(key) {\n      const customAttribute = isACustomAttribute(this.allCustomAttributes, key);\n      if (customAttribute) {\n        return getCustomAttributeInputType(\n          customAttribute.attribute_display_type\n        );\n      }\n      const type = this.getAutomationType(key);\n      return type.inputType;\n    },\n    getOperators(key) {\n      if (this.mode === 'edit') {\n        const customAttribute = isACustomAttribute(\n          this.allCustomAttributes,\n          key\n        );\n        if (customAttribute) {\n          return getOperatorTypes(customAttribute.attribute_display_type);\n        }\n      }\n      const type = this.getAutomationType(key);\n      return type.filterOperators;\n    },\n    getAutomationType(key) {\n      return this.automationTypes[this.automation.event_name].conditions.find(\n        condition => condition.key === key\n      );\n    },\n    getCustomAttributeType(key) {\n      const type = this.automationTypes[\n        this.automation.event_name\n      ].conditions.find(i => i.key === key).customAttributeType;\n      return type;\n    },\n    getConditionDropdownValues(type) {\n      const {\n        agents,\n        allCustomAttributes: customAttributes,\n        booleanFilterOptions,\n        campaigns,\n        contacts,\n        inboxes,\n        statusFilterOptions,\n        teams,\n      } = this;\n      return getConditionOptions({\n        agents,\n        booleanFilterOptions,\n        campaigns,\n        contacts,\n        customAttributes,\n        inboxes,\n        statusFilterOptions,\n        teams,\n        languages,\n        countries,\n        type,\n      });\n    },\n    appendNewCondition() {\n      this.automation.conditions.push(\n        ...getDefaultConditions(this.automation.event_name)\n      );\n    },\n    appendNewAction() {\n      this.automation.actions.push(...getDefaultActions());\n    },\n    removeFilter(index) {\n      if (this.automation.conditions.length <= 1) {\n        useAlert(this.$t('AUTOMATION.CONDITION.DELETE_MESSAGE'));\n      } else {\n        this.automation.conditions.splice(index, 1);\n      }\n    },\n    removeAction(index) {\n      if (this.automation.actions.length <= 1) {\n        useAlert(this.$t('AUTOMATION.ACTION.DELETE_MESSAGE'));\n      } else {\n        this.automation.actions.splice(index, 1);\n      }\n    },\n    submitAutomation() {\n      // we assign it to this.errors so that it can be accessed in the template\n      // it is supposed to be declared in the data function\n      this.errors = validateAutomation(this.automation);\n      if (Object.keys(this.errors).length === 0) {\n        const automation = generateAutomationPayload(this.automation);\n        this.$emit('saveAutomation', automation, this.mode);\n      }\n    },\n    resetFilter(index, currentCondition) {\n      this.automation.conditions[index].filter_operator = this.automationTypes[\n        this.automation.event_name\n      ].conditions.find(\n        condition => condition.key === currentCondition.attribute_key\n      ).filterOperators[0].value;\n      this.automation.conditions[index].values = '';\n    },\n    showUserInput(type) {\n      return !(type === 'is_present' || type === 'is_not_present');\n    },\n    showActionInput(action) {\n      if (action === 'send_email_to_team' || action === 'send_message')\n        return false;\n      const type = this.automationActionTypes.find(\n        i => i.key === action\n      ).inputType;\n      return !!type;\n    },\n    resetAction(index) {\n      this.automation.actions[index].action_params = [];\n    },\n    manifestConditions(automation) {\n      const customAttributes = filterCustomAttributes(this.allCustomAttributes);\n      const conditions = automation.conditions.map(condition => {\n        const customAttr = isCustomAttribute(\n          customAttributes,\n          condition.attribute_key\n        );\n        let inputType = 'plain_text';\n        if (customAttr) {\n          inputType = getCustomAttributeInputType(customAttr.type);\n        } else {\n          inputType = getStandardAttributeInputType(\n            this.automationTypes,\n            automation.event_name,\n            condition.attribute_key\n          );\n        }\n        if (inputType === 'plain_text' || inputType === 'date') {\n          return {\n            ...condition,\n            values: condition.values[0],\n          };\n        }\n        if (inputType === 'comma_separated_plain_text') {\n          return {\n            ...condition,\n            values: condition.values.join(','),\n          };\n        }\n        return {\n          ...condition,\n          query_operator: condition.query_operator || 'and',\n          values: [\n            ...this.getConditionDropdownValues(condition.attribute_key),\n          ].filter(item => [...condition.values].includes(item.id)),\n        };\n      });\n      return conditions;\n    },\n    generateActionsArray(action) {\n      const params = action.action_params;\n      let actionParams = [];\n      const inputType = this.automationActionTypes.find(\n        item => item.key === action.action_name\n      ).inputType;\n      if (inputType === 'multi_select' || inputType === 'search_select') {\n        actionParams = [\n          ...this.getActionDropdownValues(action.action_name),\n        ].filter(item => [...params].includes(item.id));\n      } else if (inputType === 'team_message') {\n        actionParams = {\n          team_ids: [\n            ...this.getActionDropdownValues(action.action_name),\n          ].filter(item => [...params[0].team_ids].includes(item.id)),\n          message: params[0].message,\n        };\n      } else actionParams = [...params];\n      return actionParams;\n    },\n    manifestActions(automation) {\n      let actionParams = [];\n      const actions = automation.actions.map(action => {\n        if (action.action_params.length) {\n          actionParams = this.generateActionsArray(action);\n        }\n        return {\n          ...action,\n          action_params: actionParams,\n        };\n      });\n      return actions;\n    },\n    formatAutomation(automation) {\n      this.automation = {\n        ...automation,\n        conditions: this.manifestConditions(automation),\n        actions: this.manifestActions(automation),\n      };\n    },\n    getActionDropdownValues(type) {\n      const { agents, labels, teams, slaPolicies } = this;\n      return getActionOptions({\n        agents,\n        labels,\n        teams,\n        slaPolicies,\n        languages,\n        type,\n      });\n    },\n    manifestCustomAttributes() {\n      const conversationCustomAttributesRaw = this.$store.getters[\n        'attributes/getAttributesByModel'\n      ]('conversation_attribute');\n\n      const contactCustomAttributesRaw =\n        this.$store.getters['attributes/getAttributesByModel'](\n          'contact_attribute'\n        );\n      const conversationCustomAttributeTypes = generateCustomAttributeTypes(\n        conversationCustomAttributesRaw,\n        'conversation_attribute'\n      );\n      const contactCustomAttributeTypes = generateCustomAttributeTypes(\n        contactCustomAttributesRaw,\n        'contact_attribute'\n      );\n      let manifestedCustomAttributes = generateCustomAttributes(\n        conversationCustomAttributeTypes,\n        contactCustomAttributeTypes,\n        this.$t('AUTOMATION.CONDITION.CONVERSATION_CUSTOM_ATTR_LABEL'),\n        this.$t('AUTOMATION.CONDITION.CONTACT_CUSTOM_ATTR_LABEL')\n      );\n      this.automationTypes.message_created.conditions.push(\n        ...manifestedCustomAttributes\n      );\n      this.automationTypes.conversation_created.conditions.push(\n        ...manifestedCustomAttributes\n      );\n      this.automationTypes.conversation_updated.conditions.push(\n        ...manifestedCustomAttributes\n      );\n      this.automationTypes.conversation_opened.conditions.push(\n        ...manifestedCustomAttributes\n      );\n    },\n  },\n};\n","import {\n  OPERATOR_TYPES_1,\n  OPERATOR_TYPES_2,\n  OPERATOR_TYPES_3,\n  OPERATOR_TYPES_6,\n} from './operators';\n\nexport const AUTOMATIONS = {\n  message_created: {\n    conditions: [\n      {\n        key: 'message_type',\n        name: 'Message Type',\n        attributeI18nKey: 'MESSAGE_TYPE',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'content',\n        name: 'Message Content',\n        attributeI18nKey: 'MESSAGE_CONTAINS',\n        inputType: 'comma_separated_plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'email',\n        name: 'Email',\n        attributeI18nKey: 'EMAIL',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'inbox_id',\n        name: 'Inbox',\n        attributeI18nKey: 'INBOX',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'conversation_language',\n        name: 'Conversation Language',\n        attributeI18nKey: 'CONVERSATION_LANGUAGE',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'phone_number',\n        name: 'Phone Number',\n        attributeI18nKey: 'PHONE_NUMBER',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_6,\n      },\n    ],\n    actions: [\n      {\n        key: 'assign_agent',\n        name: 'Assign to agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'assign_team',\n        name: 'Assign a team',\n        attributeI18nKey: 'ASSIGN_TEAM',\n      },\n      {\n        key: 'add_label',\n        name: 'Add a label',\n        attributeI18nKey: 'ADD_LABEL',\n      },\n      {\n        key: 'remove_label',\n        name: 'Remove a label',\n        attributeI18nKey: 'REMOVE_LABEL',\n      },\n      {\n        key: 'send_email_to_team',\n        name: 'Send an email to team',\n        attributeI18nKey: 'SEND_EMAIL_TO_TEAM',\n      },\n      {\n        key: 'send_message',\n        name: 'Send a message',\n        attributeI18nKey: 'SEND_MESSAGE',\n      },\n      {\n        key: 'send_email_transcript',\n        name: 'Send an email transcript',\n        attributeI18nKey: 'SEND_EMAIL_TRANSCRIPT',\n      },\n      {\n        key: 'mute_conversation',\n        name: 'Mute conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'snooze_conversation',\n        name: 'Snooze conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n\n      {\n        key: 'resolve_conversation',\n        name: 'Resolve conversation',\n        attributeI18nKey: 'RESOLVE_CONVERSATION',\n      },\n      {\n        key: 'send_webhook_event',\n        name: 'Send Webhook Event',\n        attributeI18nKey: 'SEND_WEBHOOK_EVENT',\n      },\n      {\n        key: 'send_attachment',\n        name: 'Send Attachment',\n        attributeI18nKey: 'SEND_ATTACHMENT',\n      },\n    ],\n  },\n  conversation_created: {\n    conditions: [\n      {\n        key: 'status',\n        name: 'Status',\n        attributeI18nKey: 'STATUS',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'browser_language',\n        name: 'Browser Language',\n        attributeI18nKey: 'BROWSER_LANGUAGE',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'mail_subject',\n        name: 'Email Subject',\n        attributeI18nKey: 'MAIL_SUBJECT',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'country_code',\n        name: 'Country',\n        attributeI18nKey: 'COUNTRY_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'phone_number',\n        name: 'Phone Number',\n        attributeI18nKey: 'PHONE_NUMBER',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_6,\n      },\n      {\n        key: 'referer',\n        name: 'Referrer Link',\n        attributeI18nKey: 'REFERER_LINK',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'email',\n        name: 'Email',\n        attributeI18nKey: 'EMAIL',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'inbox_id',\n        name: 'Inbox',\n        attributeI18nKey: 'INBOX',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'conversation_language',\n        name: 'Conversation Language',\n        attributeI18nKey: 'CONVERSATION_LANGUAGE',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'priority',\n        name: 'Priority',\n        attributeI18nKey: 'PRIORITY',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n    ],\n    actions: [\n      {\n        key: 'assign_agent',\n        name: 'Assign to agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'assign_team',\n        name: 'Assign a team',\n        attributeI18nKey: 'ASSIGN_TEAM',\n      },\n      {\n        key: 'assign_agent',\n        name: 'Assign an agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'send_email_to_team',\n        name: 'Send an email to team',\n        attributeI18nKey: 'SEND_EMAIL_TO_TEAM',\n      },\n      {\n        key: 'send_message',\n        name: 'Send a message',\n        attributeI18nKey: 'SEND_MESSAGE',\n      },\n      {\n        key: 'send_email_transcript',\n        name: 'Send an email transcript',\n        attributeI18nKey: 'SEND_EMAIL_TRANSCRIPT',\n      },\n      {\n        key: 'mute_conversation',\n        name: 'Mute conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'snooze_conversation',\n        name: 'Snooze conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'resolve_conversation',\n        name: 'Resolve conversation',\n        attributeI18nKey: 'RESOLVE_CONVERSATION',\n      },\n      {\n        key: 'send_webhook_event',\n        name: 'Send Webhook Event',\n        attributeI18nKey: 'SEND_WEBHOOK_EVENT',\n      },\n      {\n        key: 'send_attachment',\n        name: 'Send Attachment',\n        attributeI18nKey: 'SEND_ATTACHMENT',\n      },\n    ],\n  },\n  conversation_updated: {\n    conditions: [\n      {\n        key: 'status',\n        name: 'Status',\n        attributeI18nKey: 'STATUS',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'browser_language',\n        name: 'Browser Language',\n        attributeI18nKey: 'BROWSER_LANGUAGE',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'mail_subject',\n        name: 'Email Subject',\n        attributeI18nKey: 'MAIL_SUBJECT',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'country_code',\n        name: 'Country',\n        attributeI18nKey: 'COUNTRY_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'referer',\n        name: 'Referrer Link',\n        attributeI18nKey: 'REFERER_LINK',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'phone_number',\n        name: 'Phone Number',\n        attributeI18nKey: 'PHONE_NUMBER',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_6,\n      },\n      {\n        key: 'assignee_id',\n        name: 'Assignee',\n        attributeI18nKey: 'ASSIGNEE_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_3,\n      },\n      {\n        key: 'team_id',\n        name: 'Team',\n        attributeI18nKey: 'TEAM_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_3,\n      },\n      {\n        key: 'email',\n        name: 'Email',\n        attributeI18nKey: 'EMAIL',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'inbox_id',\n        name: 'Inbox',\n        attributeI18nKey: 'INBOX',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'conversation_language',\n        name: 'Conversation Language',\n        attributeI18nKey: 'CONVERSATION_LANGUAGE',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'priority',\n        name: 'Priority',\n        attributeI18nKey: 'PRIORITY',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n    ],\n    actions: [\n      {\n        key: 'assign_agent',\n        name: 'Assign to agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'assign_team',\n        name: 'Assign a team',\n        attributeI18nKey: 'ASSIGN_TEAM',\n      },\n      {\n        key: 'assign_agent',\n        name: 'Assign an agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'send_email_to_team',\n        name: 'Send an email to team',\n        attributeI18nKey: 'SEND_EMAIL_TO_TEAM',\n      },\n      {\n        key: 'send_message',\n        name: 'Send a message',\n        attributeI18nKey: 'SEND_MESSAGE',\n      },\n      {\n        key: 'send_email_transcript',\n        name: 'Send an email transcript',\n        attributeI18nKey: 'SEND_EMAIL_TRANSCRIPT',\n      },\n      {\n        key: 'mute_conversation',\n        name: 'Mute conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'snooze_conversation',\n        name: 'Snooze conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'resolve_conversation',\n        name: 'Resolve conversation',\n        attributeI18nKey: 'RESOLVE_CONVERSATION',\n      },\n      {\n        key: 'send_webhook_event',\n        name: 'Send Webhook Event',\n        attributeI18nKey: 'SEND_WEBHOOK_EVENT',\n      },\n      {\n        key: 'send_attachment',\n        name: 'Send Attachment',\n        attributeI18nKey: 'SEND_ATTACHMENT',\n      },\n    ],\n  },\n  conversation_opened: {\n    conditions: [\n      {\n        key: 'browser_language',\n        name: 'Browser Language',\n        attributeI18nKey: 'BROWSER_LANGUAGE',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'email',\n        name: 'Email',\n        attributeI18nKey: 'EMAIL',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'mail_subject',\n        name: 'Email Subject',\n        attributeI18nKey: 'MAIL_SUBJECT',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'country_code',\n        name: 'Country',\n        attributeI18nKey: 'COUNTRY_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'referer',\n        name: 'Referrer Link',\n        attributeI18nKey: 'REFERER_LINK',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'assignee_id',\n        name: 'Assignee',\n        attributeI18nKey: 'ASSIGNEE_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_3,\n      },\n      {\n        key: 'phone_number',\n        name: 'Phone Number',\n        attributeI18nKey: 'PHONE_NUMBER',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_6,\n      },\n      {\n        key: 'team_id',\n        name: 'Team',\n        attributeI18nKey: 'TEAM_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_3,\n      },\n      {\n        key: 'inbox_id',\n        name: 'Inbox',\n        attributeI18nKey: 'INBOX',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'conversation_language',\n        name: 'Conversation Language',\n        attributeI18nKey: 'CONVERSATION_LANGUAGE',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'priority',\n        name: 'Priority',\n        attributeI18nKey: 'PRIORITY',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n    ],\n    actions: [\n      {\n        key: 'assign_agent',\n        name: 'Assign to agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'assign_team',\n        name: 'Assign a team',\n        attributeI18nKey: 'ASSIGN_TEAM',\n      },\n      {\n        key: 'assign_agent',\n        name: 'Assign an agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'send_email_to_team',\n        name: 'Send an email to team',\n        attributeI18nKey: 'SEND_EMAIL_TO_TEAM',\n      },\n      {\n        key: 'send_message',\n        name: 'Send a message',\n        attributeI18nKey: 'SEND_MESSAGE',\n      },\n      {\n        key: 'send_email_transcript',\n        name: 'Send an email transcript',\n        attributeI18nKey: 'SEND_EMAIL_TRANSCRIPT',\n      },\n      {\n        key: 'mute_conversation',\n        name: 'Mute conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'snooze_conversation',\n        name: 'Snooze conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'send_webhook_event',\n        name: 'Send Webhook Event',\n        attributeI18nKey: 'SEND_WEBHOOK_EVENT',\n      },\n      {\n        key: 'send_attachment',\n        name: 'Send Attachment',\n        attributeI18nKey: 'SEND_ATTACHMENT',\n      },\n    ],\n  },\n};\n\nexport const AUTOMATION_RULE_EVENTS = [\n  {\n    key: 'conversation_created',\n    value: 'Conversation Created',\n  },\n  {\n    key: 'conversation_updated',\n    value: 'Conversation Updated',\n  },\n  {\n    key: 'message_created',\n    value: 'Message Created',\n  },\n  {\n    key: 'conversation_opened',\n    value: 'Conversation Opened',\n  },\n];\n\nexport const AUTOMATION_ACTION_TYPES = [\n  {\n    key: 'assign_agent',\n    label: 'Assign to agent',\n    inputType: 'search_select',\n  },\n  {\n    key: 'assign_team',\n    label: 'Assign a team',\n    inputType: 'search_select',\n  },\n  {\n    key: 'add_label',\n    label: 'Add a label',\n    inputType: 'multi_select',\n  },\n  {\n    key: 'remove_label',\n    label: 'Remove a label',\n    inputType: 'multi_select',\n  },\n  {\n    key: 'send_email_to_team',\n    label: 'Send an email to team',\n    inputType: 'team_message',\n  },\n  {\n    key: 'send_email_transcript',\n    label: 'Send an email transcript',\n    inputType: 'email',\n  },\n  {\n    key: 'mute_conversation',\n    label: 'Mute conversation',\n    inputType: null,\n  },\n  {\n    key: 'snooze_conversation',\n    label: 'Snooze conversation',\n    inputType: null,\n  },\n  {\n    key: 'resolve_conversation',\n    label: 'Resolve conversation',\n    inputType: null,\n  },\n  {\n    key: 'send_webhook_event',\n    label: 'Send Webhook Event',\n    inputType: 'url',\n  },\n  {\n    key: 'send_attachment',\n    label: 'Send Attachment',\n    inputType: 'attachment',\n  },\n  {\n    key: 'send_message',\n    label: 'Send a message',\n    inputType: 'textarea',\n  },\n  {\n    key: 'change_priority',\n    label: 'Change Priority',\n    inputType: 'search_select',\n  },\n  {\n    key: 'add_sla',\n    label: 'Add SLA',\n    inputType: 'search_select',\n  },\n];\n","<template>\n  <div>\n    <woot-modal-header :header-title=\"$t('AUTOMATION.ADD.TITLE')\" />\n    <div class=\"flex flex-col modal-content\">\n      <div class=\"w-full\">\n        <woot-input\n          v-model=\"automation.name\"\n          :label=\"$t('AUTOMATION.ADD.FORM.NAME.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: errors.name }\"\n          :error=\"errors.name ? $t('AUTOMATION.ADD.FORM.NAME.ERROR') : ''\"\n          :placeholder=\"$t('AUTOMATION.ADD.FORM.NAME.PLACEHOLDER')\"\n        />\n        <woot-input\n          v-model=\"automation.description\"\n          :label=\"$t('AUTOMATION.ADD.FORM.DESC.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: errors.description }\"\n          :error=\"\n            errors.description ? $t('AUTOMATION.ADD.FORM.DESC.ERROR') : ''\n          \"\n          :placeholder=\"$t('AUTOMATION.ADD.FORM.DESC.PLACEHOLDER')\"\n        />\n        <div class=\"mb-6\">\n          <label :class=\"{ error: errors.event_name }\">\n            {{ $t('AUTOMATION.ADD.FORM.EVENT.LABEL') }}\n            <select\n              v-model=\"automation.event_name\"\n              class=\"m-0\"\n              @change=\"onEventChange()\"\n            >\n              <option\n                v-for=\"event in automationRuleEvents\"\n                :key=\"event.key\"\n                :value=\"event.key\"\n              >\n                {{ event.value }}\n              </option>\n            </select>\n            <span v-if=\"errors.event_name\" class=\"message\">\n              {{ $t('AUTOMATION.ADD.FORM.EVENT.ERROR') }}\n            </span>\n          </label>\n          <p\n            v-if=\"hasAutomationMutated\"\n            class=\"text-xs text-green-500 dark:text-green-500 text-right\"\n          >\n            {{ $t('AUTOMATION.FORM.RESET_MESSAGE') }}\n          </p>\n        </div>\n        <!-- // Conditions Start -->\n        <section>\n          <label>\n            {{ $t('AUTOMATION.ADD.FORM.CONDITIONS.LABEL') }}\n          </label>\n          <div\n            class=\"w-full p-4 mb-4 border border-solid rounded-lg bg-slate-25 dark:bg-slate-700 border-slate-50 dark:border-slate-700\"\n          >\n            <filter-input-box\n              v-for=\"(condition, i) in automation.conditions\"\n              :key=\"i\"\n              v-model=\"automation.conditions[i]\"\n              :filter-attributes=\"getAttributes(automation.event_name)\"\n              :input-type=\"getInputType(automation.conditions[i].attribute_key)\"\n              :operators=\"getOperators(automation.conditions[i].attribute_key)\"\n              :dropdown-values=\"\n                getConditionDropdownValues(\n                  automation.conditions[i].attribute_key\n                )\n              \"\n              :show-query-operator=\"i !== automation.conditions.length - 1\"\n              :custom-attribute-type=\"\n                getCustomAttributeType(automation.conditions[i].attribute_key)\n              \"\n              :error-message=\"\n                errors[`condition_${i}`]\n                  ? $t(`AUTOMATION.ERRORS.${errors[`condition_${i}`]}`)\n                  : ''\n              \"\n              @resetFilter=\"resetFilter(i, automation.conditions[i])\"\n              @removeFilter=\"removeFilter(i)\"\n            />\n            <div class=\"mt-4\">\n              <woot-button\n                icon=\"add\"\n                color-scheme=\"success\"\n                variant=\"smooth\"\n                size=\"small\"\n                @click=\"appendNewCondition\"\n              >\n                {{ $t('AUTOMATION.ADD.CONDITION_BUTTON_LABEL') }}\n              </woot-button>\n            </div>\n          </div>\n        </section>\n        <!-- // Conditions End -->\n        <!-- // Actions Start -->\n        <section>\n          <label>\n            {{ $t('AUTOMATION.ADD.FORM.ACTIONS.LABEL') }}\n          </label>\n          <div\n            class=\"w-full p-4 mb-4 border border-solid rounded-lg bg-slate-25 dark:bg-slate-700 border-slate-50 dark:border-slate-700\"\n          >\n            <automation-action-input\n              v-for=\"(action, i) in automation.actions\"\n              :key=\"i\"\n              v-model=\"automation.actions[i]\"\n              :action-types=\"automationActionTypes\"\n              :dropdown-values=\"\n                getActionDropdownValues(automation.actions[i].action_name)\n              \"\n              :show-action-input=\"\n                showActionInput(automation.actions[i].action_name)\n              \"\n              :error-message=\"\n                errors[`action_${i}`]\n                  ? $t(`AUTOMATION.ERRORS.${errors[`action_${i}`]}`)\n                  : ''\n              \"\n              @resetAction=\"resetAction(i)\"\n              @removeAction=\"removeAction(i)\"\n            />\n            <div class=\"mt-4\">\n              <woot-button\n                icon=\"add\"\n                color-scheme=\"success\"\n                variant=\"smooth\"\n                size=\"small\"\n                @click=\"appendNewAction\"\n              >\n                {{ $t('AUTOMATION.ADD.ACTION_BUTTON_LABEL') }}\n              </woot-button>\n            </div>\n          </div>\n        </section>\n        <!-- // Actions End -->\n        <div class=\"w-full\">\n          <div class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\">\n            <woot-button class=\"button clear\" @click.prevent=\"onClose\">\n              {{ $t('AUTOMATION.ADD.CANCEL_BUTTON_TEXT') }}\n            </woot-button>\n            <woot-button @click=\"submitAutomation\">\n              {{ $t('AUTOMATION.ADD.SUBMIT') }}\n            </woot-button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport automationMethodsMixin from 'dashboard/mixins/automations/methodsMixin';\nimport filterInputBox from 'dashboard/components/widgets/FilterInput/Index.vue';\nimport automationActionInput from 'dashboard/components/widgets/AutomationActionInput.vue';\n// import { useVuelidate } from '@vuelidate/core';\n\nimport {\n  AUTOMATION_RULE_EVENTS,\n  AUTOMATION_ACTION_TYPES,\n  AUTOMATIONS,\n} from './constants';\nexport default {\n  components: {\n    filterInputBox,\n    automationActionInput,\n  },\n  mixins: [automationMethodsMixin],\n  props: {\n    onClose: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      automationTypes: JSON.parse(JSON.stringify(AUTOMATIONS)),\n      automationRuleEvent: AUTOMATION_RULE_EVENTS[0].key,\n      automationRuleEvents: AUTOMATION_RULE_EVENTS,\n      automationMutated: false,\n      show: true,\n      automation: {\n        name: null,\n        description: null,\n        event_name: 'conversation_created',\n        conditions: [\n          {\n            attribute_key: 'status',\n            filter_operator: 'equal_to',\n            values: '',\n            query_operator: 'and',\n            custom_attribute_type: '',\n          },\n        ],\n        actions: [\n          {\n            action_name: 'assign_agent',\n            action_params: [],\n          },\n        ],\n      },\n      showDeleteConfirmationModal: false,\n      allCustomAttributes: [],\n      mode: 'create',\n      errors: {},\n    };\n  },\n  computed: {\n    ...mapGetters({\n      accountId: 'getCurrentAccountId',\n      isFeatureEnabledonAccount: 'accounts/isFeatureEnabledonAccount',\n    }),\n    hasAutomationMutated() {\n      if (\n        this.automation.conditions[0].values ||\n        this.automation.actions[0].action_params.length\n      )\n        return true;\n      return false;\n    },\n    automationActionTypes() {\n      const isSLAEnabled = this.isFeatureEnabled('sla');\n      return isSLAEnabled\n        ? AUTOMATION_ACTION_TYPES\n        : AUTOMATION_ACTION_TYPES.filter(action => action.key !== 'add_sla');\n    },\n  },\n  mounted() {\n    this.$store.dispatch('inboxes/get');\n    this.$store.dispatch('agents/get');\n    this.$store.dispatch('contacts/get');\n    this.$store.dispatch('teams/get');\n    this.$store.dispatch('labels/get');\n    this.$store.dispatch('campaigns/get');\n    this.allCustomAttributes = this.$store.getters['attributes/getAttributes'];\n    this.manifestCustomAttributes();\n  },\n  methods: {\n    isFeatureEnabled(flag) {\n      return this.isFeatureEnabledonAccount(this.accountId, flag);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAutomationRule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAutomationRule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddAutomationRule.vue?vue&type=template&id=814d03a0&\"\nimport script from \"./AddAutomationRule.vue?vue&type=script&lang=js&\"\nexport * from \"./AddAutomationRule.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('AUTOMATION.ADD.TITLE')}}),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col modal-content\"},[_c('div',{staticClass:\"w-full\"},[_c('woot-input',{class:{ error: _vm.errors.name },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.NAME.LABEL'),\"type\":\"text\",\"error\":_vm.errors.name ? _vm.$t('AUTOMATION.ADD.FORM.NAME.ERROR') : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.NAME.PLACEHOLDER')},model:{value:(_vm.automation.name),callback:function ($$v) {_vm.$set(_vm.automation, \"name\", $$v)},expression:\"automation.name\"}}),_vm._v(\" \"),_c('woot-input',{class:{ error: _vm.errors.description },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.DESC.LABEL'),\"type\":\"text\",\"error\":_vm.errors.description ? _vm.$t('AUTOMATION.ADD.FORM.DESC.ERROR') : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.DESC.PLACEHOLDER')},model:{value:(_vm.automation.description),callback:function ($$v) {_vm.$set(_vm.automation, \"description\", $$v)},expression:\"automation.description\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mb-6\"},[_c('label',{class:{ error: _vm.errors.event_name }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.automation.event_name),expression:\"automation.event_name\"}],staticClass:\"m-0\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.automation, \"event_name\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.onEventChange()}]}},_vm._l((_vm.automationRuleEvents),function(event){return _c('option',{key:event.key,domProps:{\"value\":event.key}},[_vm._v(\"\\n              \"+_vm._s(event.value)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.errors.event_name)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.ERROR'))+\"\\n          \")]):_vm._e()]),_vm._v(\" \"),(_vm.hasAutomationMutated)?_c('p',{staticClass:\"text-xs text-green-500 dark:text-green-500 text-right\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.FORM.RESET_MESSAGE'))+\"\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.CONDITIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 mb-4 border border-solid rounded-lg bg-slate-25 dark:bg-slate-700 border-slate-50 dark:border-slate-700\"},[_vm._l((_vm.automation.conditions),function(condition,i){return _c('filter-input-box',{key:i,attrs:{\"filter-attributes\":_vm.getAttributes(_vm.automation.event_name),\"input-type\":_vm.getInputType(_vm.automation.conditions[i].attribute_key),\"operators\":_vm.getOperators(_vm.automation.conditions[i].attribute_key),\"dropdown-values\":_vm.getConditionDropdownValues(\n                _vm.automation.conditions[i].attribute_key\n              ),\"show-query-operator\":i !== _vm.automation.conditions.length - 1,\"custom-attribute-type\":_vm.getCustomAttributeType(_vm.automation.conditions[i].attribute_key),\"error-message\":_vm.errors[`condition_${i}`]\n                ? _vm.$t(`AUTOMATION.ERRORS.${_vm.errors[`condition_${i}`]}`)\n                : ''},on:{\"resetFilter\":function($event){return _vm.resetFilter(i, _vm.automation.conditions[i])},\"removeFilter\":function($event){return _vm.removeFilter(i)}},model:{value:(_vm.automation.conditions[i]),callback:function ($$v) {_vm.$set(_vm.automation.conditions, i, $$v)},expression:\"automation.conditions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewCondition}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.CONDITION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.ACTIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 mb-4 border border-solid rounded-lg bg-slate-25 dark:bg-slate-700 border-slate-50 dark:border-slate-700\"},[_vm._l((_vm.automation.actions),function(action,i){return _c('automation-action-input',{key:i,attrs:{\"action-types\":_vm.automationActionTypes,\"dropdown-values\":_vm.getActionDropdownValues(_vm.automation.actions[i].action_name),\"show-action-input\":_vm.showActionInput(_vm.automation.actions[i].action_name),\"error-message\":_vm.errors[`action_${i}`]\n                ? _vm.$t(`AUTOMATION.ERRORS.${_vm.errors[`action_${i}`]}`)\n                : ''},on:{\"resetAction\":function($event){return _vm.resetAction(i)},\"removeAction\":function($event){return _vm.removeAction(i)}},model:{value:(_vm.automation.actions[i]),callback:function ($$v) {_vm.$set(_vm.automation.actions, i, $$v)},expression:\"automation.actions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewAction}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.ACTION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('woot-button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.CANCEL_BUTTON_TEXT'))+\"\\n          \")]),_vm._v(\" \"),_c('woot-button',{on:{\"click\":_vm.submitAutomation}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.SUBMIT'))+\"\\n          \")])],1)])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <woot-modal-header :header-title=\"$t('AUTOMATION.EDIT.TITLE')\" />\n    <div class=\"flex flex-col modal-content\">\n      <div v-if=\"automation\" class=\"w-full\">\n        <woot-input\n          v-model=\"automation.name\"\n          :label=\"$t('AUTOMATION.ADD.FORM.NAME.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: errors.name }\"\n          :error=\"errors.name ? $t('AUTOMATION.ADD.FORM.NAME.ERROR') : ''\"\n          :placeholder=\"$t('AUTOMATION.ADD.FORM.NAME.PLACEHOLDER')\"\n        />\n        <woot-input\n          v-model=\"automation.description\"\n          :label=\"$t('AUTOMATION.ADD.FORM.DESC.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: errors.description }\"\n          :error=\"\n            errors.description ? $t('AUTOMATION.ADD.FORM.DESC.ERROR') : ''\n          \"\n          :placeholder=\"$t('AUTOMATION.ADD.FORM.DESC.PLACEHOLDER')\"\n        />\n        <div class=\"event_wrapper\">\n          <label :class=\"{ error: errors.event_name }\">\n            {{ $t('AUTOMATION.ADD.FORM.EVENT.LABEL') }}\n            <select v-model=\"automation.event_name\" @change=\"onEventChange()\">\n              <option\n                v-for=\"event in automationRuleEvents\"\n                :key=\"event.key\"\n                :value=\"event.key\"\n              >\n                {{ event.value }}\n              </option>\n            </select>\n            <span v-if=\"errors.event_name\" class=\"message\">\n              {{ $t('AUTOMATION.ADD.FORM.EVENT.ERROR') }}\n            </span>\n          </label>\n        </div>\n        <!-- // Conditions Start -->\n        <section>\n          <label>\n            {{ $t('AUTOMATION.ADD.FORM.CONDITIONS.LABEL') }}\n          </label>\n          <div\n            class=\"w-full p-4 mb-4 border border-solid rounded-lg bg-slate-25 dark:bg-slate-700 border-slate-50 dark:border-slate-700\"\n          >\n            <filter-input-box\n              v-for=\"(condition, i) in automation.conditions\"\n              :key=\"i\"\n              v-model=\"automation.conditions[i]\"\n              :filter-attributes=\"getAttributes(automation.event_name)\"\n              :input-type=\"getInputType(automation.conditions[i].attribute_key)\"\n              :operators=\"getOperators(automation.conditions[i].attribute_key)\"\n              :dropdown-values=\"\n                getConditionDropdownValues(\n                  automation.conditions[i].attribute_key\n                )\n              \"\n              :custom-attribute-type=\"\n                getCustomAttributeType(automation.conditions[i].attribute_key)\n              \"\n              :show-query-operator=\"i !== automation.conditions.length - 1\"\n              :error-message=\"\n                errors[`condition_${i}`]\n                  ? $t(`AUTOMATION.ERRORS.${errors[`condition_${i}`]}`)\n                  : ''\n              \"\n              @resetFilter=\"resetFilter(i, automation.conditions[i])\"\n              @removeFilter=\"removeFilter(i)\"\n            />\n            <div class=\"mt-4\">\n              <woot-button\n                icon=\"add\"\n                color-scheme=\"success\"\n                variant=\"smooth\"\n                size=\"small\"\n                @click=\"appendNewCondition\"\n              >\n                {{ $t('AUTOMATION.ADD.CONDITION_BUTTON_LABEL') }}\n              </woot-button>\n            </div>\n          </div>\n        </section>\n        <!-- // Conditions End -->\n        <!-- // Actions Start -->\n        <section>\n          <label>\n            {{ $t('AUTOMATION.ADD.FORM.ACTIONS.LABEL') }}\n          </label>\n          <div\n            class=\"w-full p-4 mb-4 border border-solid rounded-lg bg-slate-25 dark:bg-slate-700 border-slate-50 dark:border-slate-700\"\n          >\n            <automation-action-input\n              v-for=\"(action, i) in automation.actions\"\n              :key=\"i\"\n              v-model=\"automation.actions[i]\"\n              :action-types=\"automationActionTypes\"\n              :dropdown-values=\"getActionDropdownValues(action.action_name)\"\n              :show-action-input=\"showActionInput(action.action_name)\"\n              :error-message=\"\n                errors[`action_${i}`]\n                  ? $t(`AUTOMATION.ERRORS.${errors[`action_${i}`]}`)\n                  : ''\n              \"\n              :initial-file-name=\"getFileName(action, automation.files)\"\n              @resetAction=\"resetAction(i)\"\n              @removeAction=\"removeAction(i)\"\n            />\n            <div class=\"mt-4\">\n              <woot-button\n                icon=\"add\"\n                color-scheme=\"success\"\n                variant=\"smooth\"\n                size=\"small\"\n                @click=\"appendNewAction\"\n              >\n                {{ $t('AUTOMATION.ADD.ACTION_BUTTON_LABEL') }}\n              </woot-button>\n            </div>\n          </div>\n        </section>\n        <!-- // Actions End -->\n        <div class=\"w-full\">\n          <div class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\">\n            <woot-button\n              class=\"button\"\n              variant=\"clear\"\n              @click.prevent=\"onClose\"\n            >\n              {{ $t('AUTOMATION.EDIT.CANCEL_BUTTON_TEXT') }}\n            </woot-button>\n            <woot-button @click=\"submitAutomation\">\n              {{ $t('AUTOMATION.EDIT.SUBMIT') }}\n            </woot-button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport automationMethodsMixin from 'dashboard/mixins/automations/methodsMixin';\nimport filterInputBox from 'dashboard/components/widgets/FilterInput/Index.vue';\nimport automationActionInput from 'dashboard/components/widgets/AutomationActionInput.vue';\n\nimport {\n  AUTOMATION_RULE_EVENTS,\n  AUTOMATION_ACTION_TYPES,\n  AUTOMATIONS,\n} from './constants';\n\nexport default {\n  components: {\n    filterInputBox,\n    automationActionInput,\n  },\n  mixins: [automationMethodsMixin],\n  props: {\n    onClose: {\n      type: Function,\n      default: () => {},\n    },\n    selectedResponse: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      automationTypes: JSON.parse(JSON.stringify(AUTOMATIONS)),\n      automationRuleEvent: AUTOMATION_RULE_EVENTS[0].key,\n      automationRuleEvents: AUTOMATION_RULE_EVENTS,\n      automationMutated: false,\n      show: true,\n      automation: null,\n      showDeleteConfirmationModal: false,\n      allCustomAttributes: [],\n      mode: 'edit',\n      errors: {},\n    };\n  },\n  computed: {\n    ...mapGetters({\n      accountId: 'getCurrentAccountId',\n      isFeatureEnabledonAccount: 'accounts/isFeatureEnabledonAccount',\n    }),\n    hasAutomationMutated() {\n      if (\n        this.automation.conditions[0].values ||\n        this.automation.actions[0].action_params.length\n      )\n        return true;\n      return false;\n    },\n    automationActionTypes() {\n      const isSLAEnabled = this.isFeatureEnabled('sla');\n      return isSLAEnabled\n        ? AUTOMATION_ACTION_TYPES\n        : AUTOMATION_ACTION_TYPES.filter(action => action.key !== 'add_sla');\n    },\n  },\n  mounted() {\n    this.manifestCustomAttributes();\n    this.allCustomAttributes = this.$store.getters['attributes/getAttributes'];\n    this.formatAutomation(this.selectedResponse);\n  },\n  methods: {\n    isFeatureEnabled(flag) {\n      return this.isFeatureEnabledonAccount(this.accountId, flag);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.event_wrapper {\n  select {\n    @apply m-0;\n  }\n  .info-message {\n    @apply text-xs text-green-500 dark:text-green-500 text-right;\n  }\n\n  @apply mb-6;\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAutomationRule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAutomationRule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditAutomationRule.vue?vue&type=template&id=49e4d2b0&scoped=true&\"\nimport script from \"./EditAutomationRule.vue?vue&type=script&lang=js&\"\nexport * from \"./EditAutomationRule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditAutomationRule.vue?vue&type=style&index=0&id=49e4d2b0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49e4d2b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('AUTOMATION.EDIT.TITLE')}}),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col modal-content\"},[(_vm.automation)?_c('div',{staticClass:\"w-full\"},[_c('woot-input',{class:{ error: _vm.errors.name },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.NAME.LABEL'),\"type\":\"text\",\"error\":_vm.errors.name ? _vm.$t('AUTOMATION.ADD.FORM.NAME.ERROR') : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.NAME.PLACEHOLDER')},model:{value:(_vm.automation.name),callback:function ($$v) {_vm.$set(_vm.automation, \"name\", $$v)},expression:\"automation.name\"}}),_vm._v(\" \"),_c('woot-input',{class:{ error: _vm.errors.description },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.DESC.LABEL'),\"type\":\"text\",\"error\":_vm.errors.description ? _vm.$t('AUTOMATION.ADD.FORM.DESC.ERROR') : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.DESC.PLACEHOLDER')},model:{value:(_vm.automation.description),callback:function ($$v) {_vm.$set(_vm.automation, \"description\", $$v)},expression:\"automation.description\"}}),_vm._v(\" \"),_c('div',{staticClass:\"event_wrapper\"},[_c('label',{class:{ error: _vm.errors.event_name }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.automation.event_name),expression:\"automation.event_name\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.automation, \"event_name\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.onEventChange()}]}},_vm._l((_vm.automationRuleEvents),function(event){return _c('option',{key:event.key,domProps:{\"value\":event.key}},[_vm._v(\"\\n              \"+_vm._s(event.value)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.errors.event_name)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.CONDITIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 mb-4 border border-solid rounded-lg bg-slate-25 dark:bg-slate-700 border-slate-50 dark:border-slate-700\"},[_vm._l((_vm.automation.conditions),function(condition,i){return _c('filter-input-box',{key:i,attrs:{\"filter-attributes\":_vm.getAttributes(_vm.automation.event_name),\"input-type\":_vm.getInputType(_vm.automation.conditions[i].attribute_key),\"operators\":_vm.getOperators(_vm.automation.conditions[i].attribute_key),\"dropdown-values\":_vm.getConditionDropdownValues(\n                _vm.automation.conditions[i].attribute_key\n              ),\"custom-attribute-type\":_vm.getCustomAttributeType(_vm.automation.conditions[i].attribute_key),\"show-query-operator\":i !== _vm.automation.conditions.length - 1,\"error-message\":_vm.errors[`condition_${i}`]\n                ? _vm.$t(`AUTOMATION.ERRORS.${_vm.errors[`condition_${i}`]}`)\n                : ''},on:{\"resetFilter\":function($event){return _vm.resetFilter(i, _vm.automation.conditions[i])},\"removeFilter\":function($event){return _vm.removeFilter(i)}},model:{value:(_vm.automation.conditions[i]),callback:function ($$v) {_vm.$set(_vm.automation.conditions, i, $$v)},expression:\"automation.conditions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewCondition}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.CONDITION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.ACTIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 mb-4 border border-solid rounded-lg bg-slate-25 dark:bg-slate-700 border-slate-50 dark:border-slate-700\"},[_vm._l((_vm.automation.actions),function(action,i){return _c('automation-action-input',{key:i,attrs:{\"action-types\":_vm.automationActionTypes,\"dropdown-values\":_vm.getActionDropdownValues(action.action_name),\"show-action-input\":_vm.showActionInput(action.action_name),\"error-message\":_vm.errors[`action_${i}`]\n                ? _vm.$t(`AUTOMATION.ERRORS.${_vm.errors[`action_${i}`]}`)\n                : '',\"initial-file-name\":_vm.getFileName(action, _vm.automation.files)},on:{\"resetAction\":function($event){return _vm.resetAction(i)},\"removeAction\":function($event){return _vm.removeAction(i)}},model:{value:(_vm.automation.actions[i]),callback:function ($$v) {_vm.$set(_vm.automation.actions, i, $$v)},expression:\"automation.actions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewAction}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.ACTION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('woot-button',{staticClass:\"button\",attrs:{\"variant\":\"clear\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.EDIT.CANCEL_BUTTON_TEXT'))+\"\\n          \")]),_vm._v(\" \"),_c('woot-button',{on:{\"click\":_vm.submitAutomation}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.EDIT.SUBMIT'))+\"\\n          \")])],1)])],1):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex-1 p-4 overflow-auto\">\n    <woot-button\n      color-scheme=\"success\"\n      class-names=\"button--fixed-top\"\n      icon=\"add-circle\"\n      @click=\"openAddPopup()\"\n    >\n      {{ $t('AUTOMATION.HEADER_BTN_TXT') }}\n    </woot-button>\n    <div class=\"flex flex-row gap-4\">\n      <div class=\"w-full lg:w-3/5\">\n        <p\n          v-if=\"!uiFlags.isFetching && !records.length\"\n          class=\"flex flex-col items-center justify-center h-full\"\n        >\n          {{ $t('AUTOMATION.LIST.404') }}\n        </p>\n        <woot-loading-state\n          v-if=\"uiFlags.isFetching\"\n          :message=\"$t('AUTOMATION.LOADING')\"\n        />\n        <table v-if=\"!uiFlags.isFetching && records.length\" class=\"woot-table\">\n          <thead>\n            <th\n              v-for=\"thHeader in $t('AUTOMATION.LIST.TABLE_HEADER')\"\n              :key=\"thHeader\"\n            >\n              {{ thHeader }}\n            </th>\n          </thead>\n          <tbody>\n            <tr v-for=\"(automation, index) in records\" :key=\"index\">\n              <td>{{ automation.name }}</td>\n              <td>{{ automation.description }}</td>\n              <td>\n                <woot-switch\n                  :value=\"automation.active\"\n                  @input=\"toggleAutomation(automation, automation.active)\"\n                />\n              </td>\n              <td>{{ readableTime(automation.created_on) }}</td>\n              <td class=\"button-wrapper\">\n                <woot-button\n                  v-tooltip.top=\"$t('AUTOMATION.FORM.EDIT')\"\n                  variant=\"smooth\"\n                  size=\"tiny\"\n                  color-scheme=\"secondary\"\n                  class-names=\"grey-btn\"\n                  :is-loading=\"loading[automation.id]\"\n                  icon=\"edit\"\n                  @click=\"openEditPopup(automation)\"\n                />\n                <woot-button\n                  v-tooltip.top=\"$t('AUTOMATION.CLONE.TOOLTIP')\"\n                  variant=\"smooth\"\n                  size=\"tiny\"\n                  color-scheme=\"primary\"\n                  class-names=\"grey-btn\"\n                  :is-loading=\"loading[automation.id]\"\n                  icon=\"copy\"\n                  @click=\"cloneAutomation(automation.id)\"\n                />\n                <woot-button\n                  v-tooltip.top=\"$t('AUTOMATION.FORM.DELETE')\"\n                  variant=\"smooth\"\n                  color-scheme=\"alert\"\n                  size=\"tiny\"\n                  icon=\"dismiss-circle\"\n                  class-names=\"grey-btn\"\n                  :is-loading=\"loading[automation.id]\"\n                  @click=\"openDeletePopup(automation, index)\"\n                />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div class=\"hidden w-1/3 lg:block\">\n        <span v-dompurify-html=\"$t('AUTOMATION.SIDEBAR_TXT')\" />\n      </div>\n    </div>\n    <woot-modal\n      :show.sync=\"showAddPopup\"\n      size=\"medium\"\n      :on-close=\"hideAddPopup\"\n    >\n      <add-automation-rule\n        v-if=\"showAddPopup\"\n        :on-close=\"hideAddPopup\"\n        @saveAutomation=\"submitAutomation\"\n      />\n    </woot-modal>\n\n    <woot-delete-modal\n      :show.sync=\"showDeleteConfirmationPopup\"\n      :on-close=\"closeDeletePopup\"\n      :on-confirm=\"confirmDeletion\"\n      :title=\"$t('LABEL_MGMT.DELETE.CONFIRM.TITLE')\"\n      :message=\"$t('AUTOMATION.DELETE.CONFIRM.MESSAGE')\"\n      :message-value=\"deleteMessage\"\n      :confirm-text=\"deleteConfirmText\"\n      :reject-text=\"deleteRejectText\"\n    />\n\n    <woot-modal\n      :show.sync=\"showEditPopup\"\n      size=\"medium\"\n      :on-close=\"hideEditPopup\"\n    >\n      <edit-automation-rule\n        v-if=\"showEditPopup\"\n        :on-close=\"hideEditPopup\"\n        :selected-response=\"selectedResponse\"\n        @saveAutomation=\"submitAutomation\"\n      />\n    </woot-modal>\n    <woot-confirm-modal\n      ref=\"confirmDialog\"\n      :title=\"toggleModalTitle\"\n      :description=\"toggleModalDescription\"\n    />\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport { messageStamp } from 'shared/helpers/timeHelper';\nimport AddAutomationRule from './AddAutomationRule.vue';\nimport EditAutomationRule from './EditAutomationRule.vue';\n\nexport default {\n  components: {\n    AddAutomationRule,\n    EditAutomationRule,\n  },\n  data() {\n    return {\n      loading: {},\n      showAddPopup: false,\n      showEditPopup: false,\n      showDeleteConfirmationPopup: false,\n      selectedResponse: {},\n      toggleModalTitle: this.$t('AUTOMATION.TOGGLE.ACTIVATION_TITLE'),\n      toggleModalDescription: this.$t(\n        'AUTOMATION.TOGGLE.ACTIVATION_DESCRIPTION'\n      ),\n    };\n  },\n  computed: {\n    ...mapGetters({\n      records: ['automations/getAutomations'],\n      uiFlags: 'automations/getUIFlags',\n      accountId: 'getCurrentAccountId',\n      isFeatureEnabledonAccount: 'accounts/isFeatureEnabledonAccount',\n    }),\n    // Delete Modal\n    deleteConfirmText() {\n      return `${this.$t('AUTOMATION.DELETE.CONFIRM.YES')} ${\n        this.selectedResponse.name\n      }`;\n    },\n    deleteRejectText() {\n      return `${this.$t('AUTOMATION.DELETE.CONFIRM.NO')} ${\n        this.selectedResponse.name\n      }`;\n    },\n    deleteMessage() {\n      return ` ${this.selectedResponse.name}?`;\n    },\n    isSLAEnabled() {\n      return this.isFeatureEnabledonAccount(this.accountId, 'sla');\n    },\n  },\n  mounted() {\n    this.$store.dispatch('inboxes/get');\n    this.$store.dispatch('agents/get');\n    this.$store.dispatch('contacts/get');\n    this.$store.dispatch('teams/get');\n    this.$store.dispatch('labels/get');\n    this.$store.dispatch('campaigns/get');\n    this.$store.dispatch('automations/get');\n    if (this.isSLAEnabled) this.$store.dispatch('sla/get');\n  },\n  methods: {\n    openAddPopup() {\n      this.showAddPopup = true;\n    },\n    hideAddPopup() {\n      this.showAddPopup = false;\n    },\n    openEditPopup(response) {\n      this.selectedResponse = response;\n      this.showEditPopup = true;\n    },\n    hideEditPopup() {\n      this.showEditPopup = false;\n    },\n    openDeletePopup(response) {\n      this.showDeleteConfirmationPopup = true;\n      this.selectedResponse = response;\n    },\n    closeDeletePopup() {\n      this.showDeleteConfirmationPopup = false;\n    },\n    confirmDeletion() {\n      this.loading[this.selectedResponse.id] = true;\n      this.closeDeletePopup();\n      this.deleteAutomation(this.selectedResponse.id);\n    },\n    async deleteAutomation(id) {\n      try {\n        await this.$store.dispatch('automations/delete', id);\n        useAlert(this.$t('AUTOMATION.DELETE.API.SUCCESS_MESSAGE'));\n        this.loading[this.selectedResponse.id] = false;\n      } catch (error) {\n        useAlert(this.$t('AUTOMATION.DELETE.API.ERROR_MESSAGE'));\n      }\n    },\n    async cloneAutomation(id) {\n      try {\n        await this.$store.dispatch('automations/clone', id);\n        useAlert(this.$t('AUTOMATION.CLONE.API.SUCCESS_MESSAGE'));\n        this.$store.dispatch('automations/get');\n        this.loading[this.selectedResponse.id] = false;\n      } catch (error) {\n        useAlert(this.$t('AUTOMATION.CLONE.API.ERROR_MESSAGE'));\n      }\n    },\n    async submitAutomation(payload, mode) {\n      try {\n        const action =\n          mode === 'edit' ? 'automations/update' : 'automations/create';\n        const successMessage =\n          mode === 'edit'\n            ? this.$t('AUTOMATION.EDIT.API.SUCCESS_MESSAGE')\n            : this.$t('AUTOMATION.ADD.API.SUCCESS_MESSAGE');\n        await this.$store.dispatch(action, payload);\n        useAlert(successMessage);\n        this.hideAddPopup();\n        this.hideEditPopup();\n      } catch (error) {\n        const errorMessage =\n          mode === 'edit'\n            ? this.$t('AUTOMATION.EDIT.API.ERROR_MESSAGE')\n            : this.$t('AUTOMATION.ADD.API.ERROR_MESSAGE');\n        useAlert(errorMessage);\n      }\n    },\n    async toggleAutomation(automation, status) {\n      try {\n        this.toggleModalTitle = status\n          ? this.$t('AUTOMATION.TOGGLE.DEACTIVATION_TITLE')\n          : this.$t('AUTOMATION.TOGGLE.ACTIVATION_TITLE');\n        this.toggleModalDescription = status\n          ? this.$t('AUTOMATION.TOGGLE.DEACTIVATION_DESCRIPTION', {\n              automationName: automation.name,\n            })\n          : this.$t('AUTOMATION.TOGGLE.ACTIVATION_DESCRIPTION', {\n              automationName: automation.name,\n            });\n        // Check if user confirms to proceed\n        const ok = await this.$refs.confirmDialog.showConfirmation();\n        if (ok) {\n          await await this.$store.dispatch('automations/update', {\n            id: automation.id,\n            active: !status,\n          });\n          const message = status\n            ? this.$t('AUTOMATION.TOGGLE.DEACTIVATION_SUCCESFUL')\n            : this.$t('AUTOMATION.TOGGLE.ACTIVATION_SUCCESFUL');\n          useAlert(message);\n        }\n      } catch (error) {\n        useAlert(this.$t('AUTOMATION.EDIT.API.ERROR_MESSAGE'));\n      }\n    },\n    readableTime(date) {\n      return messageStamp(new Date(date), 'LLL d, h:mm a');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=08a69a24&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}