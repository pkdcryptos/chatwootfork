(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{2089:function(n,t,r){"use strict";var e=r(22),o=r(956);e({target:"String",proto:!0,forced:r(957)("link")},{link:function(n){return o(this,"a","href",n)}})},279:function(n,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return M})),r.d(t,"c",(function(){return e})),r.d(t,"d",(function(){return F})),r.d(t,"e",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"g",(function(){return g})),r.d(t,"h",(function(){return f})),r.d(t,"i",(function(){return b})),r.d(t,"j",(function(){return c})),r.d(t,"k",(function(){return _})),r.d(t,"l",(function(){return u}));var e=function(n,t,r){var e;return function(){var o=null,i=arguments,u=function(){e=null,r||n.apply(o,i)},a=r&&!e;clearTimeout(e),e=window.setTimeout(u,t),a&&n.apply(o,i)}},o=function(n){var t=n.replace("#","");return.299*parseInt(t.slice(0,2),16)+.587*parseInt(t.slice(2,4),16)+.114*parseInt(t.slice(4,6),16)>186?"#000000":"#FFFFFF"},i=function(n){var t="";if(n>=60&&n<3600){var r=Math.floor(n/60);t=r+" Min";var e=60===r?0:Math.floor(n%60);return t+(e>0?" "+e+" Sec":"")}if(n>=3600&&n<86400){var o=Math.floor(n/3600);t=o+" Hr";var i=n%3600<60||24===o?0:Math.floor(n%3600/60);return t+(i>0?" "+i+" Min":"")}if(n>=86400){var u=Math.floor(n/86400);t=u+" Day";var a=n%86400<3600||u>=364?0:Math.floor(n%86400/3600);return t+(a>0?" "+a+" Hr":"")}return Math.floor(n)+" Sec"},u=function(n,t,r){void 0===n&&(n=""),void 0===t&&(t=1024),void 0===r&&(r=!1);var e=n;return n.length>t&&(e=n.substring(0,t)),r&&(e+="..."),e},a=function(n,t){return null===n||0===n?{time:"",unit:""}:n<3600?{time:Number((n/60).toFixed(1)),unit:t.minute}:n<86400?{time:Number((n/3600).toFixed(1)),unit:t.hour}:{time:Number((n/86400).toFixed(1)),unit:t.day}};function c(n){try{var t=String(n).toLowerCase();return Boolean(JSON.parse(t))}catch(r){return!1}}function l(n){return n.slice().sort((function(n,t){return n-t}))}function s(n,t){var r,e,o,i=(e=1,(o=t)<(r=0)?r:o>e?e:o),u=(n.length-1)*i,a=Math.floor(u),c=u-a;return void 0!==n[a+1]?n[a]+c*(n[a+1]-n[a]):n[a]}var f=function(n,t){var r=l(n);return t.map((function(n){return s(r,n)}))};function d(){return d=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},d.apply(this,arguments)}var h=/{{(.*?)}}/g,v=function(n){return(n||"").replace(/\b(\w)/g,(function(n){return n.toUpperCase()}))},m=function(n){var t=n.user,r=null!=t&&t.name?t.name.split(" ").shift():"";return v(r)},p=function(n){var t=n.user;if(t&&t.name){var r=t.name.split(" ").length>1?t.name.split(" ").pop():"";return v(r)}return""},g=function(n){var t,r=n.conversation,e=n.contact,o=r.meta,i=o.assignee,u=o.sender,a=r.id,c=r.custom_attributes,l=void 0===c?{}:c,s=(e||{}).custom_attributes;return d({},{"contact.name":v((null==u?void 0:u.name)||""),"contact.first_name":m({user:u}),"contact.last_name":p({user:u}),"contact.email":null==u?void 0:u.email,"contact.phone":null==u?void 0:u.phone_number,"contact.id":null==u?void 0:u.id,"conversation.id":a,"agent.name":v((null==i?void 0:i.name)||""),"agent.first_name":m({user:i}),"agent.last_name":p({user:i}),"agent.email":null!=(t=null==i?void 0:i.email)?t:""},Object.entries(null!=l?l:{}).reduce((function(n,t){var r=t[0],e=t[1];return n["conversation.custom_attribute."+r]=e,n}),{}),Object.entries(null!=s?s:{}).reduce((function(n,t){var r=t[0],e=t[1];return n["contact.custom_attribute."+r]=e,n}),{}))},_=function(n){var t=n.message,r=n.variables;return null==t?void 0:t.replace(h,(function(n,t){return r[t.trim()]?r[t.trim().toLowerCase()]:""}))},b=function(n){var t=n.message,r=n.variables,e=t.replace(/```(?:.|\n)+?```/g,"").match(h);return e?e.map((function(n){return n.replace("{{","").replace("}}","").trim()})).filter((function(n){return void 0===r[n]})):[]},M=function(n,t,r){var e=null,o=function(){e&&(clearTimeout(e),e=null,t())},i=function(){e&&clearTimeout(e),e=setTimeout((function(){o()}),r)};return{start:function(){e||n(),i()},stop:o}},y=function(n,t){return null===t?null:n+t-Math.floor(Date.now()/1e3)},w=function(n){var t={y:31536e3,mo:2592e3,d:86400,h:3600,m:60};if(n<60)return"1m";var r=[];return Object.keys(t).forEach((function(e){var o=Math.floor(n/t[e]);n<60&&r.length>0||2!==r.length&&o>0&&(r.push(o+e),n-=o*t[e])})),r.join(" ")},S=function(n,t){return["FRT","NRT","RT"].map((function(r){return function(n,t,r){var e=t.sla_first_response_time_threshold,o=t.sla_next_response_time_threshold,i=t.sla_resolution_time_threshold,u=t.created_at,a=r.first_reply_created_at,c=r.waiting_since,l=r.status,s={FRT:{threshold:y(u,e),condition:null!==e&&(!a||0===a)},NRT:{threshold:y(c,o),condition:null!==o&&!!a&&!!c},RT:{threshold:y(u,i),condition:"open"===l&&null!==i}}[n];return s?d({},s,{type:n}):null}(r,n,t)})).filter((function(n){return!!n&&n.condition})).map((function(n){return d({},n,{icon:n.threshold<=0?"flame":"alarm",isSlaMissed:n.threshold<=0})}))},F=function(n){var t=n.appliedSla,r=n.chat;if(!t||!r)return{type:"",threshold:"",icon:"",isSlaMissed:!1};var e=function(n){return n.sort((function(n,t){return Math.abs(n.threshold)-Math.abs(t.threshold)})),n[0]}(S(t,r));return e?{type:null==e?void 0:e.type,threshold:w(e.threshold<=0?-e.threshold:e.threshold),icon:e.icon,isSlaMissed:e.isSlaMissed}:{type:"",threshold:"",icon:"",isSlaMissed:!1}}},600:function(n,t,r){"use strict";var e=r(22),o=r(217).trim;e({target:"String",proto:!0,forced:r(742)("trim")},{trim:function(){return o(this)}})},742:function(n,t,r){var e=r(19),o=r(244);n.exports=function(n){return e((function(){return!!o[n]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[n]()||o[n].name!==n}))}},956:function(n,t,r){var e=r(61),o=/"/g;n.exports=function(n,t,r,i){var u=String(e(n)),a="<"+t;return""!==r&&(a+=" "+r+'="'+String(i).replace(o,"&quot;")+'"'),a+">"+u+"</"+t+">"}},957:function(n,t,r){var e=r(19);n.exports=function(n){return e((function(){var t=""[n]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}}}]);
//# sourceMappingURL=73-cdd0b9e1c98eff157ac3.chunk.js.map