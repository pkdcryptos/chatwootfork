(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1449:function(t,e,r){"use strict";var n=r(541),s=(window.chatwootConfig||{}).apiHost,a=void 0===s?"":s,o=n.a.create({baseURL:"".concat(a,"/")});e.a=o},1453:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return l})),r.d(e,"e",(function(){return d})),r.d(e,"d",(function(){return p})),r.d(e,"c",(function(){return f}));r(600),r(9),r(24),r(26),r(11),r(37);var n=r(54),s=r(1449),a=r(381);function o(t,e){if(null==t)return{};var r,n,s=function(t,e){if(null==t)return{};var r,n,s={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(s[r]=t[r]);return s}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function i(t,e,r,n,s,a,o){try{var i=t[a](o),c=i.value}catch(u){return void r(u)}i.done?e(c):Promise.resolve(c).then(n,s)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,s){var a=t.apply(e,r);function o(t){i(a,n,s,o,c,"next",t)}function c(t){i(a,n,s,o,c,"throw",t)}o(void 0)}))}}var u=function(){var t=c(regeneratorRuntime.mark((function t(e){var r,i,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.ssoAccountId,i=e.ssoConversationId,c=o(e,["ssoAccountId","ssoConversationId"]),t.prev=1,t.next=4,s.a.post("auth/sign_in",c);case 4:u=t.sent,Object(n.g)(u),Object(n.c)(),window.location=Object(a.a)({ssoAccountId:r,ssoConversationId:i,user:u.data.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),Object(n.i)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=c(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.post("api/v1/accounts.json",{account_name:e.accountName.trim(),user_full_name:e.fullName.trim(),email:e.email,password:e.password,h_captcha_client_response:e.hCaptchaClientResponse});case 3:return r=t.sent,Object(n.g)(r),t.abrupt("return",r.data);case 8:t.prev=8,t.t0=t.catch(0),Object(n.i)(t.t0);case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=c(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.confirmationToken,t.prev=1,t.next=4,s.a.post("auth/confirmation",{confirmation_token:r});case 4:a=t.sent,Object(n.g)(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(n.i)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=c(regeneratorRuntime.mark((function t(e){var r,a,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.resetPasswordToken,a=e.password,o=e.confirmPassword,t.prev=1,t.next=4,s.a.put("auth/password",{reset_password_token:r,password_confirmation:o,password:a});case 4:i=t.sent,Object(n.g)(i),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(n.i)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=c(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.email,t.abrupt("return",s.a.post("auth/password",{email:r}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},1455:function(t,e,r){"use strict";var n={props:{label:{type:String,default:""},name:{type:String,required:!0},icon:{type:String,default:""},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:""}}},s=r(8),a=Object(s.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"space-y-1"},[t.label?e("label",{staticClass:"flex justify-between text-sm font-medium leading-6 text-slate-900 dark:text-white",class:{"text-red-500":t.hasError},attrs:{for:t.name}},[t._t("label",(function(){return[t._v("\n      "+t._s(t.label)+"\n    ")]})),t._v(" "),t._t("rightOfLabel")],2):t._e(),t._v(" "),e("div",{staticClass:"w-full"},[e("div",{staticClass:"flex items-center relative w-full"},[t.icon?e("fluent-icon",{staticClass:"absolute left-2 transform text-slate-400 dark:text-slate-600 w-5 h-5",attrs:{size:"16",icon:t.icon}}):t._e(),t._v(" "),t._t("default")],2),t._v(" "),t.errorMessage&&t.hasError?e("span",{staticClass:"text-xs text-red-400 leading-2"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")]):t._e()])])}),[],!1,null,null,null);e.a=a.exports},1496:function(t,e,r){"use strict";r(51);var n={components:{Spinner:r(191).a},props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},buttonText:{type:String,default:""},buttonClass:{type:String,default:""},iconClass:{type:String,default:""},type:{type:String,default:"submit"}},computed:{computedClass:function(){return"\n        ".concat(this.disabled?"opacity-40 hover:bg-woot-500":"","\n        ").concat(this.buttonClass||" ","\n      ")}},methods:{onClick:function(){this.$emit("click")}}},s=r(8),a=Object(s.a)(n,(function(){var t=this,e=t._self._c;return e("button",{staticClass:"flex items-center w-full justify-center rounded-md bg-woot-500 py-3 px-3 text-base font-medium text-white shadow-sm hover:bg-woot-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-woot-500 cursor-pointer",class:t.computedClass,attrs:{type:t.type,"data-testid":"submit_button",disabled:t.disabled},on:{click:t.onClick}},[e("span",[t._v(t._s(t.buttonText))]),t._v(" "),t.iconClass?e("fluent-icon",{staticClass:"icon",attrs:{icon:t.iconClass}}):t._e(),t._v(" "),t.loading?e("spinner"):t._e()],1)}),[],!1,null,null,null);e.a=a.exports},1497:function(t,e,r){"use strict";r(57),r(80);var n={components:{WithLabel:r(1455).a},props:{label:{type:String,default:""},name:{type:String,required:!0},type:{type:String,default:"text"},tabindex:{type:Number,default:void 0},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},value:{type:[String,Number],default:""},icon:{type:String,default:""},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:""},dataTestid:{type:String,default:""},spacing:{type:String,default:"base",validator:function(t){return["base","compact"].includes(t)}}},methods:{onInput:function(t){this.$emit("input",t.target.value)}}},s=r(8),a=Object(s.a)(n,(function(){var t=this,e=t._self._c;return e("with-label",{attrs:{label:t.label,icon:t.icon,name:t.name,"has-error":t.hasError,"error-message":t.errorMessage},scopedSlots:t._u([{key:"rightOfLabel",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)},[t._v(" "),e("input",{staticClass:"block w-full border-none rounded-md shadow-sm appearance-none outline outline-1 focus:outline-2 text-slate-900 dark:text-slate-100 placeholder:text-slate-400 sm:text-sm sm:leading-6 dark:bg-slate-800",class:{"focus:outline-red-600 outline-red-600 dark:focus:outline-red-600 dark:outline-red-600":t.hasError,"outline-slate-200 dark:outline-slate-600 dark:focus:outline-woot-500 focus:outline-woot-500":!t.hasError,"px-3 py-3":"base"===t.spacing,"px-3 py-2 mb-0":"compact"===t.spacing,"pl-9":t.icon},attrs:{id:t.name,name:t.name,type:t.type,autocomplete:"off",tabindex:t.tabindex,required:t.required,placeholder:t.placeholder,"data-testid":t.dataTestid},domProps:{value:t.value},on:{input:t.onInput,blur:function(e){return t.$emit("blur")}}})])}),[],!1,null,null,null);e.a=a.exports},191:function(t,e,r){"use strict";var n={props:{size:{type:String,default:"small"},colorScheme:{type:String,default:""}},computed:{colorSchemeClasses:function(){return"primary"===this.colorScheme?"before:!border-t-woot-500":"warning"===this.colorScheme?"before:!border-t-yellow-500":"success"===this.colorScheme?"before:!border-t-success-500":this.colorScheme}}},s=(r(370),r(8)),a=Object(s.a)(n,(function(){var t=this;return(0,t._self._c)("span",{staticClass:"spinner",class:`${t.size} ${t.colorSchemeClasses}`})}),[],!1,null,"25f4edd6",null);e.a=a.exports},2174:function(t,e,r){"use strict";r.r(e);var n=r(129),s=r(69),a=r(67),o=r(1497),i=r(1496),c=r(149),u=r(1453),l={components:{FormInput:o.a,SubmitButton:i.a},props:{resetPasswordToken:{type:String,default:""},redirectUrl:{type:String,default:""},config:{type:String,default:""}},setup:function(){return{v$:Object(n.a)()}},data:function(){return{credentials:{confirmPassword:"",password:""},newPasswordAPI:{message:"",showLoading:!1},error:""}},mounted:function(){this.resetPasswordToken||(window.location=c.a)},validations:{credentials:{password:{required:s.f,minLength:Object(s.d)(6)},confirmPassword:{required:s.f,minLength:Object(s.d)(6),isEqPassword:function(t){return t===this.credentials.password}}}},methods:{showAlertMessage:function(t){this.newPasswordAPI.showLoading=!1,Object(a.a)(t)},submitForm:function(){var t=this;this.newPasswordAPI.showLoading=!0;var e={confirmPassword:this.credentials.confirmPassword,password:this.credentials.password,resetPasswordToken:this.resetPasswordToken};Object(u.d)(e).then((function(){window.location=c.a})).catch((function(e){t.showAlertMessage((null===e||void 0===e?void 0:e.message)||t.$t("SET_NEW_PASSWORD.API.ERROR_MESSAGE"))}))}}},d=r(8),p=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col justify-center w-full min-h-full py-12 bg-woot-25 sm:px-6 lg:px-8 dark:bg-slate-900"},[e("form",{staticClass:"bg-white shadow sm:mx-auto sm:w-full sm:max-w-lg dark:bg-slate-800 p-11 sm:shadow-lg sm:rounded-lg",on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("h1",{staticClass:"mb-1 text-2xl font-medium tracking-tight text-left text-slate-900 dark:text-white"},[t._v("\n      "+t._s(t.$t("SET_NEW_PASSWORD.TITLE"))+"\n    ")]),t._v(" "),e("div",{staticClass:"space-y-5"},[e("form-input",{staticClass:"mt-3",attrs:{name:"password",type:"password","has-error":t.v$.credentials.password.$error,"error-message":t.$t("SET_NEW_PASSWORD.PASSWORD.ERROR"),placeholder:t.$t("SET_NEW_PASSWORD.PASSWORD.PLACEHOLDER")},on:{blur:t.v$.credentials.password.$touch},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password","string"===typeof e?e.trim():e)},expression:"credentials.password"}}),t._v(" "),e("form-input",{staticClass:"mt-3",attrs:{name:"confirm_password",type:"password","has-error":t.v$.credentials.confirmPassword.$error,"error-message":t.$t("SET_NEW_PASSWORD.CONFIRM_PASSWORD.ERROR"),placeholder:t.$t("SET_NEW_PASSWORD.CONFIRM_PASSWORD.PLACEHOLDER")},on:{blur:t.v$.credentials.confirmPassword.$touch},model:{value:t.credentials.confirmPassword,callback:function(e){t.$set(t.credentials,"confirmPassword","string"===typeof e?e.trim():e)},expression:"credentials.confirmPassword"}}),t._v(" "),e("submit-button",{attrs:{disabled:t.v$.credentials.password.$invalid||t.v$.credentials.confirmPassword.$invalid||t.newPasswordAPI.showLoading,"button-text":t.$t("SET_NEW_PASSWORD.SUBMIT"),loading:t.newPasswordAPI.showLoading}})],1)])])}),[],!1,null,null,null);e.default=p.exports},310:function(t,e,r){},370:function(t,e,r){"use strict";r(310)},67:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return o}));var n=r(6),s=r(55),a=function(){var t=Object(n.getCurrentInstance)();if(!t)throw new Error("must be called in setup");return t.proxy.$track},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s.a.emit("newToastMessage",{message:t,action:e})}}}]);
//# sourceMappingURL=53-cb378430ca7c6e3c015a.chunk.js.map