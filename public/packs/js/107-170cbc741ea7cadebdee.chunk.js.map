{"version":3,"sources":["webpack:///./app/javascript/dashboard/routes/dashboard/Captain.vue?83f1","webpack:///Captain.vue","webpack:///./app/javascript/dashboard/routes/dashboard/Captain.vue?db8c","webpack:///./app/javascript/dashboard/routes/dashboard/Captain.vue"],"names":["isLoading","captainURL","hasError","loadCaptainFrame","integration","enabled","value","integrations","fetchCaptainURL","data","sso_url","getters","captainIntegration","updatedIntegration","component","_vm","this","_c","_self","_setup","_setupProxy","staticClass","Spinner","attrs","_v","_s","$t","_e","name"],"mappings":"sHAAA,I,qMCOA,IAAMA,EAAY,eAAI,GAChBC,EAAa,cAAI,IACjBC,EAAW,eAAI,GAEfC,EAAgB,e,EAAA,G,EAAA,yBAAG,WAAMC,GAAN,2FAClBA,GAAgBA,EAAYC,QADV,iEAKrBL,EAAUM,OAAQ,EALG,SAMEC,EAAA,EAAaC,kBANf,gBAMbC,EANa,EAMbA,KACRR,EAAWK,MAAQG,EAAKC,QAPH,kDASrBR,EAASI,OAAQ,EATI,yBAWrBN,EAAUM,OAAQ,EAXG,4E,+KAAH,sDAehBK,EAAU,cACVC,EAAqB,oBAAS,kBAClCD,EAAQ,+BAA+BL,MAAM,UAAW,S,OAG1D,qBAAU,kBAAMH,EAAiBS,EAAmBN,UAEpD,gBAAMM,GAAoB,SAAAC,GAAkB,OAC1CV,EAAiBU,M,+GClC2M,I,OCO1NC,EAAY,YACd,GHRW,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAGE,EAAOJ,EAAIG,MAAME,YAAY,OAAOH,EAAG,MAAM,CAACI,YAAY,0FAA0F,CAACJ,EAAG,MAAM,CAACI,YAAY,2CAA2C,CAAGF,EAAOP,mBAAsHO,EAAOP,mBAAmBP,QAAwZc,EAAgB,UAAEF,EAAG,MAAM,CAACI,YAAY,2CAA2C,CAACJ,EAAGE,EAAOG,QAAQ,CAACC,MAAM,CAAC,eAAe,aAAaR,EAAIS,GAAG,KAAKP,EAAG,OAAO,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,qDAAqD,IAAKP,EAAOnB,WAAamB,EAAOjB,SAAUe,EAAG,MAAM,CAACF,EAAIS,GAAG,WAAWT,EAAIU,GAAGV,EAAIW,GAAG,wDAAwD,aAAcP,EAAOnB,WAAamB,EAAOlB,WAAYgB,EAAG,SAAS,CAACI,YAAY,8BAA8BE,MAAM,CAAC,IAAMJ,EAAOlB,cAAcc,EAAIY,KAAx5BV,EAAG,MAAM,CAACI,YAAY,0DAA0D,CAACJ,EAAG,MAAM,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,6CAA6CX,EAAIS,GAAG,KAAKP,EAAG,cAAc,CAACM,MAAM,CAAC,GAAK,CAAEK,KAAM,2BAA4B,CAACX,EAAG,cAAc,CAACI,YAAY,cAAc,CAACN,EAAIS,GAAG,eAAeT,EAAIU,GAAGV,EAAIW,GAAG,yDAAyD,iBAAiB,IAAI,GAAhhBT,EAAG,MAAM,CAACF,EAAIS,GAAG,WAAWT,EAAIU,GAAGV,EAAIW,GAAG,0CAA0C,kBAE9W,IGSpB,EACA,KACA,KACA,MAIa,UAAAZ,E","file":"js/107-170cbc741ea7cadebdee.chunk.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"flex-1 overflow-auto flex gap-8 flex-col font-inter text-slate-900 dark:text-slate-500\"},[_c('div',{staticClass:\"flex-1 flex items-center justify-center\"},[(!_setup.captainIntegration)?_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.$t('INTEGRATION_SETTINGS.CAPTAIN.DISABLED'))+\"\\n    \")]):(!_setup.captainIntegration.enabled)?_c('div',{staticClass:\"flex-1 flex flex-col gap-2 items-center justify-center\"},[_c('div',[_vm._v(_vm._s(_vm.$t('INTEGRATION_SETTINGS.CAPTAIN.DISABLED')))]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'settings_applications' }}},[_c('woot-button',{staticClass:\"clear link\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('INTEGRATION_SETTINGS.CAPTAIN.CLICK_HERE_TO_CONFIGURE'))+\"\\n        \")])],1)],1):(_setup.isLoading)?_c('div',{staticClass:\"flex-1 flex items-center justify-center\"},[_c(_setup.Spinner,{attrs:{\"color-scheme\":\"primary\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('INTEGRATION_SETTINGS.CAPTAIN.LOADING_CONSOLE')))])],1):(!_setup.isLoading && _setup.hasError)?_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.$t('INTEGRATION_SETTINGS.CAPTAIN.FAILED_TO_LOAD_CONSOLE'))+\"\\n    \")]):(!_setup.isLoading && _setup.captainURL)?_c('iframe',{staticClass:\"w-full min-h-[800px] h-full\",attrs:{\"src\":_setup.captainURL}}):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed, onMounted, ref, watch } from 'vue';\nimport { useStoreGetters } from 'dashboard/composables/store';\n\nimport integrations from '../../api/integrations';\nimport Spinner from 'shared/components/Spinner.vue';\n\nconst isLoading = ref(true);\nconst captainURL = ref('');\nconst hasError = ref(false);\n\nconst loadCaptainFrame = async integration => {\n  if (!integration || !integration.enabled) {\n    return;\n  }\n  try {\n    isLoading.value = true;\n    const { data } = await integrations.fetchCaptainURL();\n    captainURL.value = data.sso_url;\n  } catch (error) {\n    hasError.value = true;\n  } finally {\n    isLoading.value = false;\n  }\n};\n\nconst getters = useStoreGetters();\nconst captainIntegration = computed(() =>\n  getters['integrations/getIntegration'].value('captain', null)\n);\n\nonMounted(() => loadCaptainFrame(captainIntegration.value));\n\nwatch(captainIntegration, updatedIntegration =>\n  loadCaptainFrame(updatedIntegration)\n);\n</script>\n\n<template>\n  <div\n    class=\"flex-1 overflow-auto flex gap-8 flex-col font-inter text-slate-900 dark:text-slate-500\"\n  >\n    <div class=\"flex-1 flex items-center justify-center\">\n      <div v-if=\"!captainIntegration\">\n        {{ $t('INTEGRATION_SETTINGS.CAPTAIN.DISABLED') }}\n      </div>\n      <div\n        v-else-if=\"!captainIntegration.enabled\"\n        class=\"flex-1 flex flex-col gap-2 items-center justify-center\"\n      >\n        <div>{{ $t('INTEGRATION_SETTINGS.CAPTAIN.DISABLED') }}</div>\n        <router-link :to=\"{ name: 'settings_applications' }\">\n          <woot-button class=\"clear link\">\n            {{ $t('INTEGRATION_SETTINGS.CAPTAIN.CLICK_HERE_TO_CONFIGURE') }}\n          </woot-button>\n        </router-link>\n      </div>\n      <div\n        v-else-if=\"isLoading\"\n        class=\"flex-1 flex items-center justify-center\"\n      >\n        <Spinner color-scheme=\"primary\" />\n        <span>{{ $t('INTEGRATION_SETTINGS.CAPTAIN.LOADING_CONSOLE') }}</span>\n      </div>\n      <div v-else-if=\"!isLoading && hasError\">\n        {{ $t('INTEGRATION_SETTINGS.CAPTAIN.FAILED_TO_LOAD_CONSOLE') }}\n      </div>\n      <iframe\n        v-else-if=\"!isLoading && captainURL\"\n        :src=\"captainURL\"\n        class=\"w-full min-h-[800px] h-full\"\n      />\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Captain.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Captain.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./Captain.vue?vue&type=template&id=7022fee5&\"\nimport script from \"./Captain.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./Captain.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}