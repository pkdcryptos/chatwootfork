{"version":3,"sources":["webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue?500e","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue?50f8","webpack:///app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue?9709","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/categories/EditCategory.vue"],"names":["component","_vm","this","_c","_self","attrs","show","onClose","on","$event","$t","_v","staticClass","preventDefault","onUpdate","apply","arguments","_s","portalName","locale","v$","name","$error","category","icon","changeName","onClickInsertEmoji","class","error","slug","slugError","$touch","model","value","callback","$$v","trim","expression","directives","rawName","domProps","target","composing","description","editCategory"],"mappings":"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","file":"js/88-fa13107f25a24a7350b6.chunk.js","sourcesContent":["export * from \"-!../../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCategory.vue?vue&type=style&index=0&id=b366eb94&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.TITLE'),\"header-content\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.SUB_TITLE')}}),_vm._v(\" \"),_c('form',{staticClass:\"w-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onUpdate.apply(null, arguments)}}},[_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row w-full mx-0 mt-0 mb-4\"},[_c('div',{staticClass:\"w-[50%]\"},[_c('label',[_c('span',[_vm._v(_vm._s(_vm.$t('HELP_CENTER.CATEGORY.EDIT.PORTAL')))]),_vm._v(\" \"),_c('p',{staticClass:\"text-slate-600 dark:text-slate-400\"},[_vm._v(_vm._s(_vm.portalName))])])]),_vm._v(\" \"),_c('div',{staticClass:\"w-[50%]\"},[_c('label',[_c('span',[_vm._v(_vm._s(_vm.$t('HELP_CENTER.CATEGORY.EDIT.LOCALE')))]),_vm._v(\" \"),_c('p',{staticClass:\"text-slate-600 dark:text-slate-400\"},[_vm._v(_vm._s(_vm.locale))])])])]),_vm._v(\" \"),_c('category-name-icon-input',{attrs:{\"label\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.NAME.LABEL'),\"placeholder\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.NAME.PLACEHOLDER'),\"help-text\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.NAME.HELP_TEXT'),\"has-error\":_vm.v$.name.$error,\"error-message\":_vm.$t('HELP_CENTER.CATEGORY.ADD.NAME.ERROR'),\"existing-name\":_vm.category.name,\"saved-icon\":_vm.category.icon},on:{\"name-change\":_vm.changeName,\"icon-change\":_vm.onClickInsertEmoji}}),_vm._v(\" \"),_c('woot-input',{staticClass:\"w-full\",class:{ error: _vm.v$.slug.$error },attrs:{\"error\":_vm.slugError,\"label\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.SLUG.LABEL'),\"placeholder\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.SLUG.PLACEHOLDER'),\"help-text\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.SLUG.HELP_TEXT')},on:{\"input\":_vm.v$.slug.$touch},model:{value:(_vm.slug),callback:function ($$v) {_vm.slug=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"slug\"}}),_vm._v(\" \"),_c('label',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.LABEL'))+\"\\n        \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],attrs:{\"rows\":\"3\",\"type\":\"text\",\"placeholder\":_vm.$t('HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.PLACEHOLDER')},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.description=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('woot-button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('HELP_CENTER.CATEGORY.EDIT.BUTTONS.CANCEL'))+\"\\n          \")]),_vm._v(\" \"),_c('woot-button',{on:{\"click\":_vm.editCategory}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('HELP_CENTER.CATEGORY.EDIT.BUTTONS.CREATE'))+\"\\n          \")])],1)])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onClose\">\n    <woot-modal-header\n      :header-title=\"$t('HELP_CENTER.CATEGORY.EDIT.TITLE')\"\n      :header-content=\"$t('HELP_CENTER.CATEGORY.EDIT.SUB_TITLE')\"\n    />\n    <form class=\"w-full\" @submit.prevent=\"onUpdate\">\n      <div class=\"w-full\">\n        <div class=\"flex flex-row w-full mx-0 mt-0 mb-4\">\n          <div class=\"w-[50%]\">\n            <label>\n              <span>{{ $t('HELP_CENTER.CATEGORY.EDIT.PORTAL') }}</span>\n              <p class=\"text-slate-600 dark:text-slate-400\">{{ portalName }}</p>\n            </label>\n          </div>\n          <div class=\"w-[50%]\">\n            <label>\n              <span>{{ $t('HELP_CENTER.CATEGORY.EDIT.LOCALE') }}</span>\n              <p class=\"text-slate-600 dark:text-slate-400\">{{ locale }}</p>\n            </label>\n          </div>\n        </div>\n        <category-name-icon-input\n          :label=\"$t('HELP_CENTER.CATEGORY.EDIT.NAME.LABEL')\"\n          :placeholder=\"$t('HELP_CENTER.CATEGORY.EDIT.NAME.PLACEHOLDER')\"\n          :help-text=\"$t('HELP_CENTER.CATEGORY.EDIT.NAME.HELP_TEXT')\"\n          :has-error=\"v$.name.$error\"\n          :error-message=\"$t('HELP_CENTER.CATEGORY.ADD.NAME.ERROR')\"\n          :existing-name=\"category.name\"\n          :saved-icon=\"category.icon\"\n          @name-change=\"changeName\"\n          @icon-change=\"onClickInsertEmoji\"\n        />\n        <woot-input\n          v-model.trim=\"slug\"\n          :class=\"{ error: v$.slug.$error }\"\n          class=\"w-full\"\n          :error=\"slugError\"\n          :label=\"$t('HELP_CENTER.CATEGORY.EDIT.SLUG.LABEL')\"\n          :placeholder=\"$t('HELP_CENTER.CATEGORY.EDIT.SLUG.PLACEHOLDER')\"\n          :help-text=\"$t('HELP_CENTER.CATEGORY.EDIT.SLUG.HELP_TEXT')\"\n          @input=\"v$.slug.$touch\"\n        />\n        <label>\n          {{ $t('HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.LABEL') }}\n          <textarea\n            v-model=\"description\"\n            rows=\"3\"\n            type=\"text\"\n            :placeholder=\"\n              $t('HELP_CENTER.CATEGORY.EDIT.DESCRIPTION.PLACEHOLDER')\n            \"\n          />\n        </label>\n        <div class=\"w-full\">\n          <div class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\">\n            <woot-button class=\"button clear\" @click.prevent=\"onClose\">\n              {{ $t('HELP_CENTER.CATEGORY.EDIT.BUTTONS.CANCEL') }}\n            </woot-button>\n            <woot-button @click=\"editCategory\">\n              {{ $t('HELP_CENTER.CATEGORY.EDIT.BUTTONS.CREATE') }}\n            </woot-button>\n          </div>\n        </div>\n      </div>\n    </form>\n  </woot-modal>\n</template>\n\n<script>\nimport { useVuelidate } from '@vuelidate/core';\nimport { useAlert } from 'dashboard/composables';\nimport { required, minLength } from '@vuelidate/validators';\nimport { convertToCategorySlug } from 'dashboard/helper/commons.js';\nimport { PORTALS_EVENTS } from '../../../../../helper/AnalyticsHelper/events';\nimport CategoryNameIconInput from './NameEmojiInput.vue';\n\nexport default {\n  components: { CategoryNameIconInput },\n  props: {\n    show: {\n      type: Boolean,\n      default: true,\n    },\n    portalName: {\n      type: String,\n      default: '',\n    },\n    locale: {\n      type: String,\n      default: '',\n    },\n    category: {\n      type: Object,\n      default: () => {},\n    },\n    selectedPortalSlug: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      id: this.category.id,\n      name: '',\n      icon: '',\n      slug: '',\n      description: '',\n    };\n  },\n  validations: {\n    name: {\n      required,\n      minLength: minLength(2),\n    },\n    slug: {\n      required,\n    },\n  },\n  computed: {\n    slugError() {\n      if (this.v$.slug.$error) {\n        return this.$t('HELP_CENTER.CATEGORY.ADD.SLUG.ERROR');\n      }\n      return '';\n    },\n  },\n  mounted() {\n    this.updateDataFromStore();\n  },\n  methods: {\n    updateDataFromStore() {\n      const { category } = this;\n      this.name = category.name;\n      this.icon = category.icon;\n      this.slug = category.slug;\n      this.description = category.description;\n    },\n    changeName(name) {\n      this.name = name;\n      this.slug = convertToCategorySlug(this.name);\n    },\n    onClickInsertEmoji(emoji) {\n      this.icon = emoji;\n    },\n    onUpdate() {\n      this.$emit('update');\n    },\n    onClose() {\n      this.$emit('cancel');\n    },\n    async editCategory() {\n      const { id, name, slug, icon, description } = this;\n      const data = {\n        id,\n        name,\n        icon,\n        slug,\n        description,\n      };\n      this.v$.$touch();\n      if (this.v$.$invalid) {\n        return;\n      }\n      try {\n        await this.$store.dispatch('categories/update', {\n          portalSlug: this.selectedPortalSlug,\n          categoryId: id,\n          categoryObj: data,\n        });\n        this.alertMessage = this.$t(\n          'HELP_CENTER.CATEGORY.EDIT.API.SUCCESS_MESSAGE'\n        );\n        this.$track(PORTALS_EVENTS.EDIT_CATEGORY);\n        this.onClose();\n      } catch (error) {\n        const errorMessage = error?.message;\n        this.alertMessage =\n          errorMessage ||\n          this.$t('HELP_CENTER.CATEGORY.EDIT.API.ERROR_MESSAGE');\n      } finally {\n        useAlert(this.alertMessage);\n      }\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.article-info {\n  width: 100%;\n  margin: 0 0 var(--space-normal);\n  .value {\n    color: var(--s-600);\n  }\n}\n\n.input-container::v-deep {\n  margin: 0 0 var(--space-normal);\n\n  input {\n    margin-bottom: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCategory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditCategory.vue?vue&type=template&id=b366eb94&scoped=true&\"\nimport script from \"./EditCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./EditCategory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditCategory.vue?vue&type=style&index=0&id=b366eb94&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b366eb94\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}