{"version":3,"sources":["webpack:///./app/javascript/dashboard/mixins/agentMixin.js","webpack:///./app/javascript/dashboard/helper/labelColor.js","webpack:///./app/javascript/dashboard/mixins/conversation/labelMixin.js","webpack:///./app/javascript/shared/components/ui/MultiselectDropdownItems.vue?deb2","webpack:///./app/javascript/shared/components/ui/MultiselectDropdownItems.vue?f6f4","webpack:///app/javascript/shared/components/ui/MultiselectDropdownItems.vue","webpack:///./app/javascript/shared/components/ui/MultiselectDropdownItems.vue","webpack:///./app/javascript/dashboard/components/widgets/InboxName.vue?97f1","webpack:///./app/javascript/dashboard/components/widgets/InboxName.vue?bb5f","webpack:///app/javascript/dashboard/components/widgets/InboxName.vue","webpack:///./app/javascript/dashboard/components/widgets/InboxName.vue","webpack:///./app/javascript/dashboard/mixins/customAttributeMixin.js","webpack:///./app/javascript/shared/components/ui/MultiselectDropdownItems.vue?6435","webpack:///./app/javascript/shared/components/ui/MultiselectDropdown.vue?c6f1","webpack:///./app/javascript/shared/components/ui/MultiselectDropdown.vue?004a","webpack:///app/javascript/shared/components/ui/MultiselectDropdown.vue","webpack:///./app/javascript/shared/components/ui/MultiselectDropdown.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessagePreview.vue?6e6f","webpack:///app/javascript/dashboard/components/widgets/conversation/MessagePreview.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessagePreview.vue?0310","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessagePreview.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/labels/validations.js","webpack:///./node_modules/@scmmishra/pico-search/dist/index.mjs","webpack:///./app/javascript/dashboard/mixins/conversations.js","webpack:///./app/javascript/dashboard/routes/dashboard/settings/labels/AddLabel.vue?efef","webpack:///./app/javascript/dashboard/components/widgets/conversation/conversationCardComponents/CardLabels.vue?b239","webpack:///./app/javascript/shared/components/ui/MultiselectDropdown.vue?e58e","webpack:///./app/javascript/dashboard/mixins/fileUploadMixin.js","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/customAttributes/CustomAttributes.vue?7560","webpack:///./app/javascript/dashboard/components/ui/HelperTextPopup.vue?c5dc","webpack:///./app/javascript/dashboard/components/ui/HelperTextPopup.vue","webpack:///./app/javascript/dashboard/components/ui/HelperTextPopup.vue?af6c","webpack:///./app/javascript/dashboard/components/CustomAttribute.vue?2100","webpack:///app/javascript/dashboard/components/CustomAttribute.vue","webpack:///./app/javascript/dashboard/components/CustomAttribute.vue","webpack:///./app/javascript/dashboard/components/CustomAttribute.vue?8c92","webpack:///app/javascript/dashboard/routes/dashboard/conversation/customAttributes/CustomAttributes.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/customAttributes/CustomAttributes.vue?611e","webpack:///./app/javascript/dashboard/mixins/attributeMixin.js","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/customAttributes/CustomAttributes.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAPopoverCard.vue?9455","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAEventItem.vue?8d6d","webpack:///SLAEventItem.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAEventItem.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAEventItem.vue?dde0","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAPopoverCard.vue?d746","webpack:///SLAPopoverCard.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAPopoverCard.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/ReplyEmailHead.vue?077f","webpack:///./app/javascript/dashboard/components/widgets/conversation/helpers/emailHeadHelper.js","webpack:///./app/javascript/dashboard/components/widgets/conversation/ReplyEmailHead.vue?82ea","webpack:///app/javascript/dashboard/components/widgets/conversation/ReplyEmailHead.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/ReplyEmailHead.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/labels/AddLabel.vue?be46","webpack:///app/javascript/dashboard/routes/dashboard/settings/labels/AddLabel.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/labels/AddLabel.vue?72c9","webpack:///./app/javascript/dashboard/routes/dashboard/settings/labels/AddLabel.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLACardLabel.vue?c629","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLACardLabel.vue?3c8c","webpack:///app/javascript/dashboard/components/widgets/conversation/components/SLACardLabel.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLACardLabel.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/conversationCardComponents/CardLabels.vue?90c6","webpack:///./app/javascript/dashboard/components/widgets/conversation/conversationCardComponents/CardLabels.vue?85b3","webpack:///app/javascript/dashboard/components/widgets/conversation/conversationCardComponents/CardLabels.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/conversationCardComponents/CardLabels.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessageSignatureMissingAlert.vue?0684","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessageSignatureMissingAlert.vue?1333","webpack:///app/javascript/dashboard/components/widgets/conversation/MessageSignatureMissingAlert.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessageSignatureMissingAlert.vue","webpack:///./app/javascript/dashboard/components/widgets/AttachmentsPreview.vue?868c","webpack:///./app/javascript/dashboard/components/widgets/AttachmentsPreview.vue?5433","webpack:///AttachmentsPreview.vue","webpack:///./app/javascript/dashboard/components/widgets/AttachmentsPreview.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItem.vue?0e85","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItem.vue?5a24","webpack:///app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItem.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItem.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue?25a7","webpack:///app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue?be06","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue?7a47","webpack:///app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue?2218","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue","webpack:///./app/javascript/dashboard/helper/flag.js","webpack:///./app/javascript/dashboard/components/widgets/conversation/ConversationCard.vue?bd95","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItemWithSubmenu.vue?1d11","webpack:///app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItemWithSubmenu.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItemWithSubmenu.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItemWithSubmenu.vue?5cb4","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/agentLoadingPlaceholder.vue?b1e6","webpack:///app/javascript/dashboard/components/widgets/conversation/contextMenu/agentLoadingPlaceholder.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/agentLoadingPlaceholder.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/agentLoadingPlaceholder.vue?fdfb","webpack:///app/javascript/dashboard/components/widgets/conversation/contextMenu/Index.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/Index.vue?43ce","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/Index.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/Index.vue?c8a0","webpack:///app/javascript/dashboard/components/ui/TimeAgo.vue","webpack:///./app/javascript/dashboard/components/ui/TimeAgo.vue?6e64","webpack:///./app/javascript/dashboard/components/ui/TimeAgo.vue","webpack:///./app/javascript/dashboard/components/ui/TimeAgo.vue?b21c","webpack:///app/javascript/dashboard/components/widgets/conversation/PriorityMark.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/PriorityMark.vue?941c","webpack:///./app/javascript/dashboard/components/widgets/conversation/PriorityMark.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/PriorityMark.vue?83f2","webpack:///app/javascript/dashboard/components/widgets/conversation/ConversationCard.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/ConversationCard.vue?bb62","webpack:///./app/javascript/dashboard/components/widgets/conversation/ConversationCard.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactForm.vue?8fd2","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/ContactForm.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactForm.vue?fcc8","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactForm.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItem.vue?25d6","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItemWithSubmenu.vue?05eb","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/agentLoadingPlaceholder.vue?3139","webpack:///./app/javascript/dashboard/components/widgets/conversation/ConversationCard.vue?7b79","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/ContactConversations.vue?317b","webpack:///./app/javascript/shared/components/ui/label/LabelDropdownItem.vue?046e","webpack:///./app/javascript/shared/components/ui/label/LabelDropdown.vue?98a4","webpack:///./app/javascript/shared/components/ui/dropdown/AddLabel.vue?d970","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactForm.vue?a77c","webpack:///./app/javascript/dashboard/components/widgets/conversation/ReplyEmailHead.vue?a10a","webpack:///./app/javascript/dashboard/components/widgets/InboxDropdownItem.vue?6f1f","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue?d773","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue?9b29","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ConversationForm.vue?0a04","webpack:///./app/javascript/dashboard/modules/contact/components/ContactDropdownItem.vue?96ee","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContact.vue?fcd0","webpack:///./app/javascript/dashboard/components/CustomAttribute.vue?63a0","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/customAttributes/CustomAttributes.vue?fda5","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfo.vue?1236","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfoRow.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfoRow.vue?6699","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfoRow.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfoRow.vue?6671","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/SocialIcons.vue?43c2","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/SocialIcons.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/SocialIcons.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/SocialIcons.vue?e922","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/EditContact.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/EditContact.vue?8b22","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/EditContact.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/EditContact.vue?1e6a","webpack:///./app/javascript/dashboard/components/widgets/InboxDropdownItem.vue?97df","webpack:///app/javascript/dashboard/components/widgets/InboxDropdownItem.vue","webpack:///./app/javascript/dashboard/components/widgets/InboxDropdownItem.vue","webpack:///./app/javascript/dashboard/components/widgets/InboxDropdownItem.vue?acfd","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/WhatsappTemplates.vue?8a41","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/WhatsappTemplates.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/WhatsappTemplates.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/WhatsappTemplates.vue?a321","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/ConversationForm.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ConversationForm.vue?4301","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ConversationForm.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ConversationForm.vue?b4b9","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/NewConversation.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/NewConversation.vue?f0d2","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/NewConversation.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/NewConversation.vue?a3c3","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContactSummary.vue?43cd","webpack:///app/javascript/dashboard/modules/contact/components/MergeContactSummary.vue","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContactSummary.vue","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContactSummary.vue?aa82","webpack:///./app/javascript/dashboard/modules/contact/components/ContactDropdownItem.vue?987a","webpack:///app/javascript/dashboard/modules/contact/components/ContactDropdownItem.vue","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContact.vue?e0a6","webpack:///app/javascript/dashboard/modules/contact/components/MergeContact.vue","webpack:///./app/javascript/dashboard/modules/contact/components/ContactDropdownItem.vue","webpack:///./app/javascript/dashboard/modules/contact/components/ContactDropdownItem.vue?6640","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContact.vue","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContact.vue?dc34","webpack:///app/javascript/dashboard/modules/contact/ContactMergeModal.vue","webpack:///./app/javascript/dashboard/modules/contact/ContactMergeModal.vue?88df","webpack:///./app/javascript/dashboard/modules/contact/ContactMergeModal.vue","webpack:///./app/javascript/dashboard/modules/contact/ContactMergeModal.vue?a2a9","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfo.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfo.vue?38cc","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfo.vue","webpack:///./app/javascript/shared/components/ui/label/LabelDropdown.vue?0fb0","webpack:///./app/javascript/shared/components/ui/label/LabelDropdownItem.vue?2907","webpack:///app/javascript/shared/components/ui/label/LabelDropdownItem.vue","webpack:///./app/javascript/shared/components/ui/label/LabelDropdownItem.vue","webpack:///./app/javascript/shared/components/ui/label/LabelDropdownItem.vue?4711","webpack:///./app/javascript/shared/helpers/sanitizeData.js","webpack:///app/javascript/shared/components/ui/label/LabelDropdown.vue","webpack:///./app/javascript/shared/components/ui/label/LabelDropdown.vue?3edf","webpack:///./app/javascript/shared/components/ui/label/LabelDropdown.vue","webpack:///./app/javascript/dashboard/components/Accordion/AccordionItem.vue?7839","webpack:///./app/javascript/dashboard/components/Accordion/AccordionItem.vue?7638","webpack:///app/javascript/dashboard/components/Accordion/AccordionItem.vue","webpack:///./app/javascript/dashboard/components/Accordion/AccordionItem.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/ContactConversations.vue?1d66","webpack:///app/javascript/dashboard/routes/dashboard/conversation/ContactConversations.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/ContactConversations.vue?7e39","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/ContactConversations.vue","webpack:///./app/javascript/shared/components/ui/dropdown/AddLabel.vue?bc2b","webpack:///./app/javascript/shared/components/ui/dropdown/AddLabel.vue?e382","webpack:///app/javascript/shared/components/ui/dropdown/AddLabel.vue","webpack:///./app/javascript/shared/components/ui/dropdown/AddLabel.vue","webpack:///./node_modules/core-js/modules/es.string.from-code-point.js","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactInfoPanel.vue?1fc6","webpack:///./app/javascript/dashboard/components/widgets/LabelSelector.vue?488a","webpack:///app/javascript/dashboard/components/widgets/LabelSelector.vue","webpack:///app/javascript/dashboard/routes/dashboard/contacts/components/ContactLabels.vue","webpack:///./app/javascript/dashboard/components/widgets/LabelSelector.vue","webpack:///./app/javascript/dashboard/components/widgets/LabelSelector.vue?5d73","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactLabels.vue?e40a","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactLabels.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactLabels.vue?2b42","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactInfoPanel.vue?b3aa","webpack:///app/javascript/dashboard/routes/dashboard/contacts/components/ContactInfoPanel.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactInfoPanel.vue","webpack:///./node_modules/date-fns/esm/parseISO/index.js","webpack:///./app/javascript/widget/helpers/constants.js","webpack:///./app/javascript/dashboard/components/widgets/LabelSelector.vue?3047","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactInfoPanel.vue?50dd","webpack:///./app/javascript/shared/helpers/markdownIt/link.js","webpack:///./app/javascript/shared/helpers/MessageFormatter.js","webpack:///./app/javascript/shared/mixins/messageFormatterMixin.js"],"names":["computed","mapGetters","currentUser","currentAccountId","assignableAgents","this","$store","getters","inboxId","isAgentSelected","currentChat","meta","assignee","createNoneAgent","confirmed","name","id","role","account_id","email","agentsList","agents","agentsByUpdatedPresence","getAgentsByUpdatedPresence","none","filteredAgentsByAvailability","sortedAgentsByAvailability","methods","getAgentsByAvailability","availability","filter","agent","availability_status","sort","a","b","localeCompare","onlineAgents","busyAgents","offlineAgents","map","item","accounts","find","account","getRandomColor","color","i","Math","floor","random","accountLabels","savedLabels","conversationLabels","split","trim","conversationId","activeLabels","title","includes","inactiveLabels","addLabelToConversation","value","result","push","onUpdateLabels","removeLabelFromConversation","label","selectedLabels","dispatch","labels","component","_vm","_c","_self","staticClass","directives","rawName","expression","ref","attrs","inputPlaceholder","domProps","on","$event","target","composing","search","_v","_l","option","key","class","active","isActive","onclick","thumbnail","_e","_s","noSearchResult","computedInboxClass","inbox","getRegexp","regexPatternValue","lastSlash","lastIndexOf","RegExp","slice","type","indexOf","_k","keyCode","onCloseDropdown","apply","arguments","toggleDropdown","hasValue","hasThumbnail","selectedItem","multiselectorPlaceholder","showSearchDropdown","multiselectorTitle","options","onClickSelectItem","message","content","isMessageSticker","$t","parsedLastMessage","attachmentIcon","showMessageType","attachmentMessageContent","defaultEmptyMessage","getLabelTitleErrorMessage","validation","errorMessage","$error","required","minLength","validLabelCharacters","str","description","showOnSidebar","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","_unsupportedIterableToArray","TypeError","_nonIterableSpread","o","minLen","n","Object","prototype","toString","call","constructor","test","len","length","arr2","y","e","t","Error","reduce","s","m","T","O","threshold","toLowerCase","forEach","r","_step","c","l","_iterator","allowArrayLike","it","F","done","f","err","normalCompletion","didErr","step","next","_e2","return","_createForOfIteratorHelper","weight","hasOwnProperty","h","A","g","object","similarity","max","fill","_n","u","d","_n2","_u","min","_n3","p","W","undefined","S","filterDuplicateSourceMessages","messages","messagesWithoutDuplicates","m1","source_id","findIndex","m2","lastMessage","messageInStore","messageFromAPI","lastMessageIncludingActivity","last","lastNonActivityMessageInStore","message_type","lastNonActivityMessageFromAPI","last_non_activity_message","created_at","readMessages","agentLastSeenAt","unReadMessages","onFileUpload","file","globalConfig","directUploadsEnabled","onDirectFileUpload","onIndirectFileUpload","MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE","isATwilioSMSChannel","MAXIMUM_FILE_UPLOAD_SIZE_TWILIO_SMS_CHANNEL","MAXIMUM_FILE_UPLOAD_SIZE","checkFileSizeLimit","DirectUpload","accountId","directUploadWillCreateBlobWithXHR","xhr","setRequestHeader","access_token","create","error","blob","useAlert","attachFile","_setupProxy","editedValue","_i","$$a","$$el","$$c","checked","$$i","concat","onUpdate","v$","showActions","modifiers","onDelete","$touch","_q","inputType","isEditing","hrefURL","urlValue","displayValue","onCopy","onEdit","listOptions","onUpdateListValue","attributes","attributeType","customAttributes","custom_attributes","contact","contactIdentifier","sender","$route","params","contactId","isAttributeNumber","attributeValue","Number","isInteger","attributeDisplayType","isValidURL","attribute","attributeClass","attribute_key","attribute_display_type","attribute_values","attribute_display_name","attribute_description","regex_pattern","regex_cue","displayedAttributes","emptyStateMessage","filteredAttributes","showAllAttributes","onClickToggle","toggleButtonText","timestamp","format","fromUnixTime","_setup","formatDate","_t","SLA_MISS_TYPES","shouldShowAllNrts","frtMisses","props","slaMissedEvents","slaEvent","event_type","FRT","nrtMisses","missedEvents","NRT","rtMisses","RT","shouldShowMoreNRTButton","SLAEventItem","scopedSlots","fn","toggleShowAllNRT","count","proxy","validEmailsByComma","replace","every","emailValidator","$validator","toEmailsVal","onBlur","model","callback","$$v","$set","ccEmailsVal","showBcc","handleAddBcc","bccEmailsVal","preventDefault","addLabel","labelTitleErrorMessage","$invalid","uiFlags","isCreating","onClose","showExtendedInfo","openSlaPopover","slaTextStyles","slaStatus","icon","isSlaMissed","slaStatusText","slaEvents","$slots","before","showAllLabels","index","hidden","labelPosition","onShowLabels","openProfileSettings","nonRecordedAudioAttachments","attachments","attachment","isRecordedAudio","recordedAudioAttachments","itemIndex","emits","_","size","byte_size","content_type","filename","isTypeImage","resource","thumb","fileName","formatFileSize","onRemoveAttachment","stopPropagation","$emit","variant","style","backgroundColor","status","query","template","language","getTemplatebody","category","filteredTemplateMessages","processedString","variable","marginBottom","processedParams","$dirty","resetTemplate","sendMessage","getCountryFlag","countryCode","codePoints","toUpperCase","char","charCodeAt","String","fromCodePoint","subMenuAvailable","hasUnreadMessages","unreadOption","show","toggleStatus","snoozeOption","snoozeConversation","priorityConfig","assignPriority","labelMenuConfig","generateMenuLabelConfig","agentMenuConfig","assignableAgentsUiFlags","teamMenuConfig","teams","team","tooltipText","delay","hide","hideOnClick","createdAtTime","lastActivityTime","isUrgent","priority","isActiveChat","hasUnread","showInboxName","selected","onCardHover","onCardLeave","onCardClick","openContextMenu","hovered","onSelectConversation","currentContact","inboxBadge","showAssignee","chat","lastMessageInChat","unreadCount","contextMenu","x","closeContextMenu","onUpdateConversation","onAssignAgent","onAssignLabel","onAssignTeam","markAsUnread","handleSubmit","avatarUrl","handleImageUpload","handleAvatarDelete","$forceUpdate","isPhoneNumberNotValid","phoneNumber","onPhoneNumberInputChange","setPhoneCode","phoneNumberError","companyName","countryNameWithCode","countries","country","city","socialProfile","prefixURL","socialProfileUserNames","inProgress","onCancel","href","emoji","availableProfiles","profile","link","socialProfiles","isUpdating","onSubmit","onSuccess","computedInboxIcon","inboxIdentifier","computedInboxType","selectedWaTemplate","onResetTemplate","onSendMessage","pickTemplate","onFormSubmit","targetInbox","inboxes","computedInboxSource","channel_type","subject","showCannedResponseMenu","hasSlashCommand","cannedResponseSearchKey","replaceTextWithCannedResponse","ccEmails","bccEmails","editor_warning","signatureToApply","toggleCannedMenu","isSignatureEnabledForInbox","messageSignature","signatureToggleTooltip","toggleMessageSignature","selectedInbox","toggleWaTemplate","onSendWhatsAppReply","allowedFileTypes","direct_upload_url","direct_upload","attachedFiles","removeAttachment","hasWhatsappTemplates","conversationsUiFlags","$refs","uploadAttachment","dropActive","primaryContactName","parentContactName","identifier","parentContact","searchResults","isSearching","searchChange","phone_number","slot","primaryContact","isMerging","onContactSearch","onMergeContacts","closeIconName","onPanelToggle","dynamicTime","contactProfileLink","additionalAttributes","company_name","location","toggleConversationModal","toggleEditModal","openMergeModal","isDeleting","toggleDeleteModal","showEditModal","showConversationModal","showMergeModal","toggleMergeModal","showDeleteModal","closeDelete","confirmDeletion","confirmDeleteMessage","onClick","labelSanitizePattern","spacesPattern","onAddRemove","allowCreation","shouldShowCreate","hasExactMatchInResults","showCreateModal","createLabelPlaceholder","parsedSearch","createModalVisible","hideCreateModal","compact","isFetching","previousConversations","conversation","$","toAbsoluteIndex","fromCharCode","$fromCodePoint","stat","forced","code","elements","RangeError","join","toggleLabels","removeItem","showSearchDropdownLabel","allLabels","isAdmin","addItem","showAvatar","showCloseButton","contactSidebarItems","dragEnabled","dragging","onDragEnd","element","isContactSidebarItemOpen","toggleSidebarUIState","MILLISECONDS_IN_HOUR","patterns","dateTimeDelimiter","timeZoneDelimiter","timezone","dateRegex","timeRegex","timezoneRegex","parseISO","argument","dirtyOptions","additionalDigits","Date","NaN","date","dateStrings","splitDateString","parseYearResult","parseYear","parseDate","restDateString","year","isNaN","offset","getTime","time","parseTime","dirtyDate","setFullYear","getUTCFullYear","getUTCMonth","getUTCDate","setHours","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","parseTimezone","dateString","timeString","array","substr","token","exec","regex","captures","match","parseInt","century","isWeekDate","dayOfYear","parseDateUnit","month","day","week","dayOfWeek","_year","validateWeekDate","isoWeekYear","setUTCFullYear","fourthOfJanuaryDay","getUTCDay","diff","setUTCDate","dayOfISOWeekYear","daysInMonths","isLeapYearIndex","validateDate","validateDayOfYearDate","hours","parseTimeUnit","minutes","seconds","validateTime","parseFloat","timezoneString","sign","_hours","validateTimezone","APP_BASE_URL","MESSAGE_TYPE","INCOMING","OUTGOING","ACTIVITY","TEMPLATE","WOOT_PREFIX","USER_MENTIONS_REGEX","processInlineToken","blockToken","children","inlineToken","imgSrc","attrGet","height","URL","searchParams","get","attrSet","setImageHeight","md","require","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","maxNesting","use","renderer","rules","mention","tokens","idx","inline","ruler","state","silent","labelEnd","labelStart","pos","res","posMax","src","helpers","parseLinkLabel","parseLinkDestination","ok","normalizeLink","validateLink","core","after","mila","rel","TWITTER_USERNAME_REGEX","TWITTER_HASH_REGEX","MessageFormatter","isATweet","isAPrivateNote","updatedMessage","render","formatMessage","DOMParser","parseFromString","formattedMessage","body","textContent","getPlainText","plainText","truncateMessage","highlightContent","searchTerm","highlightClass","plainTextContent","escapedSearchTerm"],"mappings":"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","file":"js/12-99ab4200a685e92071cb.chunk.js","sourcesContent":["import { mapGetters } from 'vuex';\n\nexport default {\n  computed: {\n    ...mapGetters({\n      currentUser: 'getCurrentUser',\n      currentAccountId: 'getCurrentAccountId',\n    }),\n    assignableAgents() {\n      return this.$store.getters['inboxAssignableAgents/getAssignableAgents'](\n        this.inboxId\n      );\n    },\n    isAgentSelected() {\n      return this.currentChat?.meta?.assignee;\n    },\n    createNoneAgent() {\n      return {\n        confirmed: true,\n        name: 'None',\n        id: 0,\n        role: 'agent',\n        account_id: 0,\n        email: 'None',\n      };\n    },\n    agentsList() {\n      const agents = this.assignableAgents || [];\n      const agentsByUpdatedPresence = this.getAgentsByUpdatedPresence(agents);\n      const none = this.createNoneAgent;\n      const filteredAgentsByAvailability = this.sortedAgentsByAvailability(\n        agentsByUpdatedPresence\n      );\n      const filteredAgents = [\n        ...(this.isAgentSelected ? [none] : []),\n        ...filteredAgentsByAvailability,\n      ];\n      return filteredAgents;\n    },\n  },\n  methods: {\n    getAgentsByAvailability(agents, availability) {\n      return agents\n        .filter(agent => agent.availability_status === availability)\n        .sort((a, b) => a.name.localeCompare(b.name));\n    },\n    sortedAgentsByAvailability(agents) {\n      const onlineAgents = this.getAgentsByAvailability(agents, 'online');\n      const busyAgents = this.getAgentsByAvailability(agents, 'busy');\n      const offlineAgents = this.getAgentsByAvailability(agents, 'offline');\n      const filteredAgents = [...onlineAgents, ...busyAgents, ...offlineAgents];\n      return filteredAgents;\n    },\n    getAgentsByUpdatedPresence(agents) {\n      // Here we are updating the availability status of the current user dynamically (live) based on the current account availability status\n      const agentsWithDynamicPresenceUpdate = agents.map(item =>\n        item.id === this.currentUser.id\n          ? {\n              ...item,\n              availability_status: this.currentUser.accounts.find(\n                account => account.id === this.currentAccountId\n              ).availability_status,\n            }\n          : item\n      );\n      return agentsWithDynamicPresenceUpdate;\n    },\n  },\n};\n","export const getRandomColor = () => {\n  const letters = '0123456789ABCDEF';\n  let color = '#';\n  for (let i = 0; i < 6; i += 1) {\n    color += letters[Math.floor(Math.random() * 16)];\n  }\n  return color;\n};\n","import { mapGetters } from 'vuex';\n\nexport default {\n  computed: {\n    ...mapGetters({ accountLabels: 'labels/getLabels' }),\n    savedLabels() {\n      // If conversationLabels is passed as prop, use it\n      if (this.conversationLabels)\n        return this.conversationLabels.split(',').map(item => item.trim());\n      // Otherwise, get labels from store\n      return this.$store.getters['conversationLabels/getConversationLabels'](\n        this.conversationId\n      );\n    },\n    // TODO - Get rid of this from the mixin\n    activeLabels() {\n      return this.accountLabels.filter(({ title }) =>\n        this.savedLabels.includes(title)\n      );\n    },\n    inactiveLabels() {\n      return this.accountLabels.filter(\n        ({ title }) => !this.savedLabels.includes(title)\n      );\n    },\n  },\n  methods: {\n    addLabelToConversation(value) {\n      const result = this.activeLabels.map(item => item.title);\n      result.push(value.title);\n      this.onUpdateLabels(result);\n    },\n    removeLabelFromConversation(value) {\n      const result = this.activeLabels\n        .map(label => label.title)\n        .filter(label => label !== value);\n      this.onUpdateLabels(result);\n    },\n    async onUpdateLabels(selectedLabels) {\n      this.$store.dispatch('conversationLabels/update', {\n        conversationId: this.conversationId,\n        labels: selectedLabels,\n      });\n    },\n  },\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dropdown-wrap\"},[_c('div',{staticClass:\"mb-2 flex-shrink-0 flex-grow-0 flex-auto max-h-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],ref:\"searchbar\",staticClass:\"search-input\",attrs:{\"type\":\"text\",\"autofocus\":\"true\",\"placeholder\":_vm.inputPlaceholder},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-start items-start flex-auto overflow-auto\"},[_c('div',{staticClass:\"w-full max-h-[10rem]\"},[_c('woot-dropdown-menu',_vm._l((_vm.filteredOptions),function(option){return _c('woot-dropdown-item',{key:option.id},[_c('woot-button',{staticClass:\"multiselect-dropdown--item\",class:{\n              active: _vm.isActive(option),\n            },attrs:{\"variant\":_vm.isActive(option) ? 'hollow' : 'clear',\"color-scheme\":\"secondary\"},on:{\"click\":() => _vm.onclick(option)}},[_c('div',{staticClass:\"flex items-center gap-1.5\"},[(_vm.hasThumbnail)?_c('Thumbnail',{attrs:{\"src\":option.thumbnail,\"size\":\"24px\",\"username\":option.name,\"status\":option.availability_status,\"has-border\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-between w-full min-w-0 gap-2\"},[_c('span',{staticClass:\"leading-4 my-0 overflow-hidden whitespace-nowrap text-ellipsis text-sm\",attrs:{\"title\":option.name}},[_vm._v(\"\\n                  \"+_vm._s(option.name)+\"\\n                \")]),_vm._v(\" \"),(_vm.isActive(option))?_c('fluent-icon',{attrs:{\"icon\":\"checkmark\"}}):_vm._e()],1)],1)])],1)}),1),_vm._v(\" \"),(_vm.noResult)?_c('h4',{staticClass:\"w-full justify-center items-center flex text-slate-500 dark:text-slate-300 py-2 px-2.5 overflow-hidden whitespace-nowrap text-ellipsis text-sm\"},[_vm._v(\"\\n        \"+_vm._s(_vm.noSearchResult)+\"\\n      \")]):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdownItems.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdownItems.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"dropdown-wrap\">\n    <div class=\"mb-2 flex-shrink-0 flex-grow-0 flex-auto max-h-8\">\n      <input\n        ref=\"searchbar\"\n        v-model=\"search\"\n        type=\"text\"\n        class=\"search-input\"\n        autofocus=\"true\"\n        :placeholder=\"inputPlaceholder\"\n      />\n    </div>\n    <div class=\"flex justify-start items-start flex-auto overflow-auto\">\n      <div class=\"w-full max-h-[10rem]\">\n        <woot-dropdown-menu>\n          <woot-dropdown-item\n            v-for=\"option in filteredOptions\"\n            :key=\"option.id\"\n          >\n            <woot-button\n              class=\"multiselect-dropdown--item\"\n              :variant=\"isActive(option) ? 'hollow' : 'clear'\"\n              color-scheme=\"secondary\"\n              :class=\"{\n                active: isActive(option),\n              }\"\n              @click=\"() => onclick(option)\"\n            >\n              <div class=\"flex items-center gap-1.5\">\n                <Thumbnail\n                  v-if=\"hasThumbnail\"\n                  :src=\"option.thumbnail\"\n                  size=\"24px\"\n                  :username=\"option.name\"\n                  :status=\"option.availability_status\"\n                  has-border\n                />\n                <div\n                  class=\"flex items-center justify-between w-full min-w-0 gap-2\"\n                >\n                  <span\n                    class=\"leading-4 my-0 overflow-hidden whitespace-nowrap text-ellipsis text-sm\"\n                    :title=\"option.name\"\n                  >\n                    {{ option.name }}\n                  </span>\n                  <fluent-icon v-if=\"isActive(option)\" icon=\"checkmark\" />\n                </div>\n              </div>\n            </woot-button>\n          </woot-dropdown-item>\n        </woot-dropdown-menu>\n        <h4\n          v-if=\"noResult\"\n          class=\"w-full justify-center items-center flex text-slate-500 dark:text-slate-300 py-2 px-2.5 overflow-hidden whitespace-nowrap text-ellipsis text-sm\"\n        >\n          {{ noSearchResult }}\n        </h4>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport WootDropdownItem from 'shared/components/ui/dropdown/DropdownItem.vue';\nimport WootDropdownMenu from 'shared/components/ui/dropdown/DropdownMenu.vue';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\n\nexport default {\n  components: {\n    WootDropdownItem,\n    WootDropdownMenu,\n    Thumbnail,\n  },\n\n  props: {\n    options: {\n      type: Array,\n      default: () => [],\n    },\n    selectedItems: {\n      type: Array,\n      default: () => [],\n    },\n    hasThumbnail: {\n      type: Boolean,\n      default: true,\n    },\n    inputPlaceholder: {\n      type: String,\n      default: 'Search',\n    },\n    noSearchResult: {\n      type: String,\n      default: 'No results found',\n    },\n  },\n\n  data() {\n    return {\n      search: '',\n    };\n  },\n\n  computed: {\n    filteredOptions() {\n      return this.options.filter(option => {\n        return option.name.toLowerCase().includes(this.search.toLowerCase());\n      });\n    },\n    noResult() {\n      return this.filteredOptions.length === 0 && this.search !== '';\n    },\n  },\n\n  mounted() {\n    this.focusInput();\n  },\n\n  methods: {\n    onclick(option) {\n      this.$emit('click', option);\n    },\n    focusInput() {\n      this.$refs.searchbar.focus();\n    },\n    isActive(option) {\n      return this.selectedItems.some(item => item && option.id === item.id);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dropdown-wrap {\n  @apply w-full flex flex-col max-h-[12.5rem];\n}\n\n.search-input {\n  @apply m-0 w-full border border-solid border-transparent h-8 text-sm text-slate-700 dark:text-slate-100 rounded-md focus:border-woot-500 bg-slate-50 dark:bg-slate-900;\n}\n\n.multiselect-dropdown--item {\n  @apply justify-between w-full;\n\n  &.active {\n    @apply bg-slate-25 dark:bg-slate-700 border-slate-50 dark:border-slate-900 font-medium;\n  }\n\n  &:focus {\n    @apply bg-slate-25 dark:bg-slate-700;\n  }\n\n  &:hover {\n    @apply bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-100;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./MultiselectDropdownItems.vue?vue&type=template&id=14c0eb03&scoped=true&\"\nimport script from \"./MultiselectDropdownItems.vue?vue&type=script&lang=js&\"\nexport * from \"./MultiselectDropdownItems.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MultiselectDropdownItems.vue?vue&type=style&index=0&id=14c0eb03&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14c0eb03\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"inbox--name inline-flex items-center py-0.5 px-0 leading-3 whitespace-nowrap font-medium bg-none text-slate-600 dark:text-slate-500 text-xs my-0 mx-2.5\"},[_c('fluent-icon',{staticClass:\"mr-0.5 rtl:ml-0.5 rtl:mr-0\",attrs:{\"icon\":_vm.computedInboxClass,\"size\":\"12\"}}),_vm._v(\"\\n  \"+_vm._s(_vm.inbox.name)+\"\\n\")],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxName.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    class=\"inbox--name inline-flex items-center py-0.5 px-0 leading-3 whitespace-nowrap font-medium bg-none text-slate-600 dark:text-slate-500 text-xs my-0 mx-2.5\"\n  >\n    <fluent-icon\n      class=\"mr-0.5 rtl:ml-0.5 rtl:mr-0\"\n      :icon=\"computedInboxClass\"\n      size=\"12\"\n    />\n    {{ inbox.name }}\n  </div>\n</template>\n<script>\nimport { getInboxClassByType } from 'dashboard/helper/inbox';\n\nexport default {\n  props: {\n    inbox: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    computedInboxClass() {\n      const { phone_number: phoneNumber, channel_type: type } = this.inbox;\n      const classByType = getInboxClassByType(type, phoneNumber);\n      return classByType;\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./InboxName.vue?vue&type=template&id=b0b79042&\"\nimport script from \"./InboxName.vue?vue&type=script&lang=js&\"\nexport * from \"./InboxName.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  methods: {\n    getRegexp(regexPatternValue) {\n      let lastSlash = regexPatternValue.lastIndexOf('/');\n      return new RegExp(\n        regexPatternValue.slice(1, lastSlash),\n        regexPatternValue.slice(lastSlash + 1)\n      );\n    },\n  },\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdownItems.vue?vue&type=style&index=0&id=14c0eb03&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.onCloseDropdown),expression:\"onCloseDropdown\"}],staticClass:\"relative w-full mb-2\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.onCloseDropdown.apply(null, arguments)}}},[_c('woot-button',{staticClass:\"w-full border border-solid border-slate-100 dark:border-slate-700 px-2 hover:border-slate-75 dark:hover:border-slate-600\",attrs:{\"variant\":\"hollow\",\"color-scheme\":\"secondary\"},on:{\"click\":_vm.toggleDropdown}},[_c('div',{staticClass:\"flex gap-1\"},[(_vm.hasValue && _vm.hasThumbnail)?_c('Thumbnail',{attrs:{\"src\":_vm.selectedItem.thumbnail,\"size\":\"24px\",\"status\":_vm.selectedItem.availability_status,\"username\":_vm.selectedItem.name}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-between w-full min-w-0 items-center\"},[(!_vm.hasValue)?_c('h4',{staticClass:\"text-ellipsis text-sm text-slate-800 dark:text-slate-100\"},[_vm._v(\"\\n          \"+_vm._s(_vm.multiselectorPlaceholder)+\"\\n        \")]):_c('h4',{staticClass:\"items-center leading-tight overflow-hidden whitespace-nowrap text-ellipsis text-sm text-slate-800 dark:text-slate-100\",attrs:{\"title\":_vm.selectedItem.name}},[_vm._v(\"\\n          \"+_vm._s(_vm.selectedItem.name)+\"\\n        \")]),_vm._v(\" \"),(_vm.showSearchDropdown)?_c('i',{staticClass:\"icon ion-chevron-up text-slate-600 mr-1\"}):_c('i',{staticClass:\"icon ion-chevron-down text-slate-600 mr-1\"})])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-pane\",class:{ 'dropdown-pane--open': _vm.showSearchDropdown }},[_c('div',{staticClass:\"flex justify-between items-center mb-1\"},[_c('h4',{staticClass:\"text-sm text-slate-800 dark:text-slate-100 m-0 overflow-hidden whitespace-nowrap text-ellipsis\"},[_vm._v(\"\\n        \"+_vm._s(_vm.multiselectorTitle)+\"\\n      \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"icon\":\"dismiss\",\"size\":\"tiny\",\"color-scheme\":\"secondary\",\"variant\":\"clear\"},on:{\"click\":_vm.onCloseDropdown}})],1),_vm._v(\" \"),(_vm.showSearchDropdown)?_c('multiselect-dropdown-items',{attrs:{\"options\":_vm.options,\"selected-items\":[_vm.selectedItem],\"has-thumbnail\":_vm.hasThumbnail,\"input-placeholder\":_vm.inputPlaceholder,\"no-search-result\":_vm.noSearchResult},on:{\"click\":_vm.onClickSelectItem}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdown.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    v-on-clickaway=\"onCloseDropdown\"\n    class=\"relative w-full mb-2\"\n    @keyup.esc=\"onCloseDropdown\"\n  >\n    <woot-button\n      variant=\"hollow\"\n      color-scheme=\"secondary\"\n      class=\"w-full border border-solid border-slate-100 dark:border-slate-700 px-2 hover:border-slate-75 dark:hover:border-slate-600\"\n      @click=\"toggleDropdown\"\n    >\n      <div class=\"flex gap-1\">\n        <Thumbnail\n          v-if=\"hasValue && hasThumbnail\"\n          :src=\"selectedItem.thumbnail\"\n          size=\"24px\"\n          :status=\"selectedItem.availability_status\"\n          :username=\"selectedItem.name\"\n        />\n        <div class=\"flex justify-between w-full min-w-0 items-center\">\n          <h4\n            v-if=\"!hasValue\"\n            class=\"text-ellipsis text-sm text-slate-800 dark:text-slate-100\"\n          >\n            {{ multiselectorPlaceholder }}\n          </h4>\n          <h4\n            v-else\n            class=\"items-center leading-tight overflow-hidden whitespace-nowrap text-ellipsis text-sm text-slate-800 dark:text-slate-100\"\n            :title=\"selectedItem.name\"\n          >\n            {{ selectedItem.name }}\n          </h4>\n          <i\n            v-if=\"showSearchDropdown\"\n            class=\"icon ion-chevron-up text-slate-600 mr-1\"\n          />\n          <i v-else class=\"icon ion-chevron-down text-slate-600 mr-1\" />\n        </div>\n      </div>\n    </woot-button>\n    <div\n      :class=\"{ 'dropdown-pane--open': showSearchDropdown }\"\n      class=\"dropdown-pane\"\n    >\n      <div class=\"flex justify-between items-center mb-1\">\n        <h4\n          class=\"text-sm text-slate-800 dark:text-slate-100 m-0 overflow-hidden whitespace-nowrap text-ellipsis\"\n        >\n          {{ multiselectorTitle }}\n        </h4>\n        <woot-button\n          icon=\"dismiss\"\n          size=\"tiny\"\n          color-scheme=\"secondary\"\n          variant=\"clear\"\n          @click=\"onCloseDropdown\"\n        />\n      </div>\n      <multiselect-dropdown-items\n        v-if=\"showSearchDropdown\"\n        :options=\"options\"\n        :selected-items=\"[selectedItem]\"\n        :has-thumbnail=\"hasThumbnail\"\n        :input-placeholder=\"inputPlaceholder\"\n        :no-search-result=\"noSearchResult\"\n        @click=\"onClickSelectItem\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport MultiselectDropdownItems from 'shared/components/ui/MultiselectDropdownItems.vue';\nexport default {\n  components: {\n    Thumbnail,\n    MultiselectDropdownItems,\n  },\n  props: {\n    options: {\n      type: Array,\n      default: () => [],\n    },\n    selectedItem: {\n      type: Object,\n      default: () => ({}),\n    },\n    hasThumbnail: {\n      type: Boolean,\n      default: true,\n    },\n    multiselectorTitle: {\n      type: String,\n      default: '',\n    },\n    multiselectorPlaceholder: {\n      type: String,\n      default: 'None',\n    },\n    noSearchResult: {\n      type: String,\n      default: 'No results found',\n    },\n    inputPlaceholder: {\n      type: String,\n      default: 'Search',\n    },\n  },\n  data() {\n    return {\n      showSearchDropdown: false,\n    };\n  },\n  computed: {\n    hasValue() {\n      if (this.selectedItem && this.selectedItem.id) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    toggleDropdown() {\n      this.showSearchDropdown = !this.showSearchDropdown;\n    },\n\n    onCloseDropdown() {\n      this.showSearchDropdown = false;\n    },\n\n    onClickSelectItem(value) {\n      this.$emit('click', value);\n      this.onCloseDropdown();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dropdown-pane {\n  @apply box-border top-[2.625rem] w-full;\n}\n</style>\n","import { render, staticRenderFns } from \"./MultiselectDropdown.vue?vue&type=template&id=4f5cbee8&scoped=true&\"\nimport script from \"./MultiselectDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./MultiselectDropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MultiselectDropdown.vue?vue&type=style&index=0&id=4f5cbee8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f5cbee8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"overflow-hidden text-ellipsis whitespace-nowrap\"},[(_vm.showMessageType)?[(_vm.isMessagePrivate)?_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\",attrs:{\"size\":\"16\",\"icon\":\"lock-closed\"}}):(_vm.messageByAgent)?_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\",attrs:{\"size\":\"16\",\"icon\":\"arrow-reply\"}}):(_vm.isMessageAnActivity)?_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\",attrs:{\"size\":\"16\",\"icon\":\"info\"}}):_vm._e()]:_vm._e(),_vm._v(\" \"),(_vm.message.content && _vm.isMessageSticker)?_c('span',[_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\",attrs:{\"size\":\"16\",\"icon\":\"image\"}}),_vm._v(\"\\n    \"+_vm._s(_vm.$t('CHAT_LIST.ATTACHMENTS.image.CONTENT'))+\"\\n  \")],1):(_vm.message.content)?_c('span',[_vm._v(\"\\n    \"+_vm._s(_vm.parsedLastMessage)+\"\\n  \")]):(_vm.message.attachments)?_c('span',[(_vm.attachmentIcon && _vm.showMessageType)?_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\",attrs:{\"size\":\"16\",\"icon\":_vm.attachmentIcon}}):_vm._e(),_vm._v(\"\\n    \"+_vm._s(_vm.$t(`${_vm.attachmentMessageContent}`))+\"\\n  \")],1):_c('span',[_vm._v(\"\\n    \"+_vm._s(_vm.defaultEmptyMessage || _vm.$t('CHAT_LIST.NO_CONTENT'))+\"\\n  \")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"overflow-hidden text-ellipsis whitespace-nowrap\">\n    <template v-if=\"showMessageType\">\n      <fluent-icon\n        v-if=\"isMessagePrivate\"\n        size=\"16\"\n        class=\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\"\n        icon=\"lock-closed\"\n      />\n      <fluent-icon\n        v-else-if=\"messageByAgent\"\n        size=\"16\"\n        class=\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\"\n        icon=\"arrow-reply\"\n      />\n      <fluent-icon\n        v-else-if=\"isMessageAnActivity\"\n        size=\"16\"\n        class=\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\"\n        icon=\"info\"\n      />\n    </template>\n    <span v-if=\"message.content && isMessageSticker\">\n      <fluent-icon\n        size=\"16\"\n        class=\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\"\n        icon=\"image\"\n      />\n      {{ $t('CHAT_LIST.ATTACHMENTS.image.CONTENT') }}\n    </span>\n    <span v-else-if=\"message.content\">\n      {{ parsedLastMessage }}\n    </span>\n    <span v-else-if=\"message.attachments\">\n      <fluent-icon\n        v-if=\"attachmentIcon && showMessageType\"\n        size=\"16\"\n        class=\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\"\n        :icon=\"attachmentIcon\"\n      />\n      {{ $t(`${attachmentMessageContent}`) }}\n    </span>\n    <span v-else>\n      {{ defaultEmptyMessage || $t('CHAT_LIST.NO_CONTENT') }}\n    </span>\n  </div>\n</template>\n\n<script>\nimport { MESSAGE_TYPE } from 'widget/helpers/constants';\nimport messageFormatterMixin from 'shared/mixins/messageFormatterMixin';\nimport { ATTACHMENT_ICONS } from 'shared/constants/messages';\n\nexport default {\n  name: 'MessagePreview',\n  mixins: [messageFormatterMixin],\n  props: {\n    message: {\n      type: Object,\n      required: true,\n    },\n    showMessageType: {\n      type: Boolean,\n      default: true,\n    },\n    defaultEmptyMessage: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    messageByAgent() {\n      const { message_type: messageType } = this.message;\n      return messageType === MESSAGE_TYPE.OUTGOING;\n    },\n    isMessageAnActivity() {\n      const { message_type: messageType } = this.message;\n      return messageType === MESSAGE_TYPE.ACTIVITY;\n    },\n    isMessagePrivate() {\n      const { private: isPrivate } = this.message;\n      return isPrivate;\n    },\n    parsedLastMessage() {\n      const { content_attributes: contentAttributes } = this.message;\n      const { email: { subject } = {} } = contentAttributes || {};\n      return this.getPlainText(subject || this.message.content);\n    },\n    lastMessageFileType() {\n      const [{ file_type: fileType } = {}] = this.message.attachments;\n      return fileType;\n    },\n    attachmentIcon() {\n      return ATTACHMENT_ICONS[this.lastMessageFileType];\n    },\n    attachmentMessageContent() {\n      return `CHAT_LIST.ATTACHMENTS.${this.lastMessageFileType}.CONTENT`;\n    },\n    isMessageSticker() {\n      return this.message && this.message.content_type === 'sticker';\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessagePreview.vue?vue&type=template&id=162c6f22&\"\nimport script from \"./MessagePreview.vue?vue&type=script&lang=js&\"\nexport * from \"./MessagePreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { required, minLength } from '@vuelidate/validators';\n\nexport const validLabelCharacters = (str = '') => !!str && !str.includes(' ');\n\nexport const getLabelTitleErrorMessage = validation => {\n  let errorMessage = '';\n  if (!validation.title.$error) {\n    errorMessage = '';\n  } else if (!validation.title.required) {\n    errorMessage = 'LABEL_MGMT.FORM.NAME.REQUIRED_ERROR';\n  } else if (!validation.title.minLength) {\n    errorMessage = 'LABEL_MGMT.FORM.NAME.MINIMUM_LENGTH_ERROR';\n  } else if (!validation.title.validLabelCharacters) {\n    errorMessage = 'LABEL_MGMT.FORM.NAME.VALID_ERROR';\n  }\n  return errorMessage;\n};\n\nexport default {\n  title: {\n    required,\n    minLength: minLength(2),\n    validLabelCharacters,\n  },\n  description: {},\n  color: {\n    required,\n  },\n  showOnSidebar: {},\n};\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n// Pico Search v0.5.1 · The MIT License · Copyright © 2023 Shivam Mishra.\nfunction p(e, t) {\n  if (e.length < t.length) {\n    var n = e;\n    e = t, t = n;\n  }\n\n  var i = e.length,\n      o = t.length;\n  if (!o) return 0;\n  var s = Math.max(1, i / 2) - 1,\n      a = Array(o).fill(!1),\n      m = Array(i).fill(\"\"),\n      r = 0;\n\n  for (var _n = 0; _n < i; _n++) {\n    var u = e[_n];\n\n    for (var h = 0; h < o; h++) {\n      var d = t[h];\n\n      if (h <= _n + s && h + s >= 1 && u === d && !a[h]) {\n        a[h] = !0, m[r++] = u;\n        break;\n      }\n    }\n  }\n\n  if (!r) return 0;\n  var c = 0;\n\n  for (var _n2 = 0, _u = 0; _u < o; _u++) {\n    a[_u] && (t[_u] !== m[_n2] && c++, _n2++);\n  }\n\n  var l = r,\n      g = (l / i + l / o + (l - c / 2) / l) / 3,\n      f = 0;\n  o = Math.min(4, o);\n\n  for (var _n3 = 0; _n3 < o; _n3++) {\n    e[_n3] === t[_n3] && f++;\n  }\n\n  return g + f * .1 * (1 - g);\n}\n\nfunction y(e, t) {\n  if (t && e.length !== t.length) throw new Error(\"The number of values must be equal to the number of weights\");\n  var i = e.reduce(function (s, a, m) {\n    var r = t ? t[m] : 1;\n    return s + a * r;\n  }, 0),\n      o = t ? t.reduce(function (s, a) {\n    return s + a;\n  }, 0) : e.length;\n  return i / o;\n}\n\nfunction S(e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return Math.max(t, Math.min(i, e));\n}\n\nfunction T(e) {\n  return e.split(/\\s+/).filter(function (t, i, o) {\n    return t && o.indexOf(t) === i;\n  });\n}\n\nvar b = {\n  CONTAINS_MATCH: 1.2,\n  FIRST_SIMILARITY: 1.1,\n  STARTS_WITH: 1.05\n};\n\nfunction O(e, t, i, o) {\n  var s = [],\n      a = o && o.threshold || .8,\n      m = t.trim().toLowerCase();\n  return t ? (e.forEach(function (r) {\n    var c = [],\n        l = [];\n\n    var _iterator = _createForOfIteratorHelper(i),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var f = _step.value;\n        var n = typeof f == \"string\" ? f : f.name;\n\n        if (typeof f != \"string\" ? l.push(f.weight) : l.push(1), Object.prototype.hasOwnProperty.call(r, n) && typeof r[n] == \"string\") {\n          var u = r[n].trim().toLowerCase(),\n              h = A(u, m);\n          c.push(h);\n        } else c.push(0);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    var g = y(c, l);\n    g >= a && s.push({\n      object: r,\n      similarity: g\n    });\n  }), s.sort(function (r, c) {\n    return c.similarity - r.similarity;\n  }), s.map(function (r) {\n    return r.object;\n  })) : e;\n}\n\nfunction A(e, t) {\n  var i = T(e),\n      s = T(t).map(function (a) {\n    var m = i.map(function (l) {\n      return W(l, a);\n    }),\n        r = Math.max.apply(Math, _toConsumableArray(m)),\n        c = m[0];\n    return r === c ? r * b.FIRST_SIMILARITY : S(r);\n  });\n  return y(s);\n}\n\nfunction W(e, t) {\n  var i = p(e, t);\n  return e.includes(t) ? i * b.CONTAINS_MATCH : i;\n}\n\nexport { O as picoSearch };","const getLastNonActivityMessage = (messageInStore, messageFromAPI) => {\n  // If both API value and store value for last non activity message\n  // are available, then return the latest one.\n  if (messageInStore && messageFromAPI) {\n    if (messageInStore.created_at >= messageFromAPI.created_at) {\n      return messageInStore;\n    }\n    return messageFromAPI;\n  }\n\n  // Otherwise, return whichever is available\n  return messageInStore || messageFromAPI;\n};\n\nexport const filterDuplicateSourceMessages = (messages = []) => {\n  const messagesWithoutDuplicates = [];\n  // We cannot use Map or any short hand method as it returns the last message with the duplicate ID\n  // We should return the message with smaller id when there is a duplicate\n  messages.forEach(m1 => {\n    if (m1.source_id) {\n      if (\n        messagesWithoutDuplicates.findIndex(\n          m2 => m1.source_id === m2.source_id\n        ) < 0\n      ) {\n        messagesWithoutDuplicates.push(m1);\n      }\n    } else {\n      messagesWithoutDuplicates.push(m1);\n    }\n  });\n  return messagesWithoutDuplicates;\n};\n\nexport default {\n  methods: {\n    lastMessage(m) {\n      let lastMessageIncludingActivity = m.messages.last();\n\n      const nonActivityMessages = m.messages.filter(\n        message => message.message_type !== 2\n      );\n      let lastNonActivityMessageInStore = nonActivityMessages.last();\n      let lastNonActivityMessageFromAPI = m.last_non_activity_message;\n\n      // If API value and store value for last non activity message\n      // is empty, then return the last activity message\n      if (!lastNonActivityMessageInStore && !lastNonActivityMessageFromAPI) {\n        return lastMessageIncludingActivity;\n      }\n\n      return getLastNonActivityMessage(\n        lastNonActivityMessageInStore,\n        lastNonActivityMessageFromAPI\n      );\n    },\n    readMessages(messages, agentLastSeenAt) {\n      return messages.filter(\n        message => message.created_at * 1000 <= agentLastSeenAt * 1000\n      );\n    },\n    unReadMessages(messages, agentLastSeenAt) {\n      return messages.filter(\n        message => message.created_at * 1000 > agentLastSeenAt * 1000\n      );\n    },\n  },\n};\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=style&index=0&id=bb95ea30&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardLabels.vue?vue&type=style&index=0&id=a39cc454&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdown.vue?vue&type=style&index=0&id=4f5cbee8&prod&lang=scss&scoped=true&\"","import { useAlert } from 'dashboard/composables';\nimport {\n  MAXIMUM_FILE_UPLOAD_SIZE,\n  MAXIMUM_FILE_UPLOAD_SIZE_TWILIO_SMS_CHANNEL,\n} from 'shared/constants/messages';\nimport { checkFileSizeLimit } from 'shared/helpers/FileHelper';\nimport { DirectUpload } from 'activestorage';\n\nexport default {\n  methods: {\n    onFileUpload(file) {\n      if (this.globalConfig.directUploadsEnabled) {\n        this.onDirectFileUpload(file);\n      } else {\n        this.onIndirectFileUpload(file);\n      }\n    },\n    onDirectFileUpload(file) {\n      const MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE = this.isATwilioSMSChannel\n        ? MAXIMUM_FILE_UPLOAD_SIZE_TWILIO_SMS_CHANNEL\n        : MAXIMUM_FILE_UPLOAD_SIZE;\n\n      if (!file) {\n        return;\n      }\n      if (checkFileSizeLimit(file, MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE)) {\n        const upload = new DirectUpload(\n          file.file,\n          `/api/v1/accounts/${this.accountId}/conversations/${this.currentChat.id}/direct_uploads`,\n          {\n            directUploadWillCreateBlobWithXHR: xhr => {\n              xhr.setRequestHeader(\n                'api_access_token',\n                this.currentUser.access_token\n              );\n            },\n          }\n        );\n\n        upload.create((error, blob) => {\n          if (error) {\n            useAlert(error);\n          } else {\n            this.attachFile({ file, blob });\n          }\n        });\n      } else {\n        useAlert(\n          this.$t('CONVERSATION.FILE_SIZE_LIMIT', {\n            MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE,\n          })\n        );\n      }\n    },\n    onIndirectFileUpload(file) {\n      const MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE = this.isATwilioSMSChannel\n        ? MAXIMUM_FILE_UPLOAD_SIZE_TWILIO_SMS_CHANNEL\n        : MAXIMUM_FILE_UPLOAD_SIZE;\n      if (!file) {\n        return;\n      }\n      if (checkFileSizeLimit(file, MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE)) {\n        this.attachFile({ file });\n      } else {\n        useAlert(\n          this.$t('CONVERSATION.FILE_SIZE_LIMIT', {\n            MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE,\n          })\n        );\n      }\n    },\n  },\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"custom-attributes--panel\"},[_vm._l((_vm.displayedAttributes),function(attribute){return _c('custom-attribute',{key:attribute.id,class:_vm.attributeClass,attrs:{\"attribute-key\":attribute.attribute_key,\"attribute-type\":attribute.attribute_display_type,\"values\":attribute.attribute_values,\"label\":attribute.attribute_display_name,\"description\":attribute.attribute_description,\"value\":attribute.value,\"show-actions\":true,\"attribute-regex\":attribute.regex_pattern,\"regex-cue\":attribute.regex_cue,\"contact-id\":_vm.contactId},on:{\"update\":_vm.onUpdate,\"delete\":_vm.onDelete,\"copy\":_vm.onCopy}})}),_vm._v(\" \"),(!_vm.displayedAttributes.length && _vm.emptyStateMessage)?_c('p',{staticClass:\"p-3 text-center\"},[_vm._v(\"\\n    \"+_vm._s(_vm.emptyStateMessage)+\"\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.filteredAttributes.length > 5)?_c('div',{staticClass:\"flex px-2 py-2\"},[_c('woot-button',{staticClass:\"!px-2 hover:!bg-transparent dark:hover:!bg-transparent\",attrs:{\"size\":\"small\",\"icon\":_vm.showAllAttributes ? 'chevron-up' : 'chevron-down',\"variant\":\"clear\",\"color-scheme\":\"primary\"},on:{\"click\":_vm.onClickToggle}},[_vm._v(\"\\n      \"+_vm._s(_vm.toggleButtonText)+\"\\n    \")])],1):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelperTextPopup.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelperTextPopup.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./HelperTextPopup.vue?vue&type=template&id=9afa7636&\"\nimport script from \"./HelperTextPopup.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./HelperTextPopup.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"relative group w-[inherit] whitespace-normal z-20\"},[_c('fluent-icon',{staticClass:\"mt-0.5 text-slate-600 absolute dark:text-slate-400\",attrs:{\"icon\":\"info\",\"size\":\"14\"}}),_vm._v(\" \"),_c('div',{staticClass:\"bg-white dark:bg-slate-900 w-fit ltr:left-4 rtl:right-4 top-0 border p-2.5 group-hover:flex items-center hidden absolute border-slate-75 dark:border-slate-800 rounded-lg shadow-md\"},[_c('p',{staticClass:\"text-slate-800 dark:text-slate-75 mb-0 text-xs\"},[_vm._v(\"\\n      \"+_vm._s(_vm.message)+\"\\n    \")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttribute.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttribute.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"py-3 px-4\">\n    <div class=\"flex items-center mb-1\">\n      <h4 class=\"text-sm flex items-center m-0 w-full error\">\n        <div v-if=\"isAttributeTypeCheckbox\" class=\"flex items-center\">\n          <input\n            v-model=\"editedValue\"\n            class=\"!my-0 mr-2 ml-0\"\n            type=\"checkbox\"\n            @change=\"onUpdate\"\n          />\n        </div>\n        <div class=\"flex items-center justify-between w-full\">\n          <span\n            class=\"w-full inline-flex gap-1.5 items-start font-medium whitespace-nowrap text-sm mb-0\"\n            :class=\"\n              v$.editedValue.$error\n                ? 'text-red-400 dark:text-red-500'\n                : 'text-slate-800 dark:text-slate-100'\n            \"\n          >\n            {{ label }}\n            <helper-text-popup\n              v-if=\"description\"\n              :message=\"description\"\n              class=\"mt-0.5\"\n            />\n          </span>\n          <woot-button\n            v-if=\"showActions && value\"\n            v-tooltip.left=\"$t('CUSTOM_ATTRIBUTES.ACTIONS.DELETE')\"\n            variant=\"link\"\n            size=\"medium\"\n            color-scheme=\"secondary\"\n            icon=\"delete\"\n            class-names=\"flex justify-end w-4\"\n            @click=\"onDelete\"\n          />\n        </div>\n      </h4>\n    </div>\n    <div v-if=\"notAttributeTypeCheckboxAndList\">\n      <div v-if=\"isEditing\" v-on-clickaway=\"onClickAway\">\n        <div class=\"mb-2 w-full flex items-center\">\n          <input\n            ref=\"inputfield\"\n            v-model=\"editedValue\"\n            :type=\"inputType\"\n            class=\"!h-8 ltr:!rounded-r-none rtl:!rounded-l-none !mb-0 !text-sm\"\n            autofocus=\"true\"\n            :class=\"{ error: v$.editedValue.$error }\"\n            @blur=\"v$.editedValue.$touch\"\n            @keyup.enter=\"onUpdate\"\n          />\n          <div>\n            <woot-button\n              size=\"small\"\n              icon=\"checkmark\"\n              class=\"rounded-l-none rtl:rounded-r-none\"\n              @click=\"onUpdate\"\n            />\n          </div>\n        </div>\n        <span\n          v-if=\"shouldShowErrorMessage\"\n          class=\"text-red-400 dark:text-red-500 text-sm block font-normal -mt-px w-full\"\n        >\n          {{ errorMessage }}\n        </span>\n      </div>\n      <div\n        v-show=\"!isEditing\"\n        class=\"flex group\"\n        :class=\"{ 'is-editable': showActions }\"\n      >\n        <a\n          v-if=\"isAttributeTypeLink\"\n          :href=\"hrefURL\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          class=\"group-hover:bg-slate-50 group-hover:dark:bg-slate-700 inline-block rounded-sm mb-0 break-all py-0.5 px-1\"\n        >\n          {{ urlValue }}\n        </a>\n        <p\n          v-else\n          class=\"group-hover:bg-slate-50 group-hover:dark:bg-slate-700 inline-block rounded-sm mb-0 break-all py-0.5 px-1\"\n        >\n          {{ displayValue || '---' }}\n        </p>\n        <div class=\"flex max-w-[2rem] gap-1 ml-1 rtl:mr-1 rtl:ml-0\">\n          <woot-button\n            v-if=\"showActions && value\"\n            v-tooltip=\"$t('CUSTOM_ATTRIBUTES.ACTIONS.COPY')\"\n            variant=\"link\"\n            size=\"small\"\n            color-scheme=\"secondary\"\n            icon=\"clipboard\"\n            class-names=\"hidden group-hover:flex !w-6 flex-shrink-0\"\n            @click=\"onCopy\"\n          />\n          <woot-button\n            v-if=\"showActions\"\n            v-tooltip.right=\"$t('CUSTOM_ATTRIBUTES.ACTIONS.EDIT')\"\n            variant=\"link\"\n            size=\"small\"\n            color-scheme=\"secondary\"\n            icon=\"edit\"\n            class-names=\"hidden group-hover:flex !w-6 flex-shrink-0\"\n            @click=\"onEdit\"\n          />\n        </div>\n      </div>\n    </div>\n    <div v-if=\"isAttributeTypeList\">\n      <multiselect-dropdown\n        :options=\"listOptions\"\n        :selected-item=\"selectedItem\"\n        :has-thumbnail=\"false\"\n        :multiselector-placeholder=\"\n          $t('CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.PLACEHOLDER')\n        \"\n        :no-search-result=\"\n          $t('CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.NO_RESULT')\n        \"\n        :input-placeholder=\"\n          $t(\n            'CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.SEARCH_INPUT_PLACEHOLDER'\n          )\n        \"\n        @click=\"onUpdateListValue\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { format, parseISO } from 'date-fns';\nimport { required, url } from '@vuelidate/validators';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport MultiselectDropdown from 'shared/components/ui/MultiselectDropdown.vue';\nimport HelperTextPopup from 'dashboard/components/ui/HelperTextPopup.vue';\nimport { isValidURL } from '../helper/URLHelper';\nimport customAttributeMixin from '../mixins/customAttributeMixin';\nimport { useVuelidate } from '@vuelidate/core';\n\nconst DATE_FORMAT = 'yyyy-MM-dd';\n\nexport default {\n  components: {\n    MultiselectDropdown,\n    HelperTextPopup,\n  },\n  mixins: [customAttributeMixin],\n  props: {\n    label: { type: String, required: true },\n    description: { type: String, default: '' },\n    values: { type: Array, default: () => [] },\n    value: { type: [String, Number, Boolean], default: '' },\n    showActions: { type: Boolean, default: false },\n    attributeType: { type: String, default: 'text' },\n    attributeRegex: {\n      type: String,\n      default: null,\n    },\n    regexCue: { type: String, default: null },\n    regexEnabled: { type: Boolean, default: false },\n    attributeKey: { type: String, required: true },\n    contactId: { type: Number, default: null },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      isEditing: false,\n      editedValue: null,\n    };\n  },\n  computed: {\n    displayValue() {\n      if (this.isAttributeTypeDate) {\n        return this.value\n          ? new Date(this.value || new Date()).toLocaleDateString()\n          : '';\n      }\n      if (this.isAttributeTypeCheckbox) {\n        return this.value === 'false' ? false : this.value;\n      }\n      return this.value;\n    },\n    formattedValue() {\n      return this.isAttributeTypeDate\n        ? format(this.value ? new Date(this.value) : new Date(), DATE_FORMAT)\n        : this.value;\n    },\n    listOptions() {\n      return this.values.map((value, index) => ({\n        id: index + 1,\n        name: value,\n      }));\n    },\n    selectedItem() {\n      const id = this.values.indexOf(this.editedValue) + 1;\n      return { id, name: this.editedValue };\n    },\n    isAttributeTypeCheckbox() {\n      return this.attributeType === 'checkbox';\n    },\n    isAttributeTypeList() {\n      return this.attributeType === 'list';\n    },\n    isAttributeTypeLink() {\n      return this.attributeType === 'link';\n    },\n    isAttributeTypeDate() {\n      return this.attributeType === 'date';\n    },\n    urlValue() {\n      return isValidURL(this.value) ? this.value : '---';\n    },\n    hrefURL() {\n      return isValidURL(this.value) ? this.value : '';\n    },\n    notAttributeTypeCheckboxAndList() {\n      return !this.isAttributeTypeCheckbox && !this.isAttributeTypeList;\n    },\n    inputType() {\n      return this.isAttributeTypeLink ? 'url' : this.attributeType;\n    },\n    shouldShowErrorMessage() {\n      return this.v$.editedValue.$error;\n    },\n    errorMessage() {\n      if (this.v$.editedValue.url) {\n        return this.$t('CUSTOM_ATTRIBUTES.VALIDATIONS.INVALID_URL');\n      }\n      if (!this.v$.editedValue.regexValidation) {\n        return this.regexCue\n          ? this.regexCue\n          : this.$t('CUSTOM_ATTRIBUTES.VALIDATIONS.INVALID_INPUT');\n      }\n      return this.$t('CUSTOM_ATTRIBUTES.VALIDATIONS.REQUIRED');\n    },\n  },\n  watch: {\n    value() {\n      this.isEditing = false;\n      this.editedValue = this.formattedValue;\n    },\n    contactId() {\n      // Fix to solve validation not resetting when contactId changes in contact page\n      this.v$.$reset();\n    },\n  },\n\n  validations() {\n    if (this.isAttributeTypeLink) {\n      return {\n        editedValue: { required, url },\n      };\n    }\n    return {\n      editedValue: {\n        required,\n        regexValidation: value => {\n          return !(\n            this.attributeRegex &&\n            !this.getRegexp(this.attributeRegex).test(value)\n          );\n        },\n      },\n    };\n  },\n  mounted() {\n    this.editedValue = this.formattedValue;\n    this.$emitter.on(BUS_EVENTS.FOCUS_CUSTOM_ATTRIBUTE, this.onFocusAttribute);\n  },\n  destroyed() {\n    this.$emitter.off(BUS_EVENTS.FOCUS_CUSTOM_ATTRIBUTE, this.onFocusAttribute);\n  },\n  methods: {\n    onFocusAttribute(focusAttributeKey) {\n      if (this.attributeKey === focusAttributeKey) {\n        this.onEdit();\n      }\n    },\n    focusInput() {\n      if (this.$refs.inputfield) {\n        this.$refs.inputfield.focus();\n      }\n    },\n    onClickAway() {\n      this.v$.$reset();\n      this.isEditing = false;\n    },\n    onEdit() {\n      this.isEditing = true;\n      this.$nextTick(() => {\n        this.focusInput();\n      });\n    },\n    onUpdateListValue(value) {\n      if (value) {\n        this.editedValue = value.name;\n        this.onUpdate();\n      }\n    },\n    onUpdate() {\n      const updatedValue =\n        this.attributeType === 'date'\n          ? parseISO(this.editedValue)\n          : this.editedValue;\n      this.v$.$touch();\n      if (this.v$.$invalid) {\n        return;\n      }\n      this.isEditing = false;\n      this.$emit('update', this.attributeKey, updatedValue);\n    },\n    onDelete() {\n      this.isEditing = false;\n      this.v$.$reset();\n      this.$emit('delete', this.attributeKey);\n    },\n    onCopy() {\n      this.$emit('copy', this.value);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep {\n  .selector-wrap {\n    @apply m-0 top-1;\n    .selector-name {\n      @apply ml-0;\n    }\n  }\n  .name {\n    @apply ml-0;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./CustomAttribute.vue?vue&type=template&id=42c60c81&scoped=true&\"\nimport script from \"./CustomAttribute.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomAttribute.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomAttribute.vue?vue&type=style&index=0&id=42c60c81&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42c60c81\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"py-3 px-4\"},[_c('div',{staticClass:\"flex items-center mb-1\"},[_c('h4',{staticClass:\"text-sm flex items-center m-0 w-full error\"},[(_vm.isAttributeTypeCheckbox)?_c('div',{staticClass:\"flex items-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editedValue),expression:\"editedValue\"}],staticClass:\"!my-0 mr-2 ml-0\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.editedValue)?_vm._i(_vm.editedValue,null)>-1:(_vm.editedValue)},on:{\"change\":[function($event){var $$a=_vm.editedValue,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.editedValue=$$a.concat([$$v]))}else{$$i>-1&&(_vm.editedValue=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.editedValue=$$c}},_vm.onUpdate]}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-between w-full\"},[_c('span',{staticClass:\"w-full inline-flex gap-1.5 items-start font-medium whitespace-nowrap text-sm mb-0\",class:_vm.v$.editedValue.$error\n              ? 'text-red-400 dark:text-red-500'\n              : 'text-slate-800 dark:text-slate-100'},[_vm._v(\"\\n          \"+_vm._s(_vm.label)+\"\\n          \"),(_vm.description)?_c('helper-text-popup',{staticClass:\"mt-0.5\",attrs:{\"message\":_vm.description}}):_vm._e()],1),_vm._v(\" \"),(_vm.showActions && _vm.value)?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(_vm.$t('CUSTOM_ATTRIBUTES.ACTIONS.DELETE')),expression:\"$t('CUSTOM_ATTRIBUTES.ACTIONS.DELETE')\",modifiers:{\"left\":true}}],attrs:{\"variant\":\"link\",\"size\":\"medium\",\"color-scheme\":\"secondary\",\"icon\":\"delete\",\"class-names\":\"flex justify-end w-4\"},on:{\"click\":_vm.onDelete}}):_vm._e()],1)])]),_vm._v(\" \"),(_vm.notAttributeTypeCheckboxAndList)?_c('div',[(_vm.isEditing)?_c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.onClickAway),expression:\"onClickAway\"}]},[_c('div',{staticClass:\"mb-2 w-full flex items-center\"},[((_vm.inputType)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editedValue),expression:\"editedValue\"}],ref:\"inputfield\",staticClass:\"!h-8 ltr:!rounded-r-none rtl:!rounded-l-none !mb-0 !text-sm\",class:{ error: _vm.v$.editedValue.$error },attrs:{\"autofocus\":\"true\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.editedValue)?_vm._i(_vm.editedValue,null)>-1:(_vm.editedValue)},on:{\"blur\":_vm.v$.editedValue.$touch,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onUpdate.apply(null, arguments)},\"change\":function($event){var $$a=_vm.editedValue,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.editedValue=$$a.concat([$$v]))}else{$$i>-1&&(_vm.editedValue=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.editedValue=$$c}}}}):((_vm.inputType)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editedValue),expression:\"editedValue\"}],ref:\"inputfield\",staticClass:\"!h-8 ltr:!rounded-r-none rtl:!rounded-l-none !mb-0 !text-sm\",class:{ error: _vm.v$.editedValue.$error },attrs:{\"autofocus\":\"true\",\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.editedValue,null)},on:{\"blur\":_vm.v$.editedValue.$touch,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onUpdate.apply(null, arguments)},\"change\":function($event){_vm.editedValue=null}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editedValue),expression:\"editedValue\"}],ref:\"inputfield\",staticClass:\"!h-8 ltr:!rounded-r-none rtl:!rounded-l-none !mb-0 !text-sm\",class:{ error: _vm.v$.editedValue.$error },attrs:{\"autofocus\":\"true\",\"type\":_vm.inputType},domProps:{\"value\":(_vm.editedValue)},on:{\"blur\":_vm.v$.editedValue.$touch,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onUpdate.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.editedValue=$event.target.value}}}),_vm._v(\" \"),_c('div',[_c('woot-button',{staticClass:\"rounded-l-none rtl:rounded-r-none\",attrs:{\"size\":\"small\",\"icon\":\"checkmark\"},on:{\"click\":_vm.onUpdate}})],1)]),_vm._v(\" \"),(_vm.shouldShowErrorMessage)?_c('span',{staticClass:\"text-red-400 dark:text-red-500 text-sm block font-normal -mt-px w-full\"},[_vm._v(\"\\n        \"+_vm._s(_vm.errorMessage)+\"\\n      \")]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEditing),expression:\"!isEditing\"}],staticClass:\"flex group\",class:{ 'is-editable': _vm.showActions }},[(_vm.isAttributeTypeLink)?_c('a',{staticClass:\"group-hover:bg-slate-50 group-hover:dark:bg-slate-700 inline-block rounded-sm mb-0 break-all py-0.5 px-1\",attrs:{\"href\":_vm.hrefURL,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.urlValue)+\"\\n      \")]):_c('p',{staticClass:\"group-hover:bg-slate-50 group-hover:dark:bg-slate-700 inline-block rounded-sm mb-0 break-all py-0.5 px-1\"},[_vm._v(\"\\n        \"+_vm._s(_vm.displayValue || '---')+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex max-w-[2rem] gap-1 ml-1 rtl:mr-1 rtl:ml-0\"},[(_vm.showActions && _vm.value)?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('CUSTOM_ATTRIBUTES.ACTIONS.COPY')),expression:\"$t('CUSTOM_ATTRIBUTES.ACTIONS.COPY')\"}],attrs:{\"variant\":\"link\",\"size\":\"small\",\"color-scheme\":\"secondary\",\"icon\":\"clipboard\",\"class-names\":\"hidden group-hover:flex !w-6 flex-shrink-0\"},on:{\"click\":_vm.onCopy}}):_vm._e(),_vm._v(\" \"),(_vm.showActions)?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.right\",value:(_vm.$t('CUSTOM_ATTRIBUTES.ACTIONS.EDIT')),expression:\"$t('CUSTOM_ATTRIBUTES.ACTIONS.EDIT')\",modifiers:{\"right\":true}}],attrs:{\"variant\":\"link\",\"size\":\"small\",\"color-scheme\":\"secondary\",\"icon\":\"edit\",\"class-names\":\"hidden group-hover:flex !w-6 flex-shrink-0\"},on:{\"click\":_vm.onEdit}}):_vm._e()],1)])]):_vm._e(),_vm._v(\" \"),(_vm.isAttributeTypeList)?_c('div',[_c('multiselect-dropdown',{attrs:{\"options\":_vm.listOptions,\"selected-item\":_vm.selectedItem,\"has-thumbnail\":false,\"multiselector-placeholder\":_vm.$t('CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.PLACEHOLDER'),\"no-search-result\":_vm.$t('CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.NO_RESULT'),\"input-placeholder\":_vm.$t(\n          'CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.SEARCH_INPUT_PLACEHOLDER'\n        )},on:{\"click\":_vm.onUpdateListValue}})],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"custom-attributes--panel\">\n    <custom-attribute\n      v-for=\"attribute in displayedAttributes\"\n      :key=\"attribute.id\"\n      :attribute-key=\"attribute.attribute_key\"\n      :attribute-type=\"attribute.attribute_display_type\"\n      :values=\"attribute.attribute_values\"\n      :label=\"attribute.attribute_display_name\"\n      :description=\"attribute.attribute_description\"\n      :value=\"attribute.value\"\n      :show-actions=\"true\"\n      :attribute-regex=\"attribute.regex_pattern\"\n      :regex-cue=\"attribute.regex_cue\"\n      :class=\"attributeClass\"\n      :contact-id=\"contactId\"\n      @update=\"onUpdate\"\n      @delete=\"onDelete\"\n      @copy=\"onCopy\"\n    />\n    <p\n      v-if=\"!displayedAttributes.length && emptyStateMessage\"\n      class=\"p-3 text-center\"\n    >\n      {{ emptyStateMessage }}\n    </p>\n    <!-- Show more and show less buttons show it if the filteredAttributes length is greater than 5 -->\n    <div v-if=\"filteredAttributes.length > 5\" class=\"flex px-2 py-2\">\n      <woot-button\n        size=\"small\"\n        :icon=\"showAllAttributes ? 'chevron-up' : 'chevron-down'\"\n        variant=\"clear\"\n        color-scheme=\"primary\"\n        class=\"!px-2 hover:!bg-transparent dark:hover:!bg-transparent\"\n        @click=\"onClickToggle\"\n      >\n        {{ toggleButtonText }}\n      </woot-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useAlert } from 'dashboard/composables';\nimport { useUISettings } from 'dashboard/composables/useUISettings';\nimport { copyTextToClipboard } from 'shared/helpers/clipboard';\nimport CustomAttribute from 'dashboard/components/CustomAttribute.vue';\nimport attributeMixin from 'dashboard/mixins/attributeMixin';\n\nexport default {\n  components: {\n    CustomAttribute,\n  },\n  mixins: [attributeMixin],\n  props: {\n    attributeType: {\n      type: String,\n      default: 'conversation_attribute',\n    },\n    attributeClass: {\n      type: String,\n      default: '',\n    },\n    contactId: { type: Number, default: null },\n    attributeFrom: {\n      type: String,\n      required: true,\n    },\n    emptyStateMessage: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    const { uiSettings, updateUISettings } = useUISettings();\n\n    return {\n      uiSettings,\n      updateUISettings,\n    };\n  },\n  data() {\n    return {\n      showAllAttributes: false,\n    };\n  },\n  computed: {\n    toggleButtonText() {\n      return !this.showAllAttributes\n        ? this.$t('CUSTOM_ATTRIBUTES.SHOW_MORE')\n        : this.$t('CUSTOM_ATTRIBUTES.SHOW_LESS');\n    },\n    filteredAttributes() {\n      return this.attributes.map(attribute => {\n        // Check if the attribute key exists in customAttributes\n        const hasValue = Object.hasOwnProperty.call(\n          this.customAttributes,\n          attribute.attribute_key\n        );\n\n        const isCheckbox = attribute.attribute_display_type === 'checkbox';\n        const defaultValue = isCheckbox ? false : '';\n\n        return {\n          ...attribute,\n          // Set value from customAttributes if it exists, otherwise use default value\n          value: hasValue\n            ? this.customAttributes[attribute.attribute_key]\n            : defaultValue,\n        };\n      });\n    },\n    displayedAttributes() {\n      // Show only the first 5 attributes or all depending on showAllAttributes\n      if (this.showAllAttributes || this.filteredAttributes.length <= 5) {\n        return this.filteredAttributes;\n      }\n      return this.filteredAttributes.slice(0, 5);\n    },\n    showMoreUISettingsKey() {\n      return `show_all_attributes_${this.attributeFrom}`;\n    },\n  },\n  mounted() {\n    this.initializeSettings();\n  },\n  methods: {\n    initializeSettings() {\n      this.showAllAttributes =\n        this.uiSettings[this.showMoreUISettingsKey] || false;\n    },\n    onClickToggle() {\n      this.showAllAttributes = !this.showAllAttributes;\n      this.updateUISettings({\n        [this.showMoreUISettingsKey]: this.showAllAttributes,\n      });\n    },\n    async onUpdate(key, value) {\n      const updatedAttributes = { ...this.customAttributes, [key]: value };\n      try {\n        if (this.attributeType === 'conversation_attribute') {\n          await this.$store.dispatch('updateCustomAttributes', {\n            conversationId: this.conversationId,\n            customAttributes: updatedAttributes,\n          });\n        } else {\n          this.$store.dispatch('contacts/update', {\n            id: this.contactId,\n            custom_attributes: updatedAttributes,\n          });\n        }\n        useAlert(this.$t('CUSTOM_ATTRIBUTES.FORM.UPDATE.SUCCESS'));\n      } catch (error) {\n        const errorMessage =\n          error?.response?.message ||\n          this.$t('CUSTOM_ATTRIBUTES.FORM.UPDATE.ERROR');\n        useAlert(errorMessage);\n      }\n    },\n    async onDelete(key) {\n      try {\n        const { [key]: remove, ...updatedAttributes } = this.customAttributes;\n        if (this.attributeType === 'conversation_attribute') {\n          await this.$store.dispatch('updateCustomAttributes', {\n            conversationId: this.conversationId,\n            customAttributes: updatedAttributes,\n          });\n        } else {\n          this.$store.dispatch('contacts/deleteCustomAttributes', {\n            id: this.contactId,\n            customAttributes: [key],\n          });\n        }\n\n        useAlert(this.$t('CUSTOM_ATTRIBUTES.FORM.DELETE.SUCCESS'));\n      } catch (error) {\n        const errorMessage =\n          error?.response?.message ||\n          this.$t('CUSTOM_ATTRIBUTES.FORM.DELETE.ERROR');\n        useAlert(errorMessage);\n      }\n    },\n    async onCopy(attributeValue) {\n      await copyTextToClipboard(attributeValue);\n      useAlert(this.$t('CUSTOM_ATTRIBUTES.COPY_SUCCESSFUL'));\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.custom-attributes--panel {\n  .conversation--attribute {\n    @apply border-slate-50 dark:border-slate-700/50 border-b border-solid;\n  }\n\n  &.odd {\n    .conversation--attribute {\n      &:nth-child(2n + 1) {\n        @apply bg-slate-25 dark:bg-slate-800/50;\n      }\n    }\n  }\n\n  &.even {\n    .conversation--attribute {\n      &:nth-child(2n) {\n        @apply bg-slate-25 dark:bg-slate-800/50;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttributes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttributes.vue?vue&type=script&lang=js&\"","import { mapGetters } from 'vuex';\nimport { isValidURL } from '../helper/URLHelper';\nexport default {\n  computed: {\n    ...mapGetters({\n      currentChat: 'getSelectedChat',\n      accountId: 'getCurrentAccountId',\n    }),\n    attributes() {\n      return this.$store.getters['attributes/getAttributesByModel'](\n        this.attributeType\n      );\n    },\n    customAttributes() {\n      if (this.attributeType === 'conversation_attribute')\n        return this.currentChat.custom_attributes || {};\n      return this.contact.custom_attributes || {};\n    },\n    contactIdentifier() {\n      return (\n        this.currentChat.meta?.sender?.id ||\n        this.$route.params.contactId ||\n        this.contactId\n      );\n    },\n    contact() {\n      return this.$store.getters['contacts/getContact'](this.contactIdentifier);\n    },\n    conversationId() {\n      return this.currentChat.id;\n    },\n  },\n  methods: {\n    isAttributeNumber(attributeValue) {\n      return (\n        Number.isInteger(Number(attributeValue)) && Number(attributeValue) > 0\n      );\n    },\n    attributeDisplayType(attributeValue) {\n      if (this.isAttributeNumber(attributeValue)) {\n        return 'number';\n      }\n      if (isValidURL(attributeValue)) {\n        return 'link';\n      }\n      return 'text';\n    },\n  },\n};\n","import { render, staticRenderFns } from \"./CustomAttributes.vue?vue&type=template&id=3cacf6dd&scoped=true&\"\nimport script from \"./CustomAttributes.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomAttributes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomAttributes.vue?vue&type=style&index=0&id=3cacf6dd&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cacf6dd\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"absolute flex flex-col items-start bg-white dark:bg-slate-800 z-50 p-4 border border-solid border-slate-75 dark:border-slate-700 w-[384px] rounded-xl gap-4 max-h-96 overflow-auto\"},[_c('span',{staticClass:\"text-sm font-medium text-slate-900 dark:text-slate-25\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('SLA.EVENTS.TITLE'))+\"\\n  \")]),_vm._v(\" \"),(_setup.frtMisses.length)?_c(_setup.SLAEventItem,{attrs:{\"label\":_vm.$t('SLA.EVENTS.FRT'),\"items\":_setup.frtMisses}}):_vm._e(),_vm._v(\" \"),(_setup.nrtMisses.length)?_c(_setup.SLAEventItem,{attrs:{\"label\":_vm.$t('SLA.EVENTS.NRT'),\"items\":_setup.nrtMisses},scopedSlots:_vm._u([{key:\"showMore\",fn:function(){return [(_setup.shouldShowMoreNRTButton)?_c('div',{staticClass:\"flex flex-col items-end w-full\"},[_c('woot-button',{staticClass:\"hover:!no-underline !gap-1 hover:!bg-transparent dark:hover:!bg-transparent\",attrs:{\"size\":\"small\",\"icon\":!_setup.shouldShowAllNrts ? 'plus-sign' : '',\"variant\":\"link\",\"color-scheme\":\"secondary\"},on:{\"click\":_setup.toggleShowAllNRT}},[_vm._v(\"\\n          \"+_vm._s(_setup.shouldShowAllNrts\n              ? _vm.$t('SLA.EVENTS.HIDE', { count: _setup.nrtMisses.length })\n              : _vm.$t('SLA.EVENTS.SHOW_MORE', { count: _setup.nrtMisses.length }))+\"\\n        \")])],1):_vm._e()]},proxy:true}],null,false,4238293960)}):_vm._e(),_vm._v(\" \"),(_setup.rtMisses.length)?_c(_setup.SLAEventItem,{attrs:{\"label\":_vm.$t('SLA.EVENTS.RT'),\"items\":_setup.rtMisses}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLAEventItem.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLAEventItem.vue?vue&type=script&setup=true&lang=js&\"","<script setup>\nimport { format, fromUnixTime } from 'date-fns';\n\ndefineProps({\n  label: {\n    type: String,\n    required: true,\n  },\n  items: {\n    type: Array,\n    required: true,\n  },\n});\nconst formatDate = timestamp =>\n  format(fromUnixTime(timestamp), 'MMM dd, yyyy, hh:mm a');\n</script>\n<template>\n  <div class=\"flex justify-between w-full\">\n    <span\n      class=\"text-sm sticky top-0 h-fit font-normal tracking-[-0.6%] min-w-[140px] truncate text-slate-600 dark:text-slate-200\"\n    >\n      {{ label }}\n    </span>\n    <div class=\"flex flex-col w-full gap-2\">\n      <span\n        v-for=\"item in items\"\n        :key=\"item.id\"\n        class=\"text-sm font-normal text-slate-900 dark:text-slate-25 text-right tabular-nums\"\n      >\n        {{ formatDate(item.created_at) }}\n      </span>\n      <slot name=\"showMore\" />\n    </div>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./SLAEventItem.vue?vue&type=template&id=47f4f498&\"\nimport script from \"./SLAEventItem.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SLAEventItem.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"flex justify-between w-full\"},[_c('span',{staticClass:\"text-sm sticky top-0 h-fit font-normal tracking-[-0.6%] min-w-[140px] truncate text-slate-600 dark:text-slate-200\"},[_vm._v(\"\\n    \"+_vm._s(_vm.label)+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col w-full gap-2\"},[_vm._l((_vm.items),function(item){return _c('span',{key:item.id,staticClass:\"text-sm font-normal text-slate-900 dark:text-slate-25 text-right tabular-nums\"},[_vm._v(\"\\n      \"+_vm._s(_setup.formatDate(item.created_at))+\"\\n    \")])}),_vm._v(\" \"),_vm._t(\"showMore\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLAPopoverCard.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLAPopoverCard.vue?vue&type=script&setup=true&lang=js&\"","<script setup>\nimport { ref, computed } from 'vue';\n\nimport wootConstants from 'dashboard/constants/globals';\nimport SLAEventItem from './SLAEventItem.vue';\n\nconst { SLA_MISS_TYPES } = wootConstants;\n\nconst props = defineProps({\n  slaMissedEvents: {\n    type: Array,\n    required: true,\n  },\n});\n\nconst shouldShowAllNrts = ref(false);\n\nconst frtMisses = computed(() =>\n  props.slaMissedEvents.filter(\n    slaEvent => slaEvent.event_type === SLA_MISS_TYPES.FRT\n  )\n);\nconst nrtMisses = computed(() => {\n  const missedEvents = props.slaMissedEvents.filter(\n    slaEvent => slaEvent.event_type === SLA_MISS_TYPES.NRT\n  );\n  return shouldShowAllNrts.value ? missedEvents : missedEvents.slice(0, 6);\n});\nconst rtMisses = computed(() =>\n  props.slaMissedEvents.filter(\n    slaEvent => slaEvent.event_type === SLA_MISS_TYPES.RT\n  )\n);\n\nconst shouldShowMoreNRTButton = computed(() => nrtMisses.value.length > 6);\nconst toggleShowAllNRT = () => {\n  shouldShowAllNrts.value = !shouldShowAllNrts.value;\n};\n</script>\n<template>\n  <div\n    class=\"absolute flex flex-col items-start bg-white dark:bg-slate-800 z-50 p-4 border border-solid border-slate-75 dark:border-slate-700 w-[384px] rounded-xl gap-4 max-h-96 overflow-auto\"\n  >\n    <span class=\"text-sm font-medium text-slate-900 dark:text-slate-25\">\n      {{ $t('SLA.EVENTS.TITLE') }}\n    </span>\n    <SLA-event-item\n      v-if=\"frtMisses.length\"\n      :label=\"$t('SLA.EVENTS.FRT')\"\n      :items=\"frtMisses\"\n    />\n    <SLA-event-item\n      v-if=\"nrtMisses.length\"\n      :label=\"$t('SLA.EVENTS.NRT')\"\n      :items=\"nrtMisses\"\n    >\n      <template #showMore>\n        <div\n          v-if=\"shouldShowMoreNRTButton\"\n          class=\"flex flex-col items-end w-full\"\n        >\n          <woot-button\n            size=\"small\"\n            :icon=\"!shouldShowAllNrts ? 'plus-sign' : ''\"\n            variant=\"link\"\n            color-scheme=\"secondary\"\n            class=\"hover:!no-underline !gap-1 hover:!bg-transparent dark:hover:!bg-transparent\"\n            @click=\"toggleShowAllNRT\"\n          >\n            {{\n              shouldShowAllNrts\n                ? $t('SLA.EVENTS.HIDE', { count: nrtMisses.length })\n                : $t('SLA.EVENTS.SHOW_MORE', { count: nrtMisses.length })\n            }}\n          </woot-button>\n        </div>\n      </template>\n    </SLA-event-item>\n    <SLA-event-item\n      v-if=\"rtMisses.length\"\n      :label=\"$t('SLA.EVENTS.RT')\"\n      :items=\"rtMisses\"\n    />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./SLAPopoverCard.vue?vue&type=template&id=ae105d0c&\"\nimport script from \"./SLAPopoverCard.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SLAPopoverCard.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.toEmails)?_c('div',[_c('div',{staticClass:\"input-group small\",class:{ error: _vm.v$.toEmailsVal.$error }},[_c('label',{staticClass:\"input-group-label\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.TO'))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\"},[_c('woot-input',{staticClass:\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\",class:{ error: _vm.v$.toEmailsVal.$error },attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.PLACEHOLDER')},on:{\"blur\":_vm.onBlur},model:{value:(_vm.v$.toEmailsVal.$model),callback:function ($$v) {_vm.$set(_vm.v$.toEmailsVal, \"$model\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"v$.toEmailsVal.$model\"}})],1)])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"input-group-wrap\"},[_c('div',{staticClass:\"input-group small\",class:{ error: _vm.v$.ccEmailsVal.$error }},[_c('label',{staticClass:\"input-group-label\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\"},[_c('woot-input',{staticClass:\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\",class:{ error: _vm.v$.ccEmailsVal.$error },attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.PLACEHOLDER')},on:{\"blur\":_vm.onBlur},model:{value:(_vm.v$.ccEmailsVal.$model),callback:function ($$v) {_vm.$set(_vm.v$.ccEmailsVal, \"$model\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"v$.ccEmailsVal.$model\"}})],1),_vm._v(\" \"),(!_vm.showBcc)?_c('woot-button',{attrs:{\"variant\":\"clear\",\"size\":\"small\"},on:{\"click\":_vm.handleAddBcc}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.ADD_BCC'))+\"\\n      \")]):_vm._e()],1),_vm._v(\" \"),(_vm.v$.ccEmailsVal.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.ERROR'))+\"\\n    \")]):_vm._e()]),_vm._v(\" \"),(_vm.showBcc)?_c('div',{staticClass:\"input-group-wrap\"},[_c('div',{staticClass:\"input-group small\",class:{ error: _vm.v$.bccEmailsVal.$error }},[_c('label',{staticClass:\"input-group-label\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\"},[_c('woot-input',{staticClass:\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\",class:{ error: _vm.v$.bccEmailsVal.$error },attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.PLACEHOLDER')},on:{\"blur\":_vm.onBlur},model:{value:(_vm.v$.bccEmailsVal.$model),callback:function ($$v) {_vm.$set(_vm.v$.bccEmailsVal, \"$model\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"v$.bccEmailsVal.$model\"}})],1)]),_vm._v(\" \"),(_vm.v$.bccEmailsVal.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.ERROR'))+\"\\n    \")]):_vm._e()]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { email as emailValidator } from '@vuelidate/validators';\n\nexport const validEmailsByComma = value => {\n  if (!value.length) return true;\n  const emails = value.replace(/\\s+/g, '').split(',');\n  return emails.every(email => emailValidator.$validator(email));\n};\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyEmailHead.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyEmailHead.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <div v-if=\"toEmails\">\n      <div class=\"input-group small\" :class=\"{ error: v$.toEmailsVal.$error }\">\n        <label class=\"input-group-label\">\n          {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.TO') }}\n        </label>\n        <div class=\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\">\n          <woot-input\n            v-model.trim=\"v$.toEmailsVal.$model\"\n            type=\"text\"\n            class=\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\"\n            :class=\"{ error: v$.toEmailsVal.$error }\"\n            :placeholder=\"$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.PLACEHOLDER')\"\n            @blur=\"onBlur\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"input-group-wrap\">\n      <div class=\"input-group small\" :class=\"{ error: v$.ccEmailsVal.$error }\">\n        <label class=\"input-group-label\">\n          {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.LABEL') }}\n        </label>\n        <div class=\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\">\n          <woot-input\n            v-model.trim=\"v$.ccEmailsVal.$model\"\n            class=\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\"\n            type=\"text\"\n            :class=\"{ error: v$.ccEmailsVal.$error }\"\n            :placeholder=\"$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.PLACEHOLDER')\"\n            @blur=\"onBlur\"\n          />\n        </div>\n        <woot-button\n          v-if=\"!showBcc\"\n          variant=\"clear\"\n          size=\"small\"\n          @click=\"handleAddBcc\"\n        >\n          {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.ADD_BCC') }}\n        </woot-button>\n      </div>\n      <span v-if=\"v$.ccEmailsVal.$error\" class=\"message\">\n        {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.ERROR') }}\n      </span>\n    </div>\n    <div v-if=\"showBcc\" class=\"input-group-wrap\">\n      <div class=\"input-group small\" :class=\"{ error: v$.bccEmailsVal.$error }\">\n        <label class=\"input-group-label\">\n          {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.LABEL') }}\n        </label>\n        <div class=\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\">\n          <woot-input\n            v-model.trim=\"v$.bccEmailsVal.$model\"\n            type=\"text\"\n            class=\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\"\n            :class=\"{ error: v$.bccEmailsVal.$error }\"\n            :placeholder=\"\n              $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.PLACEHOLDER')\n            \"\n            @blur=\"onBlur\"\n          />\n        </div>\n      </div>\n      <span v-if=\"v$.bccEmailsVal.$error\" class=\"message\">\n        {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.ERROR') }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { validEmailsByComma } from './helpers/emailHeadHelper';\nimport { useVuelidate } from '@vuelidate/core';\n\nexport default {\n  props: {\n    ccEmails: {\n      type: String,\n      default: '',\n    },\n    bccEmails: {\n      type: String,\n      default: '',\n    },\n    toEmails: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      showBcc: false,\n      ccEmailsVal: '',\n      bccEmailsVal: '',\n      toEmailsVal: '',\n    };\n  },\n  watch: {\n    bccEmails(newVal) {\n      if (newVal !== this.bccEmailsVal) {\n        this.bccEmailsVal = newVal;\n      }\n    },\n    ccEmails(newVal) {\n      if (newVal !== this.ccEmailsVal) {\n        this.ccEmailsVal = newVal;\n      }\n    },\n    toEmails(newVal) {\n      if (newVal !== this.toEmailsVal) {\n        this.toEmailsVal = newVal;\n      }\n    },\n  },\n  mounted() {\n    this.ccEmailsVal = this.ccEmails;\n    this.bccEmailsVal = this.bccEmails;\n    this.toEmailsVal = this.toEmails;\n  },\n  validations: {\n    ccEmailsVal: {\n      hasValidEmails(value) {\n        return validEmailsByComma(value);\n      },\n    },\n    bccEmailsVal: {\n      hasValidEmails(value) {\n        return validEmailsByComma(value);\n      },\n    },\n    toEmailsVal: {\n      hasValidEmails(value) {\n        return validEmailsByComma(value);\n      },\n    },\n  },\n  methods: {\n    handleAddBcc() {\n      this.showBcc = true;\n    },\n    onBlur() {\n      this.v$.$touch();\n      this.$emit('update:bccEmails', this.bccEmailsVal);\n      this.$emit('update:ccEmails', this.ccEmailsVal);\n      this.$emit('update:toEmails', this.toEmailsVal);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.input-group-wrap .message {\n  @apply text-sm text-red-500 dark:text-red-500;\n}\n.input-group {\n  @apply border-b border-solid border-slate-75 dark:border-slate-700 my-1 flex items-center gap-2;\n\n  .input-group-label {\n    @apply border-transparent bg-transparent text-xs font-semibold pl-0;\n  }\n}\n\n.input-group.error {\n  @apply border-b-red-500 dark:border-b-red-500;\n  .input-group-label {\n    @apply text-red-500 dark:text-red-500;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./ReplyEmailHead.vue?vue&type=template&id=5303249a&scoped=true&\"\nimport script from \"./ReplyEmailHead.vue?vue&type=script&lang=js&\"\nexport * from \"./ReplyEmailHead.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReplyEmailHead.vue?vue&type=style&index=0&id=5303249a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5303249a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col h-auto overflow-auto\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('LABEL_MGMT.ADD.TITLE'),\"header-content\":_vm.$t('LABEL_MGMT.ADD.DESC')}}),_vm._v(\" \"),_c('form',{staticClass:\"flex flex-wrap mx-0\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addLabel.apply(null, arguments)}}},[_c('woot-input',{staticClass:\"w-full label-name--input\",class:{ error: _vm.v$.title.$error },attrs:{\"label\":_vm.$t('LABEL_MGMT.FORM.NAME.LABEL'),\"placeholder\":_vm.$t('LABEL_MGMT.FORM.NAME.PLACEHOLDER'),\"error\":_vm.labelTitleErrorMessage,\"data-testid\":\"label-title\"},on:{\"input\":_vm.v$.title.$touch},model:{value:(_vm.title),callback:function ($$v) {_vm.title=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"title\"}}),_vm._v(\" \"),_c('woot-input',{staticClass:\"w-full\",class:{ error: _vm.v$.description.$error },attrs:{\"label\":_vm.$t('LABEL_MGMT.FORM.DESCRIPTION.LABEL'),\"placeholder\":_vm.$t('LABEL_MGMT.FORM.DESCRIPTION.PLACEHOLDER'),\"data-testid\":\"label-description\"},on:{\"input\":_vm.v$.description.$touch},model:{value:(_vm.description),callback:function ($$v) {_vm.description=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"description\"}}),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_MGMT.FORM.COLOR.LABEL'))+\"\\n        \"),_c('woot-color-picker',{model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center w-full gap-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showOnSidebar),expression:\"showOnSidebar\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"value\":true,\"checked\":Array.isArray(_vm.showOnSidebar)?_vm._i(_vm.showOnSidebar,true)>-1:(_vm.showOnSidebar)},on:{\"change\":function($event){var $$a=_vm.showOnSidebar,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=true,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showOnSidebar=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showOnSidebar=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showOnSidebar=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"conversation_creation\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_MGMT.FORM.SHOW_ON_SIDEBAR.LABEL'))+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-end w-full gap-2 px-0 py-2\"},[_c('woot-button',{attrs:{\"is-disabled\":_vm.v$.title.$invalid || _vm.uiFlags.isCreating,\"is-loading\":_vm.uiFlags.isCreating,\"data-testid\":\"label-submit\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_MGMT.FORM.CREATE'))+\"\\n      \")]),_vm._v(\" \"),_c('woot-button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_MGMT.FORM.CANCEL'))+\"\\n      \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex flex-col h-auto overflow-auto\">\n    <woot-modal-header\n      :header-title=\"$t('LABEL_MGMT.ADD.TITLE')\"\n      :header-content=\"$t('LABEL_MGMT.ADD.DESC')\"\n    />\n    <form class=\"flex flex-wrap mx-0\" @submit.prevent=\"addLabel\">\n      <woot-input\n        v-model.trim=\"title\"\n        :class=\"{ error: v$.title.$error }\"\n        class=\"w-full label-name--input\"\n        :label=\"$t('LABEL_MGMT.FORM.NAME.LABEL')\"\n        :placeholder=\"$t('LABEL_MGMT.FORM.NAME.PLACEHOLDER')\"\n        :error=\"labelTitleErrorMessage\"\n        data-testid=\"label-title\"\n        @input=\"v$.title.$touch\"\n      />\n\n      <woot-input\n        v-model.trim=\"description\"\n        :class=\"{ error: v$.description.$error }\"\n        class=\"w-full\"\n        :label=\"$t('LABEL_MGMT.FORM.DESCRIPTION.LABEL')\"\n        :placeholder=\"$t('LABEL_MGMT.FORM.DESCRIPTION.PLACEHOLDER')\"\n        data-testid=\"label-description\"\n        @input=\"v$.description.$touch\"\n      />\n\n      <div class=\"w-full\">\n        <label>\n          {{ $t('LABEL_MGMT.FORM.COLOR.LABEL') }}\n          <woot-color-picker v-model=\"color\" />\n        </label>\n      </div>\n      <div class=\"flex items-center w-full gap-2\">\n        <input v-model=\"showOnSidebar\" type=\"checkbox\" :value=\"true\" />\n        <label for=\"conversation_creation\">\n          {{ $t('LABEL_MGMT.FORM.SHOW_ON_SIDEBAR.LABEL') }}\n        </label>\n      </div>\n      <div class=\"flex items-center justify-end w-full gap-2 px-0 py-2\">\n        <woot-button\n          :is-disabled=\"v$.title.$invalid || uiFlags.isCreating\"\n          :is-loading=\"uiFlags.isCreating\"\n          data-testid=\"label-submit\"\n        >\n          {{ $t('LABEL_MGMT.FORM.CREATE') }}\n        </woot-button>\n        <woot-button class=\"button clear\" @click.prevent=\"onClose\">\n          {{ $t('LABEL_MGMT.FORM.CANCEL') }}\n        </woot-button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport validations, { getLabelTitleErrorMessage } from './validations';\nimport { getRandomColor } from 'dashboard/helper/labelColor';\nimport { useVuelidate } from '@vuelidate/core';\n\nexport default {\n  props: {\n    prefillTitle: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      color: '#000',\n      description: '',\n      title: '',\n      showOnSidebar: true,\n    };\n  },\n  validations,\n  computed: {\n    ...mapGetters({\n      uiFlags: 'labels/getUIFlags',\n    }),\n    labelTitleErrorMessage() {\n      const errorMessage = getLabelTitleErrorMessage(this.v$);\n      return this.$t(errorMessage);\n    },\n  },\n  mounted() {\n    this.color = getRandomColor();\n    this.title = this.prefillTitle.toLowerCase();\n  },\n  methods: {\n    onClose() {\n      this.$emit('close');\n    },\n    async addLabel() {\n      try {\n        await this.$store.dispatch('labels/create', {\n          color: this.color,\n          description: this.description,\n          title: this.title.toLowerCase(),\n          show_on_sidebar: this.showOnSidebar,\n        });\n        useAlert(this.$t('LABEL_MGMT.ADD.API.SUCCESS_MESSAGE'));\n        this.onClose();\n      } catch (error) {\n        const errorMessage =\n          error.message || this.$t('LABEL_MGMT.ADD.API.ERROR_MESSAGE');\n        useAlert(errorMessage);\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n// Label API supports only lowercase letters\n.label-name--input {\n  ::v-deep {\n    input {\n      @apply lowercase;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddLabel.vue?vue&type=template&id=bb95ea30&scoped=true&\"\nimport script from \"./AddLabel.vue?vue&type=script&lang=js&\"\nexport * from \"./AddLabel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddLabel.vue?vue&type=style&index=0&id=bb95ea30&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bb95ea30\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.hasSlaThreshold)?_c('div',{staticClass:\"relative flex items-center border cursor-pointer min-w-fit border-slate-100 dark:border-slate-700\",class:_vm.showExtendedInfo ? 'h-[26px] rounded-lg' : 'rounded h-5'},[_c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.closeSlaPopover),expression:\"closeSlaPopover\"}],staticClass:\"flex items-center w-full truncate\",class:_vm.showExtendedInfo ? 'px-1.5' : 'px-2 gap-1',on:{\"mouseover\":function($event){return _vm.openSlaPopover()}}},[_c('div',{staticClass:\"flex items-center gap-1\",class:_vm.showExtendedInfo &&\n        'ltr:pr-1.5 rtl:pl-1.5 ltr:border-r rtl:border-l border-solid border-slate-100 dark:border-slate-700'},[_c('fluent-icon',{staticClass:\"flex-shrink-0\",class:_vm.slaTextStyles,attrs:{\"size\":\"14\",\"icon\":_vm.slaStatus.icon,\"type\":\"outline\",\"icon-lib\":_vm.isSlaMissed ? 'lucide' : 'fluent'}}),_vm._v(\" \"),(_vm.showExtendedInfo)?_c('span',{staticClass:\"text-xs font-medium\",class:_vm.slaTextStyles},[_vm._v(\"\\n        \"+_vm._s(_vm.slaStatusText)+\"\\n      \")]):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"text-xs font-medium\",class:[_vm.slaTextStyles, _vm.showExtendedInfo && 'ltr:pl-1.5 rtl:pr-1.5']},[_vm._v(\"\\n      \"+_vm._s(_vm.slaStatus.threshold)+\"\\n    \")])]),_vm._v(\" \"),(_vm.showSlaPopoverCard)?_c('SLA-popover-card',{staticClass:\"right-0 top-7\",attrs:{\"sla-missed-events\":_vm.slaEvents}}):_vm._e()],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLACardLabel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLACardLabel.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    v-if=\"hasSlaThreshold\"\n    class=\"relative flex items-center border cursor-pointer min-w-fit border-slate-100 dark:border-slate-700\"\n    :class=\"showExtendedInfo ? 'h-[26px] rounded-lg' : 'rounded h-5'\"\n  >\n    <div\n      v-on-clickaway=\"closeSlaPopover\"\n      class=\"flex items-center w-full truncate\"\n      :class=\"showExtendedInfo ? 'px-1.5' : 'px-2 gap-1'\"\n      @mouseover=\"openSlaPopover()\"\n    >\n      <div\n        class=\"flex items-center gap-1\"\n        :class=\"\n          showExtendedInfo &&\n          'ltr:pr-1.5 rtl:pl-1.5 ltr:border-r rtl:border-l border-solid border-slate-100 dark:border-slate-700'\n        \"\n      >\n        <fluent-icon\n          size=\"14\"\n          :icon=\"slaStatus.icon\"\n          type=\"outline\"\n          :icon-lib=\"isSlaMissed ? 'lucide' : 'fluent'\"\n          class=\"flex-shrink-0\"\n          :class=\"slaTextStyles\"\n        />\n        <span\n          v-if=\"showExtendedInfo\"\n          class=\"text-xs font-medium\"\n          :class=\"slaTextStyles\"\n        >\n          {{ slaStatusText }}\n        </span>\n      </div>\n      <span\n        class=\"text-xs font-medium\"\n        :class=\"[slaTextStyles, showExtendedInfo && 'ltr:pl-1.5 rtl:pr-1.5']\"\n      >\n        {{ slaStatus.threshold }}\n      </span>\n    </div>\n    <SLA-popover-card\n      v-if=\"showSlaPopoverCard\"\n      :sla-missed-events=\"slaEvents\"\n      class=\"right-0 top-7\"\n    />\n  </div>\n</template>\n\n<script>\nimport { evaluateSLAStatus } from '@chatwoot/utils';\nimport SLAPopoverCard from './SLAPopoverCard.vue';\n\nconst REFRESH_INTERVAL = 60000;\n\nexport default {\n  components: {\n    SLAPopoverCard,\n  },\n  props: {\n    chat: {\n      type: Object,\n      default: () => ({}),\n    },\n    showExtendedInfo: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      timer: null,\n      showSlaPopover: false,\n      slaStatus: {\n        threshold: null,\n        isSlaMissed: false,\n        type: null,\n        icon: null,\n      },\n    };\n  },\n  computed: {\n    slaPolicyId() {\n      return this.chat?.sla_policy_id;\n    },\n    appliedSLA() {\n      return this.chat?.applied_sla;\n    },\n    slaEvents() {\n      return this.chat?.sla_events;\n    },\n    hasSlaThreshold() {\n      return this.slaStatus?.threshold;\n    },\n    isSlaMissed() {\n      return this.slaStatus?.isSlaMissed;\n    },\n    slaTextStyles() {\n      return this.isSlaMissed\n        ? 'text-red-400 dark:text-red-300'\n        : 'text-yellow-600 dark:text-yellow-500';\n    },\n    slaStatusText() {\n      const upperCaseType = this.slaStatus?.type?.toUpperCase(); // FRT, NRT, or RT\n      const statusKey = this.isSlaMissed ? 'MISSED' : 'DUE';\n\n      return this.$t(`CONVERSATION.HEADER.SLA_STATUS.${upperCaseType}`, {\n        status: this.$t(`CONVERSATION.HEADER.SLA_STATUS.${statusKey}`),\n      });\n    },\n    showSlaPopoverCard() {\n      return (\n        this.showExtendedInfo && this.showSlaPopover && this.slaEvents.length\n      );\n    },\n  },\n  watch: {\n    chat() {\n      this.updateSlaStatus();\n    },\n  },\n  mounted() {\n    this.updateSlaStatus();\n    this.createTimer();\n  },\n  beforeDestroy() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n  },\n  methods: {\n    createTimer() {\n      this.timer = setTimeout(() => {\n        this.updateSlaStatus();\n        this.createTimer();\n      }, REFRESH_INTERVAL);\n    },\n    updateSlaStatus() {\n      this.slaStatus = evaluateSLAStatus({\n        appliedSla: this.appliedSLA,\n        chat: this.chat,\n      });\n    },\n    openSlaPopover() {\n      if (!this.showExtendedInfo) return;\n      this.showSlaPopover = true;\n    },\n    closeSlaPopover() {\n      this.showSlaPopover = false;\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./SLACardLabel.vue?vue&type=template&id=1ae6245c&\"\nimport script from \"./SLACardLabel.vue?vue&type=script&lang=js&\"\nexport * from \"./SLACardLabel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.activeLabels.length || _vm.$slots.before)?_c('div',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.computeVisibleLabelPosition),expression:\"computeVisibleLabelPosition\"}],ref:\"labelContainer\"},[_c('div',{staticClass:\"flex items-end flex-shrink min-w-0 gap-y-1\",class:{ 'h-auto overflow-visible flex-row flex-wrap': _vm.showAllLabels }},[_vm._t(\"before\"),_vm._v(\" \"),_vm._l((_vm.activeLabels),function(label,index){return _c('woot-label',{key:label.id,staticClass:\"!mb-0 max-w-[calc(100%-0.5rem)]\",class:{ hidden: !_vm.showAllLabels && index > _vm.labelPosition },attrs:{\"title\":label.title,\"description\":label.description,\"color\":label.color,\"variant\":\"smooth\",\"small\":\"\"}})}),_vm._v(\" \"),(_vm.showExpandLabelButton)?_c('woot-button',{staticClass:\"sticky right-0 flex-shrink-0 mr-6 show-more--button rtl:rotate-180\",attrs:{\"title\":_vm.showAllLabels\n          ? _vm.$t('CONVERSATION.CARD.HIDE_LABELS')\n          : _vm.$t('CONVERSATION.CARD.SHOW_LABELS'),\"color-scheme\":\"secondary\",\"variant\":\"hollow\",\"icon\":_vm.showAllLabels ? 'chevron-left' : 'chevron-right',\"size\":\"tiny\"},on:{\"click\":_vm.onShowLabels}}):_vm._e()],2)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardLabels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardLabels.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    v-if=\"activeLabels.length || $slots.before\"\n    ref=\"labelContainer\"\n    v-resize=\"computeVisibleLabelPosition\"\n  >\n    <div\n      class=\"flex items-end flex-shrink min-w-0 gap-y-1\"\n      :class=\"{ 'h-auto overflow-visible flex-row flex-wrap': showAllLabels }\"\n    >\n      <slot name=\"before\" />\n      <woot-label\n        v-for=\"(label, index) in activeLabels\"\n        :key=\"label.id\"\n        :title=\"label.title\"\n        :description=\"label.description\"\n        :color=\"label.color\"\n        variant=\"smooth\"\n        class=\"!mb-0 max-w-[calc(100%-0.5rem)]\"\n        small\n        :class=\"{ hidden: !showAllLabels && index > labelPosition }\"\n      />\n      <woot-button\n        v-if=\"showExpandLabelButton\"\n        :title=\"\n          showAllLabels\n            ? $t('CONVERSATION.CARD.HIDE_LABELS')\n            : $t('CONVERSATION.CARD.SHOW_LABELS')\n        \"\n        class=\"sticky right-0 flex-shrink-0 mr-6 show-more--button rtl:rotate-180\"\n        color-scheme=\"secondary\"\n        variant=\"hollow\"\n        :icon=\"showAllLabels ? 'chevron-left' : 'chevron-right'\"\n        size=\"tiny\"\n        @click=\"onShowLabels\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport conversationLabelMixin from 'dashboard/mixins/conversation/labelMixin';\nexport default {\n  mixins: [conversationLabelMixin],\n  props: {\n    conversationId: {\n      type: Number,\n      required: true,\n    },\n    conversationLabels: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      showAllLabels: false,\n      showExpandLabelButton: false,\n      labelPosition: -1,\n    };\n  },\n  watch: {\n    activeLabels() {\n      this.$nextTick(() => this.computeVisibleLabelPosition());\n    },\n  },\n  mounted() {\n    // the problem here is that there is a certain amount of delay between the conversation\n    // card being mounted and the resize event eventually being triggered\n    // This means we need to run the function immediately after the component is mounted\n    // Happens especially when used in a virtual list.\n    // We can make the first trigger, a standard part of the directive, in case\n    // we face this issue again\n    this.computeVisibleLabelPosition();\n  },\n  methods: {\n    onShowLabels(e) {\n      e.stopPropagation();\n      this.showAllLabels = !this.showAllLabels;\n      this.$nextTick(() => this.computeVisibleLabelPosition());\n    },\n    computeVisibleLabelPosition() {\n      const beforeSlot = this.$slots.before ? 100 : 0;\n      const labelContainer = this.$refs.labelContainer;\n      if (!labelContainer) return;\n\n      const labels = Array.from(labelContainer.querySelectorAll('.label'));\n      let labelOffset = 0;\n      this.showExpandLabelButton = false;\n      labels.forEach((label, index) => {\n        labelOffset += label.offsetWidth + 8;\n        if (labelOffset < labelContainer.clientWidth - 16 - beforeSlot) {\n          this.labelPosition = index;\n        } else {\n          this.showExpandLabelButton = labels.length > 1;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.show-more--button {\n  @apply h-5;\n  &.secondary:focus {\n    @apply text-slate-700 dark:text-slate-200 border-slate-300 dark:border-slate-700;\n  }\n}\n\n.labels-wrap {\n  .secondary {\n    @apply border border-solid border-slate-100 dark:border-slate-700;\n  }\n}\n\n.hidden {\n  @apply invisible absolute;\n}\n</style>\n","import { render, staticRenderFns } from \"./CardLabels.vue?vue&type=template&id=a39cc454&scoped=true&\"\nimport script from \"./CardLabels.vue?vue&type=script&lang=js&\"\nexport * from \"./CardLabels.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardLabels.vue?vue&type=style&index=0&id=a39cc454&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a39cc454\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"my-0 mx-4 px-1 flex max-h-[8vh] items-baseline justify-between hover:bg-slate-25 dark:hover:bg-slate-800 border border-dashed border-slate-100 dark:border-slate-700 rounded-sm overflow-auto\"},[_c('p',{staticClass:\"w-fit !m-0\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('CONVERSATION.FOOTER.MESSAGE_SIGNATURE_NOT_CONFIGURED'))+\"\\n    \"),_c('woot-button',{attrs:{\"color-scheme\":\"primary\",\"variant\":\"link\"},on:{\"click\":_vm.openProfileSettings}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONVERSATION.FOOTER.CLICK_HERE'))+\"\\n    \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageSignatureMissingAlert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageSignatureMissingAlert.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    class=\"my-0 mx-4 px-1 flex max-h-[8vh] items-baseline justify-between hover:bg-slate-25 dark:hover:bg-slate-800 border border-dashed border-slate-100 dark:border-slate-700 rounded-sm overflow-auto\"\n  >\n    <p class=\"w-fit !m-0\">\n      {{ $t('CONVERSATION.FOOTER.MESSAGE_SIGNATURE_NOT_CONFIGURED') }}\n      <woot-button\n        color-scheme=\"primary\"\n        variant=\"link\"\n        @click=\"openProfileSettings\"\n      >\n        {{ $t('CONVERSATION.FOOTER.CLICK_HERE') }}\n      </woot-button>\n    </p>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    openProfileSettings() {\n      return this.$router.push({ name: 'profile_settings_index' });\n    },\n  },\n};\n</script>\n\n<style></style>\n","import { render, staticRenderFns } from \"./MessageSignatureMissingAlert.vue?vue&type=template&id=2df70ca5&\"\nimport script from \"./MessageSignatureMissingAlert.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageSignatureMissingAlert.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"flex overflow-auto max-h-[12.5rem]\"},_vm._l((_setup.nonRecordedAudioAttachments),function(attachment,index){return _c('div',{key:attachment.id,staticClass:\"preview-item flex items-center p-1 bg-slate-50 dark:bg-slate-800 gap-1 rounded-md w-[15rem] mb-1\"},[_c('div',{staticClass:\"max-w-[4rem] flex-shrink-0 w-6 flex items-center\"},[(_setup.isTypeImage(attachment.resource))?_c('img',{staticClass:\"object-cover w-6 h-6 rounded-sm\",attrs:{\"src\":attachment.thumb}}):_c('span',{staticClass:\"relative w-6 h-6 text-lg text-left -top-px\"},[_vm._v(\"\\n        📄\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"max-w-3/5 min-w-[50%] overflow-hidden text-ellipsis\"},[_c('span',{staticClass:\"h-4 overflow-hidden text-sm font-medium text-ellipsis whitespace-nowrap\"},[_vm._v(\"\\n        \"+_vm._s(_setup.fileName(attachment.resource))+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"w-[30%] justify-center\"},[_c('span',{staticClass:\"overflow-hidden text-xs text-ellipsis whitespace-nowrap\"},[_vm._v(\"\\n        \"+_vm._s(_setup.formatFileSize(attachment.resource))+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-center\"},[_c('woot-button',{staticClass:\"!w-6 !h-6 text-sm rounded-md hover:bg-slate-50 dark:hover:bg-slate-800 clear secondary\",attrs:{\"icon\":\"dismiss\"},on:{\"click\":function($event){return _setup.onRemoveAttachment(index)}}})],1)])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentsPreview.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentsPreview.vue?vue&type=script&setup=true&lang=js&\"","<template>\n  <div class=\"flex overflow-auto max-h-[12.5rem]\">\n    <div\n      v-for=\"(attachment, index) in nonRecordedAudioAttachments\"\n      :key=\"attachment.id\"\n      class=\"preview-item flex items-center p-1 bg-slate-50 dark:bg-slate-800 gap-1 rounded-md w-[15rem] mb-1\"\n    >\n      <div class=\"max-w-[4rem] flex-shrink-0 w-6 flex items-center\">\n        <img\n          v-if=\"isTypeImage(attachment.resource)\"\n          class=\"object-cover w-6 h-6 rounded-sm\"\n          :src=\"attachment.thumb\"\n        />\n        <span v-else class=\"relative w-6 h-6 text-lg text-left -top-px\">\n          📄\n        </span>\n      </div>\n      <div class=\"max-w-3/5 min-w-[50%] overflow-hidden text-ellipsis\">\n        <span\n          class=\"h-4 overflow-hidden text-sm font-medium text-ellipsis whitespace-nowrap\"\n        >\n          {{ fileName(attachment.resource) }}\n        </span>\n      </div>\n      <div class=\"w-[30%] justify-center\">\n        <span class=\"overflow-hidden text-xs text-ellipsis whitespace-nowrap\">\n          {{ formatFileSize(attachment.resource) }}\n        </span>\n      </div>\n      <div class=\"flex items-center justify-center\">\n        <woot-button\n          class=\"!w-6 !h-6 text-sm rounded-md hover:bg-slate-50 dark:hover:bg-slate-800 clear secondary\"\n          icon=\"dismiss\"\n          @click=\"onRemoveAttachment(index)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue';\nimport { formatBytes } from 'shared/helpers/FileHelper';\n\nconst props = defineProps({\n  attachments: {\n    type: Array,\n    default: () => [],\n  },\n});\n\nconst emits = defineEmits(['remove-attachment']);\n\nconst nonRecordedAudioAttachments = computed(() => {\n  return props.attachments.filter(attachment => !attachment?.isRecordedAudio);\n});\n\nconst recordedAudioAttachments = computed(() =>\n  props.attachments.filter(attachment => attachment.isRecordedAudio)\n);\n\nconst onRemoveAttachment = itemIndex => {\n  emits(\n    'remove-attachment',\n    nonRecordedAudioAttachments.value\n      .filter((_, index) => index !== itemIndex)\n      .concat(recordedAudioAttachments.value)\n  );\n};\n\nconst formatFileSize = file => {\n  const size = file.byte_size || file.size;\n  return formatBytes(size, 0);\n};\n\nconst isTypeImage = file => {\n  const type = file.content_type || file.type;\n  return type.includes('image');\n};\n\nconst fileName = file => {\n  return file.filename || file.name;\n};\n</script>\n","import { render, staticRenderFns } from \"./AttachmentsPreview.vue?vue&type=template&id=d4a11c1a&\"\nimport script from \"./AttachmentsPreview.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AttachmentsPreview.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"menu text-slate-800 dark:text-slate-100\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('click')}}},[(_vm.variant === 'icon' && _vm.option.icon)?_c('fluent-icon',{staticClass:\"menu-icon\",attrs:{\"icon\":_vm.option.icon,\"size\":\"14\"}}):_vm._e(),_vm._v(\" \"),(_vm.variant === 'label' && _vm.option.color)?_c('span',{staticClass:\"label-pill\",style:({ backgroundColor: _vm.option.color })}):_vm._e(),_vm._v(\" \"),(_vm.variant === 'agent')?_c('thumbnail',{staticClass:\"agent-thumbnail\",attrs:{\"username\":_vm.option.label,\"src\":_vm.option.thumbnail,\"status\":_vm.option.status,\"size\":\"20px\"}}):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"menu-label overflow-hidden whitespace-nowrap text-ellipsis\"},[_vm._v(\"\\n    \"+_vm._s(_vm.option.label)+\"\\n  \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItem.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    class=\"menu text-slate-800 dark:text-slate-100\"\n    role=\"button\"\n    @click.stop=\"$emit('click')\"\n  >\n    <fluent-icon\n      v-if=\"variant === 'icon' && option.icon\"\n      :icon=\"option.icon\"\n      size=\"14\"\n      class=\"menu-icon\"\n    />\n    <span\n      v-if=\"variant === 'label' && option.color\"\n      class=\"label-pill\"\n      :style=\"{ backgroundColor: option.color }\"\n    />\n    <thumbnail\n      v-if=\"variant === 'agent'\"\n      :username=\"option.label\"\n      :src=\"option.thumbnail\"\n      :status=\"option.status\"\n      size=\"20px\"\n      class=\"agent-thumbnail\"\n    />\n    <p class=\"menu-label overflow-hidden whitespace-nowrap text-ellipsis\">\n      {{ option.label }}\n    </p>\n  </div>\n</template>\n\n<script>\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nexport default {\n  components: {\n    Thumbnail,\n  },\n  props: {\n    option: {\n      type: Object,\n      default: () => {},\n    },\n    variant: {\n      type: String,\n      default: 'default',\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.menu {\n  width: calc(var(--space-mega) * 2);\n  @apply flex items-center flex-nowrap p-1 rounded-sm overflow-hidden cursor-pointer;\n\n  .menu-label {\n    @apply my-0 mx-2 text-xs flex-shrink-0;\n  }\n\n  &:hover {\n    @apply bg-woot-500 dark:bg-woot-500 text-white dark:text-slate-50;\n  }\n}\n\n.agent-thumbnail {\n  margin-top: 0 !important;\n}\n\n.label-pill {\n  @apply w-4 h-4 rounded-full border border-slate-50 border-solid dark:border-slate-900 flex-shrink-0;\n}\n</style>\n","import { render, staticRenderFns } from \"./menuItem.vue?vue&type=template&id=4c4db27c&scoped=true&\"\nimport script from \"./menuItem.vue?vue&type=script&lang=js&\"\nexport * from \"./menuItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menuItem.vue?vue&type=style&index=0&id=4c4db27c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c4db27c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"templates__list-search gap-1\"},[_c('fluent-icon',{staticClass:\"search-icon\",attrs:{\"icon\":\"search\",\"size\":\"16\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],ref:\"search\",staticClass:\"templates__search-input\",attrs:{\"type\":\"search\",\"placeholder\":_vm.$t('WHATSAPP_TEMPLATES.PICKER.SEARCH_PLACEHOLDER')},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing)return;_vm.query=$event.target.value}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"template__list-container\"},[_vm._l((_vm.filteredTemplateMessages),function(template,i){return _c('div',{key:template.id},[_c('button',{staticClass:\"template__list-item\",on:{\"click\":function($event){return _vm.$emit('onSelect', template)}}},[_c('div',[_c('div',{staticClass:\"flex items-center justify-between mb-2.5\"},[_c('p',{staticClass:\"label-title\"},[_vm._v(\"\\n              \"+_vm._s(template.name)+\"\\n            \")]),_vm._v(\" \"),_c('span',{staticClass:\"inline-block py-1 px-2 rounded-sm text-xs leading-none cursor-default bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PICKER.LABELS.LANGUAGE'))+\" :\\n              \"+_vm._s(template.language)+\"\\n            \")])]),_vm._v(\" \"),_c('div',[_c('p',{staticClass:\"strong\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PICKER.LABELS.TEMPLATE_BODY'))+\"\\n            \")]),_vm._v(\" \"),_c('p',{staticClass:\"label-body\"},[_vm._v(_vm._s(_vm.getTemplatebody(template)))])]),_vm._v(\" \"),_c('div',{staticClass:\"label-category\"},[_c('p',{staticClass:\"strong\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PICKER.LABELS.CATEGORY'))+\"\\n            \")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(template.category))])])])]),_vm._v(\" \"),(i != _vm.filteredTemplateMessages.length - 1)?_c('hr',{key:`hr-${i}`}):_vm._e()])}),_vm._v(\" \"),(!_vm.filteredTemplateMessages.length)?_c('div',[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PICKER.NO_TEMPLATES_FOUND'))+\"\\n        \"),_c('strong',[_vm._v(_vm._s(_vm.query))])])]):_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"w-full\">\n    <div class=\"templates__list-search gap-1\">\n      <fluent-icon icon=\"search\" class=\"search-icon\" size=\"16\" />\n      <input\n        ref=\"search\"\n        v-model=\"query\"\n        type=\"search\"\n        :placeholder=\"$t('WHATSAPP_TEMPLATES.PICKER.SEARCH_PLACEHOLDER')\"\n        class=\"templates__search-input\"\n      />\n    </div>\n    <div class=\"template__list-container\">\n      <div v-for=\"(template, i) in filteredTemplateMessages\" :key=\"template.id\">\n        <button\n          class=\"template__list-item\"\n          @click=\"$emit('onSelect', template)\"\n        >\n          <div>\n            <div class=\"flex items-center justify-between mb-2.5\">\n              <p class=\"label-title\">\n                {{ template.name }}\n              </p>\n              <span\n                class=\"inline-block py-1 px-2 rounded-sm text-xs leading-none cursor-default bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100\"\n              >\n                {{ $t('WHATSAPP_TEMPLATES.PICKER.LABELS.LANGUAGE') }} :\n                {{ template.language }}\n              </span>\n            </div>\n            <div>\n              <p class=\"strong\">\n                {{ $t('WHATSAPP_TEMPLATES.PICKER.LABELS.TEMPLATE_BODY') }}\n              </p>\n              <p class=\"label-body\">{{ getTemplatebody(template) }}</p>\n            </div>\n            <div class=\"label-category\">\n              <p class=\"strong\">\n                {{ $t('WHATSAPP_TEMPLATES.PICKER.LABELS.CATEGORY') }}\n              </p>\n              <p>{{ template.category }}</p>\n            </div>\n          </div>\n        </button>\n        <hr v-if=\"i != filteredTemplateMessages.length - 1\" :key=\"`hr-${i}`\" />\n      </div>\n      <div v-if=\"!filteredTemplateMessages.length\">\n        <p>\n          {{ $t('WHATSAPP_TEMPLATES.PICKER.NO_TEMPLATES_FOUND') }}\n          <strong>{{ query }}</strong>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// TODO: Remove this when we support all formats\nconst formatsToRemove = ['DOCUMENT', 'IMAGE', 'VIDEO'];\n\nexport default {\n  props: {\n    inboxId: {\n      type: Number,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      query: '',\n    };\n  },\n  computed: {\n    whatsAppTemplateMessages() {\n      // TODO: Remove the last filter when we support all formats\n      return this.$store.getters['inboxes/getWhatsAppTemplates'](this.inboxId)\n        .filter(template => template.status.toLowerCase() === 'approved')\n        .filter(template => {\n          return template.components.every(component => {\n            return !formatsToRemove.includes(component.format);\n          });\n        });\n    },\n    filteredTemplateMessages() {\n      return this.whatsAppTemplateMessages.filter(template =>\n        template.name.toLowerCase().includes(this.query.toLowerCase())\n      );\n    },\n  },\n  methods: {\n    getTemplatebody(template) {\n      return template.components.find(component => component.type === 'BODY')\n        .text;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.templates__list-search {\n  @apply items-center flex bg-slate-25 dark:bg-slate-900 mb-2.5 py-0 px-2.5 rounded-md border border-solid border-slate-100 dark:border-slate-700;\n\n  .search-icon {\n    @apply text-slate-400 dark:text-slate-300;\n  }\n\n  .templates__search-input {\n    @apply bg-transparent border-0 text-xs h-9 m-0;\n  }\n}\n.template__list-container {\n  @apply bg-slate-25 dark:bg-slate-900 rounded-md max-h-[18.75rem] overflow-y-auto p-2.5;\n\n  .template__list-item {\n    @apply rounded-lg cursor-pointer block p-2.5 text-left w-full hover:bg-woot-50 dark:hover:bg-slate-800;\n\n    .label-title {\n      @apply text-sm;\n    }\n\n    .label-category {\n      @apply mt-5;\n\n      span {\n        @apply text-sm font-semibold;\n      }\n    }\n\n    .label-body {\n      font-family: monospace;\n    }\n  }\n}\n\n.strong {\n  @apply text-xs font-semibold;\n}\n\nhr {\n  @apply border-b border-solid border-slate-100 dark:border-slate-700 my-2.5 mx-auto max-w-[95%];\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatesPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatesPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TemplatesPicker.vue?vue&type=template&id=6dc9b638&scoped=true&\"\nimport script from \"./TemplatesPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./TemplatesPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TemplatesPicker.vue?vue&type=style&index=0&id=6dc9b638&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dc9b638\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.processedString),expression:\"processedString\"}],staticClass:\"template-input\",attrs:{\"rows\":\"4\",\"readonly\":\"\"},domProps:{\"value\":(_vm.processedString)},on:{\"input\":function($event){if($event.target.composing)return;_vm.processedString=$event.target.value}}}),_vm._v(\" \"),(_vm.variables)?_c('div',{staticClass:\"template__variables-container\"},[_c('p',{staticClass:\"variables-label\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PARSER.VARIABLES_LABEL'))+\"\\n    \")]),_vm._v(\" \"),_vm._l((_vm.processedParams),function(variable,key){return _c('div',{key:key,staticClass:\"template__variable-item\"},[_c('span',{staticClass:\"variable-label\"},[_vm._v(\"\\n        \"+_vm._s(key)+\"\\n      \")]),_vm._v(\" \"),_c('woot-input',{staticClass:\"variable-input\",attrs:{\"type\":\"text\",\"styles\":{ marginBottom: 0 }},model:{value:(_vm.processedParams[key]),callback:function ($$v) {_vm.$set(_vm.processedParams, key, $$v)},expression:\"processedParams[key]\"}})],1)}),_vm._v(\" \"),(_vm.v$.$dirty && _vm.v$.$invalid)?_c('p',{staticClass:\"error\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PARSER.FORM_ERROR_MESSAGE'))+\"\\n    \")]):_vm._e()],2):_vm._e(),_vm._v(\" \"),_c('footer',[_c('woot-button',{attrs:{\"variant\":\"smooth\"},on:{\"click\":_vm.resetTemplate}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PARSER.GO_BACK_LABEL'))+\"\\n    \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.sendMessage}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PARSER.SEND_MESSAGE_LABEL'))+\"\\n    \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"w-full\">\n    <textarea\n      v-model=\"processedString\"\n      rows=\"4\"\n      readonly\n      class=\"template-input\"\n    />\n    <div v-if=\"variables\" class=\"template__variables-container\">\n      <p class=\"variables-label\">\n        {{ $t('WHATSAPP_TEMPLATES.PARSER.VARIABLES_LABEL') }}\n      </p>\n      <div\n        v-for=\"(variable, key) in processedParams\"\n        :key=\"key\"\n        class=\"template__variable-item\"\n      >\n        <span class=\"variable-label\">\n          {{ key }}\n        </span>\n        <woot-input\n          v-model=\"processedParams[key]\"\n          type=\"text\"\n          class=\"variable-input\"\n          :styles=\"{ marginBottom: 0 }\"\n        />\n      </div>\n      <p v-if=\"v$.$dirty && v$.$invalid\" class=\"error\">\n        {{ $t('WHATSAPP_TEMPLATES.PARSER.FORM_ERROR_MESSAGE') }}\n      </p>\n    </div>\n    <footer>\n      <woot-button variant=\"smooth\" @click=\"resetTemplate\">\n        {{ $t('WHATSAPP_TEMPLATES.PARSER.GO_BACK_LABEL') }}\n      </woot-button>\n      <woot-button type=\"button\" @click=\"sendMessage\">\n        {{ $t('WHATSAPP_TEMPLATES.PARSER.SEND_MESSAGE_LABEL') }}\n      </woot-button>\n    </footer>\n  </div>\n</template>\n\n<script>\n/**\n * This component handles parsing and sending WhatsApp message templates.\n * It works as follows:\n * 1. Displays the template text with variable placeholders.\n * 2. Generates input fields for each variable in the template.\n * 3. Validates that all variables are filled before sending.\n * 4. Replaces placeholders with user-provided values.\n * 5. Emits events to send the processed message or reset the template.\n */\nimport { ref, computed, onMounted } from 'vue';\nimport { useVuelidate } from '@vuelidate/core';\nimport { requiredIf } from '@vuelidate/validators';\n\nexport default {\n  props: {\n    template: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  setup(props, { emit }) {\n    const processVariable = str => {\n      return str.replace(/{{|}}/g, '');\n    };\n\n    const allKeysRequired = value => {\n      const keys = Object.keys(value);\n      return keys.every(key => value[key]);\n    };\n\n    const processedParams = ref({});\n\n    const templateString = computed(() => {\n      return props.template.components.find(\n        component => component.type === 'BODY'\n      ).text;\n    });\n\n    const variables = computed(() => {\n      return templateString.value.match(/{{([^}]+)}}/g);\n    });\n\n    const processedString = computed(() => {\n      return templateString.value.replace(/{{([^}]+)}}/g, (match, variable) => {\n        const variableKey = processVariable(variable);\n        return processedParams.value[variableKey] || `{{${variable}}}`;\n      });\n    });\n\n    const v$ = useVuelidate(\n      {\n        processedParams: {\n          requiredIfKeysPresent: requiredIf(variables),\n          allKeysRequired,\n        },\n      },\n      { processedParams }\n    );\n\n    const generateVariables = () => {\n      const matchedVariables = templateString.value.match(/{{([^}]+)}}/g);\n      if (!matchedVariables) return;\n\n      const finalVars = matchedVariables.map(i => processVariable(i));\n      processedParams.value = finalVars.reduce((acc, variable) => {\n        acc[variable] = '';\n        return acc;\n      }, {});\n    };\n\n    const resetTemplate = () => {\n      emit('resetTemplate');\n    };\n\n    const sendMessage = () => {\n      v$.value.$touch();\n      if (v$.value.$invalid) return;\n\n      const payload = {\n        message: processedString.value,\n        templateParams: {\n          name: props.template.name,\n          category: props.template.category,\n          language: props.template.language,\n          namespace: props.template.namespace,\n          processed_params: processedParams.value,\n        },\n      };\n      emit('sendMessage', payload);\n    };\n\n    onMounted(generateVariables);\n\n    return {\n      processedParams,\n      variables,\n      templateString,\n      processedString,\n      v$,\n      resetTemplate,\n      sendMessage,\n    };\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.template__variables-container {\n  @apply p-2.5;\n}\n\n.variables-label {\n  @apply text-sm font-semibold mb-2.5;\n}\n\n.template__variable-item {\n  @apply items-center flex mb-2.5;\n\n  .label {\n    @apply text-xs;\n  }\n\n  .variable-input {\n    @apply flex-1 text-sm ml-2.5;\n  }\n\n  .variable-label {\n    @apply bg-slate-75 dark:bg-slate-700 text-slate-700 dark:text-slate-100 inline-block rounded-md text-xs py-2.5 px-6;\n  }\n}\n\nfooter {\n  @apply flex justify-end;\n\n  button {\n    @apply ml-2.5;\n  }\n}\n.error {\n  @apply bg-red-100 dark:bg-red-100 rounded-md text-red-800 dark:text-red-800 p-2.5 text-center;\n}\n.template-input {\n  @apply bg-slate-25 dark:bg-slate-900 text-slate-700 dark:text-slate-100;\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateParser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateParser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TemplateParser.vue?vue&type=template&id=b6aee818&scoped=true&\"\nimport script from \"./TemplateParser.vue?vue&type=script&lang=js&\"\nexport * from \"./TemplateParser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TemplateParser.vue?vue&type=style&index=0&id=b6aee818&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6aee818\",\n  null\n  \n)\n\nexport default component.exports","const FLAG_OFFSET = 127397;\n\n/**\n * Gets emoji flag for given locale.\n *\n * @param {string} countryCode locale code\n * @return {string} emoji flag\n *\n * @example\n * getCountryFlag('cz') // '🇨🇿'\n */\nexport const getCountryFlag = countryCode => {\n  const codePoints = countryCode\n    .toUpperCase()\n    .split('')\n    .map(char => FLAG_OFFSET + char.charCodeAt());\n\n  return String.fromCodePoint(...codePoints);\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"relative flex items-start flex-grow-0 flex-shrink-0 w-auto max-w-full px-4 py-0 border-t-0 border-b-0 border-l-2 border-r-0 border-transparent border-solid cursor-pointer conversation hover:bg-slate-25 dark:hover:bg-slate-800 group\",class:{\n    'active animate-card-select bg-slate-25 dark:bg-slate-800 border-woot-500':\n      _vm.isActiveChat,\n    'unread-chat': _vm.hasUnread,\n    'has-inbox-name': _vm.showInboxName,\n    'conversation-selected': _vm.selected,\n  },on:{\"mouseenter\":_vm.onCardHover,\"mouseleave\":_vm.onCardLeave,\"click\":_vm.onCardClick,\"contextmenu\":function($event){return _vm.openContextMenu($event)}}},[(_vm.hovered || _vm.selected)?_c('label',{staticClass:\"checkbox-wrapper\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('input',{staticClass:\"checkbox\",attrs:{\"type\":\"checkbox\"},domProps:{\"value\":_vm.selected,\"checked\":_vm.selected},on:{\"change\":function($event){return _vm.onSelectConversation($event.target.checked)}}})]):_vm._e(),_vm._v(\" \"),(_vm.bulkActionCheck)?_c('thumbnail',{attrs:{\"src\":_vm.currentContact.thumbnail,\"badge\":_vm.inboxBadge,\"username\":_vm.currentContact.name,\"status\":_vm.currentContact.availability_status,\"size\":\"40px\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"px-0 py-3 border-b group-hover:border-transparent flex-1 border-slate-50 dark:border-slate-800/75 w-[calc(100%-40px)]\"},[_c('div',{staticClass:\"flex justify-between\"},[(_vm.showInboxName)?_c('inbox-name',{attrs:{\"inbox\":_vm.inbox}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex gap-2 ml-2 rtl:mr-2 rtl:ml-0\"},[(_vm.showAssignee && _vm.assignee.name)?_c('span',{staticClass:\"text-slate-500 dark:text-slate-400 text-xs font-medium leading-3 py-0.5 px-0 inline-flex text-ellipsis overflow-hidden whitespace-nowrap\"},[_c('fluent-icon',{staticClass:\"text-slate-500 dark:text-slate-400\",attrs:{\"icon\":\"person\",\"size\":\"12\"}}),_vm._v(\"\\n          \"+_vm._s(_vm.assignee.name)+\"\\n        \")],1):_vm._e(),_vm._v(\" \"),_c('priority-mark',{attrs:{\"priority\":_vm.chat.priority}})],1)],1),_vm._v(\" \"),_c('h4',{staticClass:\"conversation--user text-sm my-0 mx-2 capitalize pt-0.5 text-ellipsis font-medium overflow-hidden whitespace-nowrap w-[calc(100%-70px)] text-slate-900 dark:text-slate-100\"},[_vm._v(\"\\n      \"+_vm._s(_vm.currentContact.name)+\"\\n    \")]),_vm._v(\" \"),(_vm.lastMessageInChat)?_c('message-preview',{staticClass:\"conversation--message my-0 mx-2 leading-6 h-6 max-w-[96%] w-[16.875rem] text-sm text-slate-700 dark:text-slate-200\",attrs:{\"message\":_vm.lastMessageInChat}}):_c('p',{staticClass:\"conversation--message text-slate-700 dark:text-slate-200 text-sm my-0 mx-2 leading-6 h-6 max-w-[96%] w-[16.875rem] overflow-hidden text-ellipsis whitespace-nowrap\"},[_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\",attrs:{\"size\":\"16\",\"icon\":\"info\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.$t(`CHAT_LIST.NO_MESSAGES`))+\"\\n      \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"absolute flex flex-col conversation--meta right-4 top-4\"},[_c('span',{staticClass:\"ml-auto font-normal leading-4 text-black-600 text-xxs\"},[_c('time-ago',{attrs:{\"last-activity-timestamp\":_vm.chat.timestamp,\"created-at-timestamp\":_vm.chat.created_at}})],1),_vm._v(\" \"),_c('span',{staticClass:\"unread shadow-lg rounded-full hidden text-xxs font-semibold h-4 leading-4 ml-auto mt-1 min-w-[1rem] px-1 py-0 text-center text-white bg-green-400\"},[_vm._v(\"\\n        \"+_vm._s(_vm.unreadCount > 9 ? '9+' : _vm.unreadCount)+\"\\n      \")])]),_vm._v(\" \"),_c('card-labels',{staticClass:\"mt-0.5 mx-2 mb-0\",attrs:{\"conversation-id\":_vm.chat.id},scopedSlots:_vm._u([(_vm.hasSlaPolicyId)?{key:\"before\",fn:function(){return [_c('SLA-card-label',{staticClass:\"ltr:mr-1 rtl:ml-1\",attrs:{\"chat\":_vm.chat}})]},proxy:true}:null],null,true)})],1),_vm._v(\" \"),(_vm.showContextMenu)?_c('woot-context-menu',{ref:\"menu\",attrs:{\"x\":_vm.contextMenu.x,\"y\":_vm.contextMenu.y},on:{\"close\":_vm.closeContextMenu}},[_c('conversation-context-menu',{attrs:{\"status\":_vm.chat.status,\"inbox-id\":_vm.inbox.id,\"priority\":_vm.chat.priority,\"chat-id\":_vm.chat.id,\"has-unread-messages\":_vm.hasUnread},on:{\"update-conversation\":_vm.onUpdateConversation,\"assign-agent\":_vm.onAssignAgent,\"assign-label\":_vm.onAssignLabel,\"assign-team\":_vm.onAssignTeam,\"mark-as-unread\":_vm.markAsUnread,\"assign-priority\":_vm.assignPriority}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItemWithSubmenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItemWithSubmenu.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    class=\"text-slate-800 dark:text-slate-100 menu-with-submenu min-width-calc w-full p-1 flex items-center h-7 rounded-md relative bg-white dark:bg-slate-700 justify-between hover:bg-woot-75 cursor-pointer dark:hover:bg-slate-800\"\n    :class=\"!subMenuAvailable ? 'opacity-50 cursor-not-allowed' : ''\"\n  >\n    <div class=\"flex items-center\">\n      <fluent-icon :icon=\"option.icon\" size=\"14\" class=\"menu-icon\" />\n      <p class=\"my-0 mx-2 text-xs\">{{ option.label }}</p>\n    </div>\n    <fluent-icon icon=\"chevron-right\" size=\"12\" />\n    <div\n      v-if=\"subMenuAvailable\"\n      class=\"submenu bg-white dark:bg-slate-700 p-1 shadow-lg rounded-md absolute left-full top-0 hidden min-h-min max-h-[15rem] overflow-y-auto overflow-x-hidden cursor-pointer\"\n    >\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    option: {\n      type: Object,\n      default: () => {},\n    },\n    subMenuAvailable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.menu-with-submenu {\n  min-width: calc(6.25rem * 2);\n\n  &:hover {\n    .submenu {\n      @apply block;\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./menuItemWithSubmenu.vue?vue&type=template&id=70254f76&scoped=true&\"\nimport script from \"./menuItemWithSubmenu.vue?vue&type=script&lang=js&\"\nexport * from \"./menuItemWithSubmenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menuItemWithSubmenu.vue?vue&type=style&index=0&id=70254f76&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70254f76\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-slate-800 dark:text-slate-100 menu-with-submenu min-width-calc w-full p-1 flex items-center h-7 rounded-md relative bg-white dark:bg-slate-700 justify-between hover:bg-woot-75 cursor-pointer dark:hover:bg-slate-800\",class:!_vm.subMenuAvailable ? 'opacity-50 cursor-not-allowed' : ''},[_c('div',{staticClass:\"flex items-center\"},[_c('fluent-icon',{staticClass:\"menu-icon\",attrs:{\"icon\":_vm.option.icon,\"size\":\"14\"}}),_vm._v(\" \"),_c('p',{staticClass:\"my-0 mx-2 text-xs\"},[_vm._v(_vm._s(_vm.option.label))])],1),_vm._v(\" \"),_c('fluent-icon',{attrs:{\"icon\":\"chevron-right\",\"size\":\"12\"}}),_vm._v(\" \"),(_vm.subMenuAvailable)?_c('div',{staticClass:\"submenu bg-white dark:bg-slate-700 p-1 shadow-lg rounded-md absolute left-full top-0 hidden min-h-min max-h-[15rem] overflow-y-auto overflow-x-hidden cursor-pointer\"},[_vm._t(\"default\")],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agentLoadingPlaceholder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agentLoadingPlaceholder.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"agent-placeholder\">\n    <spinner />\n    <p>{{ $t('CONVERSATION.CARD_CONTEXT_MENU.AGENTS_LOADING') }}</p>\n  </div>\n</template>\n\n<script>\nimport Spinner from 'shared/components/Spinner.vue';\n\nexport default {\n  components: {\n    Spinner,\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.agent-placeholder {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n  padding: var(--space-normal) 0;\n  min-width: calc(var(--space-mega) * 2);\n\n  p {\n    margin: var(--space-small) 0 0 0;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./agentLoadingPlaceholder.vue?vue&type=template&id=7265fabf&scoped=true&\"\nimport script from \"./agentLoadingPlaceholder.vue?vue&type=script&lang=js&\"\nexport * from \"./agentLoadingPlaceholder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./agentLoadingPlaceholder.vue?vue&type=style&index=0&id=7265fabf&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7265fabf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"agent-placeholder\"},[_c('spinner'),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.$t('CONVERSATION.CARD_CONTEXT_MENU.AGENTS_LOADING')))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"bg-white dark:bg-slate-700 shadow-xl rounded-md p-1\">\n    <menu-item\n      v-if=\"!hasUnreadMessages\"\n      :option=\"unreadOption\"\n      variant=\"icon\"\n      @click=\"$emit('mark-as-unread')\"\n    />\n    <template v-for=\"option in statusMenuConfig\">\n      <menu-item\n        v-if=\"show(option.key)\"\n        :key=\"option.key\"\n        :option=\"option\"\n        variant=\"icon\"\n        @click=\"toggleStatus(option.key, null)\"\n      />\n    </template>\n    <menu-item\n      v-if=\"showSnooze\"\n      :option=\"snoozeOption\"\n      variant=\"icon\"\n      @click=\"snoozeConversation()\"\n    />\n\n    <menu-item-with-submenu :option=\"priorityConfig\">\n      <menu-item\n        v-for=\"(option, i) in priorityConfig.options\"\n        :key=\"i\"\n        :option=\"option\"\n        @click=\"assignPriority(option.key)\"\n      />\n    </menu-item-with-submenu>\n    <menu-item-with-submenu\n      :option=\"labelMenuConfig\"\n      :sub-menu-available=\"!!labels.length\"\n    >\n      <menu-item\n        v-for=\"label in labels\"\n        :key=\"label.id\"\n        :option=\"generateMenuLabelConfig(label, 'label')\"\n        variant=\"label\"\n        @click=\"$emit('assign-label', label)\"\n      />\n    </menu-item-with-submenu>\n    <menu-item-with-submenu\n      :option=\"agentMenuConfig\"\n      :sub-menu-available=\"!!assignableAgents.length\"\n    >\n      <agent-loading-placeholder v-if=\"assignableAgentsUiFlags.isFetching\" />\n      <template v-else>\n        <menu-item\n          v-for=\"agent in assignableAgents\"\n          :key=\"agent.id\"\n          :option=\"generateMenuLabelConfig(agent, 'agent')\"\n          variant=\"agent\"\n          @click=\"$emit('assign-agent', agent)\"\n        />\n      </template>\n    </menu-item-with-submenu>\n    <menu-item-with-submenu\n      :option=\"teamMenuConfig\"\n      :sub-menu-available=\"!!teams.length\"\n    >\n      <menu-item\n        v-for=\"team in teams\"\n        :key=\"team.id\"\n        :option=\"generateMenuLabelConfig(team, 'team')\"\n        @click=\"$emit('assign-team', team)\"\n      />\n    </menu-item-with-submenu>\n  </div>\n</template>\n\n<script>\nimport MenuItem from './menuItem.vue';\nimport MenuItemWithSubmenu from './menuItemWithSubmenu.vue';\nimport wootConstants from 'dashboard/constants/globals';\nimport agentMixin from 'dashboard/mixins/agentMixin';\nimport { mapGetters } from 'vuex';\nimport AgentLoadingPlaceholder from './agentLoadingPlaceholder.vue';\nexport default {\n  components: {\n    MenuItem,\n    MenuItemWithSubmenu,\n    AgentLoadingPlaceholder,\n  },\n  mixins: [agentMixin],\n  props: {\n    chatId: {\n      type: Number,\n      default: null,\n    },\n    status: {\n      type: String,\n      default: '',\n    },\n    hasUnreadMessages: {\n      type: Boolean,\n      default: false,\n    },\n    inboxId: {\n      type: Number,\n      default: null,\n    },\n    priority: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      STATUS_TYPE: wootConstants.STATUS_TYPE,\n      unreadOption: {\n        label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.MARK_AS_UNREAD'),\n        icon: 'mail',\n      },\n      statusMenuConfig: [\n        {\n          key: wootConstants.STATUS_TYPE.RESOLVED,\n          label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.RESOLVED'),\n          icon: 'checkmark',\n        },\n        {\n          key: wootConstants.STATUS_TYPE.PENDING,\n          label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.PENDING'),\n          icon: 'book-clock',\n        },\n        {\n          key: wootConstants.STATUS_TYPE.OPEN,\n          label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.REOPEN'),\n          icon: 'arrow-redo',\n        },\n      ],\n      snoozeOption: {\n        key: wootConstants.STATUS_TYPE.SNOOZED,\n        label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.SNOOZE.TITLE'),\n        icon: 'snooze',\n      },\n      priorityConfig: {\n        key: 'priority',\n        label: this.$t('CONVERSATION.PRIORITY.TITLE'),\n        icon: 'warning',\n        options: [\n          {\n            label: this.$t('CONVERSATION.PRIORITY.OPTIONS.NONE'),\n            key: null,\n          },\n          {\n            label: this.$t('CONVERSATION.PRIORITY.OPTIONS.URGENT'),\n            key: 'urgent',\n          },\n          {\n            label: this.$t('CONVERSATION.PRIORITY.OPTIONS.HIGH'),\n            key: 'high',\n          },\n          {\n            label: this.$t('CONVERSATION.PRIORITY.OPTIONS.MEDIUM'),\n            key: 'medium',\n          },\n          {\n            label: this.$t('CONVERSATION.PRIORITY.OPTIONS.LOW'),\n            key: 'low',\n          },\n        ].filter(item => item.key !== this.priority),\n      },\n      labelMenuConfig: {\n        key: 'label',\n        icon: 'tag',\n        label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.ASSIGN_LABEL'),\n      },\n      agentMenuConfig: {\n        key: 'agent',\n        icon: 'person-add',\n        label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.ASSIGN_AGENT'),\n      },\n      teamMenuConfig: {\n        key: 'team',\n        icon: 'people-team-add',\n        label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.ASSIGN_TEAM'),\n      },\n    };\n  },\n  computed: {\n    ...mapGetters({\n      labels: 'labels/getLabels',\n      teams: 'teams/getTeams',\n      assignableAgentsUiFlags: 'inboxAssignableAgents/getUIFlags',\n    }),\n    filteredAgentOnAvailability() {\n      const agents = this.$store.getters[\n        'inboxAssignableAgents/getAssignableAgents'\n      ](this.inboxId);\n      const agentsByUpdatedPresence = this.getAgentsByUpdatedPresence(agents);\n      const filteredAgents = this.sortedAgentsByAvailability(\n        agentsByUpdatedPresence\n      );\n      return filteredAgents;\n    },\n    assignableAgents() {\n      return [\n        {\n          confirmed: true,\n          name: 'None',\n          id: null,\n          role: 'agent',\n          account_id: 0,\n          email: 'None',\n        },\n        ...this.filteredAgentOnAvailability,\n      ];\n    },\n    showSnooze() {\n      // Don't show snooze if the conversation is already snoozed/resolved/pending\n      return this.status === wootConstants.STATUS_TYPE.OPEN;\n    },\n  },\n  mounted() {\n    this.$store.dispatch('inboxAssignableAgents/fetch', [this.inboxId]);\n  },\n  methods: {\n    toggleStatus(status, snoozedUntil) {\n      this.$emit('update-conversation', status, snoozedUntil);\n    },\n    async snoozeConversation() {\n      await this.$store.dispatch('setContextMenuChatId', this.chatId);\n      const ninja = document.querySelector('ninja-keys');\n      ninja.open({ parent: 'snooze_conversation' });\n    },\n    assignPriority(priority) {\n      this.$emit('assign-priority', priority);\n    },\n    show(key) {\n      // If the conversation status is same as the action, then don't display the option\n      // i.e.: Don't show an option to resolve if the conversation is already resolved.\n      return this.status !== key;\n    },\n    generateMenuLabelConfig(option, type = 'text') {\n      return {\n        key: option.id,\n        ...(type === 'icon' && { icon: option.icon }),\n        ...(type === 'label' && { color: option.color }),\n        ...(type === 'agent' && { thumbnail: option.thumbnail }),\n        ...(type === 'agent' && { status: option.availability_status }),\n        ...(type === 'text' && { label: option.label }),\n        ...(type === 'label' && { label: option.title }),\n        ...(type === 'agent' && { label: option.name }),\n        ...(type === 'team' && { label: option.name }),\n      };\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=5e862d36&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"bg-white dark:bg-slate-700 shadow-xl rounded-md p-1\"},[(!_vm.hasUnreadMessages)?_c('menu-item',{attrs:{\"option\":_vm.unreadOption,\"variant\":\"icon\"},on:{\"click\":function($event){return _vm.$emit('mark-as-unread')}}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.statusMenuConfig),function(option){return [(_vm.show(option.key))?_c('menu-item',{key:option.key,attrs:{\"option\":option,\"variant\":\"icon\"},on:{\"click\":function($event){return _vm.toggleStatus(option.key, null)}}}):_vm._e()]}),_vm._v(\" \"),(_vm.showSnooze)?_c('menu-item',{attrs:{\"option\":_vm.snoozeOption,\"variant\":\"icon\"},on:{\"click\":function($event){return _vm.snoozeConversation()}}}):_vm._e(),_vm._v(\" \"),_c('menu-item-with-submenu',{attrs:{\"option\":_vm.priorityConfig}},_vm._l((_vm.priorityConfig.options),function(option,i){return _c('menu-item',{key:i,attrs:{\"option\":option},on:{\"click\":function($event){return _vm.assignPriority(option.key)}}})}),1),_vm._v(\" \"),_c('menu-item-with-submenu',{attrs:{\"option\":_vm.labelMenuConfig,\"sub-menu-available\":!!_vm.labels.length}},_vm._l((_vm.labels),function(label){return _c('menu-item',{key:label.id,attrs:{\"option\":_vm.generateMenuLabelConfig(label, 'label'),\"variant\":\"label\"},on:{\"click\":function($event){return _vm.$emit('assign-label', label)}}})}),1),_vm._v(\" \"),_c('menu-item-with-submenu',{attrs:{\"option\":_vm.agentMenuConfig,\"sub-menu-available\":!!_vm.assignableAgents.length}},[(_vm.assignableAgentsUiFlags.isFetching)?_c('agent-loading-placeholder'):_vm._l((_vm.assignableAgents),function(agent){return _c('menu-item',{key:agent.id,attrs:{\"option\":_vm.generateMenuLabelConfig(agent, 'agent'),\"variant\":\"agent\"},on:{\"click\":function($event){return _vm.$emit('assign-agent', agent)}}})})],2),_vm._v(\" \"),_c('menu-item-with-submenu',{attrs:{\"option\":_vm.teamMenuConfig,\"sub-menu-available\":!!_vm.teams.length}},_vm._l((_vm.teams),function(team){return _c('menu-item',{key:team.id,attrs:{\"option\":_vm.generateMenuLabelConfig(team, 'team')},on:{\"click\":function($event){return _vm.$emit('assign-team', team)}}})}),1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-tooltip.top=\"{\n      content: tooltipText,\n      delay: { show: 1500, hide: 0 },\n      hideOnClick: true,\n    }\"\n    class=\"ml-auto leading-4 text-xxs text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-slate-100\"\n  >\n    <span>{{ `${createdAtTime} • ${lastActivityTime}` }}</span>\n  </div>\n</template>\n\n<script>\nconst MINUTE_IN_MILLI_SECONDS = 60000;\nconst HOUR_IN_MILLI_SECONDS = MINUTE_IN_MILLI_SECONDS * 60;\nconst DAY_IN_MILLI_SECONDS = HOUR_IN_MILLI_SECONDS * 24;\n\nimport {\n  dynamicTime,\n  dateFormat,\n  shortTimestamp,\n} from 'shared/helpers/timeHelper';\n\nexport default {\n  name: 'TimeAgo',\n  props: {\n    isAutoRefreshEnabled: {\n      type: Boolean,\n      default: true,\n    },\n    lastActivityTimestamp: {\n      type: [String, Date, Number],\n      default: '',\n    },\n    createdAtTimestamp: {\n      type: [String, Date, Number],\n      default: '',\n    },\n  },\n  data() {\n    return {\n      lastActivityAtTimeAgo: dynamicTime(this.lastActivityTimestamp),\n      createdAtTimeAgo: dynamicTime(this.createdAtTimestamp),\n      timer: null,\n    };\n  },\n  computed: {\n    lastActivityTime() {\n      return shortTimestamp(this.lastActivityAtTimeAgo);\n    },\n    createdAtTime() {\n      return shortTimestamp(this.createdAtTimeAgo);\n    },\n    createdAt() {\n      const createdTimeDiff = Date.now() - this.createdAtTimestamp * 1000;\n      const isBeforeAMonth = createdTimeDiff > DAY_IN_MILLI_SECONDS * 30;\n      return !isBeforeAMonth\n        ? `${this.$t('CHAT_LIST.CHAT_TIME_STAMP.CREATED.LATEST')} ${\n            this.createdAtTimeAgo\n          }`\n        : `${this.$t('CHAT_LIST.CHAT_TIME_STAMP.CREATED.OLDEST')} ${dateFormat(\n            this.createdAtTimestamp\n          )}`;\n    },\n    lastActivity() {\n      const lastActivityTimeDiff =\n        Date.now() - this.lastActivityTimestamp * 1000;\n      const isNotActive = lastActivityTimeDiff > DAY_IN_MILLI_SECONDS * 30;\n      return !isNotActive\n        ? `${this.$t('CHAT_LIST.CHAT_TIME_STAMP.LAST_ACTIVITY.ACTIVE')} ${\n            this.lastActivityAtTimeAgo\n          }`\n        : `${this.$t(\n            'CHAT_LIST.CHAT_TIME_STAMP.LAST_ACTIVITY.NOT_ACTIVE'\n          )} ${dateFormat(this.lastActivityTimestamp)}`;\n    },\n    tooltipText() {\n      return `${this.createdAt}\n              ${this.lastActivity}`;\n    },\n  },\n  watch: {\n    lastActivityTimestamp() {\n      this.lastActivityAtTimeAgo = dynamicTime(this.lastActivityTimestamp);\n    },\n    createdAtTimestamp() {\n      this.createdAtTimeAgo = dynamicTime(this.createdAtTimestamp);\n    },\n  },\n  mounted() {\n    if (this.isAutoRefreshEnabled) {\n      this.createTimer();\n    }\n  },\n  beforeDestroy() {\n    clearTimeout(this.timer);\n  },\n  methods: {\n    createTimer() {\n      this.timer = setTimeout(() => {\n        this.lastActivityAtTimeAgo = dynamicTime(this.lastActivityTimestamp);\n        this.createdAtTimeAgo = dynamicTime(this.createdAtTimestamp);\n        this.createTimer();\n      }, this.refreshTime());\n    },\n    refreshTime() {\n      const timeDiff = Date.now() - this.lastActivityTimestamp * 1000;\n      if (timeDiff > DAY_IN_MILLI_SECONDS) {\n        return DAY_IN_MILLI_SECONDS;\n      }\n      if (timeDiff > HOUR_IN_MILLI_SECONDS) {\n        return HOUR_IN_MILLI_SECONDS;\n      }\n\n      return MINUTE_IN_MILLI_SECONDS;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeAgo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeAgo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeAgo.vue?vue&type=template&id=131f00d8&\"\nimport script from \"./TimeAgo.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeAgo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:({\n    content: _vm.tooltipText,\n    delay: { show: 1500, hide: 0 },\n    hideOnClick: true,\n  }),expression:\"{\\n    content: tooltipText,\\n    delay: { show: 1500, hide: 0 },\\n    hideOnClick: true,\\n  }\",modifiers:{\"top\":true}}],staticClass:\"ml-auto leading-4 text-xxs text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-slate-100\"},[_c('span',[_vm._v(_vm._s(`${_vm.createdAtTime} • ${_vm.lastActivityTime}`))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span\n    v-if=\"priority\"\n    v-tooltip=\"{\n      content: tooltipText,\n      delay: { show: 1500, hide: 0 },\n      hideOnClick: true,\n    }\"\n    class=\"shrink-0 rounded-sm inline-flex w-3.5 h-3.5\"\n    :class=\"{\n      'bg-red-50 dark:bg-red-700 dark:bg-opacity-30 text-red-500 dark:text-red-600':\n        isUrgent,\n      'bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-200':\n        !isUrgent,\n    }\"\n  >\n    <fluent-icon\n      :icon=\"`priority-${priority.toLowerCase()}`\"\n      size=\"14\"\n      view-box=\"0 0 14 14\"\n    />\n  </span>\n</template>\n\n<script>\nimport { CONVERSATION_PRIORITY } from '../../../../shared/constants/messages';\n\nexport default {\n  name: 'PriorityMark',\n  props: {\n    priority: {\n      type: String,\n      default: '',\n      validate: value =>\n        [...Object.values(CONVERSATION_PRIORITY), ''].includes(value),\n    },\n  },\n  data() {\n    return {\n      CONVERSATION_PRIORITY,\n    };\n  },\n  computed: {\n    tooltipText() {\n      return this.$t(\n        `CONVERSATION.PRIORITY.OPTIONS.${this.priority.toUpperCase()}`\n      );\n    },\n    isUrgent() {\n      return this.priority === CONVERSATION_PRIORITY.URGENT;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriorityMark.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriorityMark.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PriorityMark.vue?vue&type=template&id=24ab2d90&\"\nimport script from \"./PriorityMark.vue?vue&type=script&lang=js&\"\nexport * from \"./PriorityMark.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.priority)?_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({\n    content: _vm.tooltipText,\n    delay: { show: 1500, hide: 0 },\n    hideOnClick: true,\n  }),expression:\"{\\n    content: tooltipText,\\n    delay: { show: 1500, hide: 0 },\\n    hideOnClick: true,\\n  }\"}],staticClass:\"shrink-0 rounded-sm inline-flex w-3.5 h-3.5\",class:{\n    'bg-red-50 dark:bg-red-700 dark:bg-opacity-30 text-red-500 dark:text-red-600':\n      _vm.isUrgent,\n    'bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-200':\n      !_vm.isUrgent,\n  }},[_c('fluent-icon',{attrs:{\"icon\":`priority-${_vm.priority.toLowerCase()}`,\"size\":\"14\",\"view-box\":\"0 0 14 14\"}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"relative flex items-start flex-grow-0 flex-shrink-0 w-auto max-w-full px-4 py-0 border-t-0 border-b-0 border-l-2 border-r-0 border-transparent border-solid cursor-pointer conversation hover:bg-slate-25 dark:hover:bg-slate-800 group\"\n    :class=\"{\n      'active animate-card-select bg-slate-25 dark:bg-slate-800 border-woot-500':\n        isActiveChat,\n      'unread-chat': hasUnread,\n      'has-inbox-name': showInboxName,\n      'conversation-selected': selected,\n    }\"\n    @mouseenter=\"onCardHover\"\n    @mouseleave=\"onCardLeave\"\n    @click=\"onCardClick\"\n    @contextmenu=\"openContextMenu($event)\"\n  >\n    <label v-if=\"hovered || selected\" class=\"checkbox-wrapper\" @click.stop>\n      <input\n        :value=\"selected\"\n        :checked=\"selected\"\n        class=\"checkbox\"\n        type=\"checkbox\"\n        @change=\"onSelectConversation($event.target.checked)\"\n      />\n    </label>\n    <thumbnail\n      v-if=\"bulkActionCheck\"\n      :src=\"currentContact.thumbnail\"\n      :badge=\"inboxBadge\"\n      :username=\"currentContact.name\"\n      :status=\"currentContact.availability_status\"\n      size=\"40px\"\n    />\n    <div\n      class=\"px-0 py-3 border-b group-hover:border-transparent flex-1 border-slate-50 dark:border-slate-800/75 w-[calc(100%-40px)]\"\n    >\n      <div class=\"flex justify-between\">\n        <inbox-name v-if=\"showInboxName\" :inbox=\"inbox\" />\n        <div class=\"flex gap-2 ml-2 rtl:mr-2 rtl:ml-0\">\n          <span\n            v-if=\"showAssignee && assignee.name\"\n            class=\"text-slate-500 dark:text-slate-400 text-xs font-medium leading-3 py-0.5 px-0 inline-flex text-ellipsis overflow-hidden whitespace-nowrap\"\n          >\n            <fluent-icon\n              icon=\"person\"\n              size=\"12\"\n              class=\"text-slate-500 dark:text-slate-400\"\n            />\n            {{ assignee.name }}\n          </span>\n          <priority-mark :priority=\"chat.priority\" />\n        </div>\n      </div>\n      <h4\n        class=\"conversation--user text-sm my-0 mx-2 capitalize pt-0.5 text-ellipsis font-medium overflow-hidden whitespace-nowrap w-[calc(100%-70px)] text-slate-900 dark:text-slate-100\"\n      >\n        {{ currentContact.name }}\n      </h4>\n      <message-preview\n        v-if=\"lastMessageInChat\"\n        :message=\"lastMessageInChat\"\n        class=\"conversation--message my-0 mx-2 leading-6 h-6 max-w-[96%] w-[16.875rem] text-sm text-slate-700 dark:text-slate-200\"\n      />\n      <p\n        v-else\n        class=\"conversation--message text-slate-700 dark:text-slate-200 text-sm my-0 mx-2 leading-6 h-6 max-w-[96%] w-[16.875rem] overflow-hidden text-ellipsis whitespace-nowrap\"\n      >\n        <fluent-icon\n          size=\"16\"\n          class=\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\"\n          icon=\"info\"\n        />\n        <span>\n          {{ $t(`CHAT_LIST.NO_MESSAGES`) }}\n        </span>\n      </p>\n      <div class=\"absolute flex flex-col conversation--meta right-4 top-4\">\n        <span class=\"ml-auto font-normal leading-4 text-black-600 text-xxs\">\n          <time-ago\n            :last-activity-timestamp=\"chat.timestamp\"\n            :created-at-timestamp=\"chat.created_at\"\n          />\n        </span>\n        <span\n          class=\"unread shadow-lg rounded-full hidden text-xxs font-semibold h-4 leading-4 ml-auto mt-1 min-w-[1rem] px-1 py-0 text-center text-white bg-green-400\"\n        >\n          {{ unreadCount > 9 ? '9+' : unreadCount }}\n        </span>\n      </div>\n      <card-labels :conversation-id=\"chat.id\" class=\"mt-0.5 mx-2 mb-0\">\n        <template v-if=\"hasSlaPolicyId\" #before>\n          <SLA-card-label :chat=\"chat\" class=\"ltr:mr-1 rtl:ml-1\" />\n        </template>\n      </card-labels>\n    </div>\n    <woot-context-menu\n      v-if=\"showContextMenu\"\n      ref=\"menu\"\n      :x=\"contextMenu.x\"\n      :y=\"contextMenu.y\"\n      @close=\"closeContextMenu\"\n    >\n      <conversation-context-menu\n        :status=\"chat.status\"\n        :inbox-id=\"inbox.id\"\n        :priority=\"chat.priority\"\n        :chat-id=\"chat.id\"\n        :has-unread-messages=\"hasUnread\"\n        @update-conversation=\"onUpdateConversation\"\n        @assign-agent=\"onAssignAgent\"\n        @assign-label=\"onAssignLabel\"\n        @assign-team=\"onAssignTeam\"\n        @mark-as-unread=\"markAsUnread\"\n        @assign-priority=\"assignPriority\"\n      />\n    </woot-context-menu>\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport Thumbnail from '../Thumbnail.vue';\nimport MessagePreview from './MessagePreview.vue';\nimport conversationMixin from '../../../mixins/conversations';\nimport router from '../../../routes';\nimport { frontendURL, conversationUrl } from '../../../helper/URLHelper';\nimport InboxName from '../InboxName.vue';\nimport inboxMixin from 'shared/mixins/inboxMixin';\nimport ConversationContextMenu from './contextMenu/Index.vue';\nimport TimeAgo from 'dashboard/components/ui/TimeAgo.vue';\nimport CardLabels from './conversationCardComponents/CardLabels.vue';\nimport PriorityMark from './PriorityMark.vue';\nimport SLACardLabel from './components/SLACardLabel.vue';\n\nexport default {\n  components: {\n    CardLabels,\n    InboxName,\n    Thumbnail,\n    ConversationContextMenu,\n    TimeAgo,\n    MessagePreview,\n    PriorityMark,\n    SLACardLabel,\n  },\n  mixins: [inboxMixin, conversationMixin],\n  props: {\n    activeLabel: {\n      type: String,\n      default: '',\n    },\n    chat: {\n      type: Object,\n      default: () => {},\n    },\n    hideInboxName: {\n      type: Boolean,\n      default: false,\n    },\n    hideThumbnail: {\n      type: Boolean,\n      default: false,\n    },\n    teamId: {\n      type: [String, Number],\n      default: 0,\n    },\n    foldersId: {\n      type: [String, Number],\n      default: 0,\n    },\n    showAssignee: {\n      type: Boolean,\n      default: false,\n    },\n    conversationType: {\n      type: String,\n      default: '',\n    },\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n    enableContextMenu: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      hovered: false,\n      showContextMenu: false,\n      contextMenu: {\n        x: null,\n        y: null,\n      },\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currentChat: 'getSelectedChat',\n      inboxesList: 'inboxes/getInboxes',\n      activeInbox: 'getSelectedInbox',\n      currentUser: 'getCurrentUser',\n      accountId: 'getCurrentAccountId',\n    }),\n    bulkActionCheck() {\n      return !this.hideThumbnail && !this.hovered && !this.selected;\n    },\n    chatMetadata() {\n      return this.chat.meta || {};\n    },\n\n    assignee() {\n      return this.chatMetadata.assignee || {};\n    },\n\n    currentContact() {\n      return this.$store.getters['contacts/getContact'](\n        this.chatMetadata.sender.id\n      );\n    },\n\n    isActiveChat() {\n      return this.currentChat.id === this.chat.id;\n    },\n\n    unreadCount() {\n      return this.chat.unread_count;\n    },\n\n    hasUnread() {\n      return this.unreadCount > 0;\n    },\n\n    isInboxNameVisible() {\n      return !this.activeInbox;\n    },\n\n    lastMessageInChat() {\n      return this.lastMessage(this.chat);\n    },\n\n    inbox() {\n      const { inbox_id: inboxId } = this.chat;\n      const stateInbox = this.$store.getters['inboxes/getInbox'](inboxId);\n      return stateInbox;\n    },\n\n    showInboxName() {\n      return (\n        !this.hideInboxName &&\n        this.isInboxNameVisible &&\n        this.inboxesList.length > 1\n      );\n    },\n    inboxName() {\n      const stateInbox = this.inbox;\n      return stateInbox.name || '';\n    },\n    hasSlaPolicyId() {\n      return this.chat?.sla_policy_id;\n    },\n  },\n  methods: {\n    onCardClick(e) {\n      const { activeInbox, chat } = this;\n      const path = frontendURL(\n        conversationUrl({\n          accountId: this.accountId,\n          activeInbox,\n          id: chat.id,\n          label: this.activeLabel,\n          teamId: this.teamId,\n          foldersId: this.foldersId,\n          conversationType: this.conversationType,\n        })\n      );\n\n      if (e.metaKey || e.ctrlKey) {\n        window.open(\n          window.chatwootConfig.hostURL + path,\n          '_blank',\n          'noopener noreferrer nofollow'\n        );\n        return;\n      }\n      if (this.isActiveChat) {\n        return;\n      }\n\n      router.push({ path });\n    },\n    onCardHover() {\n      this.hovered = !this.hideThumbnail;\n    },\n    onCardLeave() {\n      this.hovered = false;\n    },\n    onSelectConversation(checked) {\n      const action = checked ? 'select-conversation' : 'de-select-conversation';\n      this.$emit(action, this.chat.id, this.inbox.id);\n    },\n    openContextMenu(e) {\n      if (!this.enableContextMenu) return;\n      e.preventDefault();\n      this.$emit('context-menu-toggle', true);\n      this.contextMenu.x = e.pageX || e.clientX;\n      this.contextMenu.y = e.pageY || e.clientY;\n      this.showContextMenu = true;\n    },\n    closeContextMenu() {\n      this.$emit('context-menu-toggle', false);\n      this.showContextMenu = false;\n      this.contextMenu.x = null;\n      this.contextMenu.y = null;\n    },\n    onUpdateConversation(status, snoozedUntil) {\n      this.closeContextMenu();\n      this.$emit(\n        'update-conversation-status',\n        this.chat.id,\n        status,\n        snoozedUntil\n      );\n    },\n    async onAssignAgent(agent) {\n      this.$emit('assign-agent', agent, [this.chat.id]);\n      this.closeContextMenu();\n    },\n    async onAssignLabel(label) {\n      this.$emit('assign-label', [label.title], [this.chat.id]);\n      this.closeContextMenu();\n    },\n    async onAssignTeam(team) {\n      this.$emit('assign-team', team, this.chat.id);\n      this.closeContextMenu();\n    },\n    async markAsUnread() {\n      this.$emit('mark-as-unread', this.chat.id);\n      this.closeContextMenu();\n    },\n    async assignPriority(priority) {\n      this.$emit('assign-priority', priority, this.chat.id);\n      this.closeContextMenu();\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.conversation {\n  &.unread-chat {\n    .unread {\n      @apply block;\n    }\n    .conversation--message {\n      @apply font-semibold;\n    }\n    .conversation--user {\n      @apply font-semibold;\n    }\n  }\n\n  &.compact {\n    @apply pl-0;\n    .conversation--details {\n      @apply rounded-sm ml-0 pl-5 pr-2;\n    }\n  }\n\n  &::v-deep .user-thumbnail-box {\n    @apply mt-4;\n  }\n\n  &.conversation-selected {\n    @apply bg-slate-25 dark:bg-slate-800;\n  }\n\n  &.has-inbox-name {\n    &::v-deep .user-thumbnail-box {\n      @apply mt-8;\n    }\n    .checkbox-wrapper {\n      @apply mt-8;\n    }\n    .conversation--meta {\n      @apply mt-4;\n    }\n  }\n\n  .checkbox-wrapper {\n    @apply h-10 w-10 flex items-center justify-center rounded-full cursor-pointer mt-4 hover:bg-woot-100 dark:hover:bg-woot-800;\n\n    input[type='checkbox'] {\n      @apply m-0 cursor-pointer;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConversationCard.vue?vue&type=template&id=a2a6e450&scoped=true&\"\nimport script from \"./ConversationCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ConversationCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConversationCard.vue?vue&type=style&index=0&id=a2a6e450&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2a6e450\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{staticClass:\"w-full px-8 pt-6 pb-8 contact--form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',[_c('div',{staticClass:\"w-full\"},[_c('woot-avatar-uploader',{staticClass:\"settings-item\",attrs:{\"label\":_vm.$t('CONTACT_FORM.FORM.AVATAR.LABEL'),\"src\":_vm.avatarUrl,\"username-avatar\":_vm.name,\"delete-avatar\":!!_vm.avatarUrl},on:{\"change\":_vm.handleImageUpload,\"onAvatarDelete\":_vm.handleAvatarDelete}})],1)]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.v$.name.$error }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.NAME.LABEL'))+\"\\n        \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.name),expression:\"name\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONTACT_FORM.FORM.NAME.PLACEHOLDER')},domProps:{\"value\":(_vm.name)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.name=$event.target.value.trim()},_vm.v$.name.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('label',{class:{ error: _vm.v$.email.$error }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.EMAIL_ADDRESS.LABEL'))+\"\\n        \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.email),expression:\"email\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONTACT_FORM.FORM.EMAIL_ADDRESS.PLACEHOLDER')},domProps:{\"value\":(_vm.email)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.email=$event.target.value.trim()},_vm.v$.email.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),(_vm.v$.email.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.EMAIL_ADDRESS.ERROR'))+\"\\n        \")]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.v$.description.$error }},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.BIO.LABEL'))+\"\\n      \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.description),expression:\"description\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONTACT_FORM.FORM.BIO.PLACEHOLDER')},domProps:{\"value\":(_vm.description)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.description=$event.target.value.trim()},_vm.v$.description.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{\n          error: _vm.isPhoneNumberNotValid,\n        }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.PHONE_NUMBER.LABEL'))+\"\\n        \"),_c('woot-phone-input',{attrs:{\"value\":_vm.phoneNumber,\"error\":_vm.isPhoneNumberNotValid,\"placeholder\":_vm.$t('CONTACT_FORM.FORM.PHONE_NUMBER.PLACEHOLDER')},on:{\"input\":_vm.onPhoneNumberInputChange,\"blur\":_vm.v$.phoneNumber.$touch,\"setCode\":_vm.setPhoneCode},model:{value:(_vm.phoneNumber),callback:function ($$v) {_vm.phoneNumber=$$v},expression:\"phoneNumber\"}}),_vm._v(\" \"),(_vm.isPhoneNumberNotValid)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.phoneNumberError)+\"\\n        \")]):_vm._e()],1),_vm._v(\" \"),(_vm.isPhoneNumberNotValid || !_vm.phoneNumber)?_c('div',{staticClass:\"relative mx-0 mt-0 mb-2.5 p-2 rounded-md text-sm border border-solid border-yellow-500 text-yellow-700 dark:border-yellow-700 bg-yellow-200/60 dark:bg-yellow-200/20 dark:text-yellow-400\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.PHONE_NUMBER.HELP'))+\"\\n      \")]):_vm._e()])]),_vm._v(\" \"),_c('woot-input',{staticClass:\"w-full\",attrs:{\"label\":_vm.$t('CONTACT_FORM.FORM.COMPANY_NAME.LABEL'),\"placeholder\":_vm.$t('CONTACT_FORM.FORM.COMPANY_NAME.PLACEHOLDER')},model:{value:(_vm.companyName),callback:function ($$v) {_vm.companyName=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"companyName\"}}),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"w-full\"},[_c('label',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.COUNTRY.LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":_vm.$t('CONTACT_FORM.FORM.COUNTRY.PLACEHOLDER'),\"selected-label\":\"\",\"select-label\":_vm.$t('CONTACT_FORM.FORM.COUNTRY.SELECT_PLACEHOLDER'),\"deselect-label\":_vm.$t('CONTACT_FORM.FORM.COUNTRY.REMOVE'),\"custom-label\":_vm.countryNameWithCode,\"max-height\":160,\"options\":_vm.countries,\"allow-empty\":true,\"option-height\":104},model:{value:(_vm.country),callback:function ($$v) {_vm.country=$$v},expression:\"country\"}})],1)]),_vm._v(\" \"),_c('woot-input',{staticClass:\"w-full\",attrs:{\"label\":_vm.$t('CONTACT_FORM.FORM.CITY.LABEL'),\"placeholder\":_vm.$t('CONTACT_FORM.FORM.CITY.PLACEHOLDER')},model:{value:(_vm.city),callback:function ($$v) {_vm.city=$$v},expression:\"city\"}}),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',[_vm._v(_vm._s(_vm.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.SOCIAL_PROFILES')))]),_vm._v(\" \"),_vm._l((_vm.socialProfileKeys),function(socialProfile){return _c('div',{key:socialProfile.key,staticClass:\"flex items-stretch w-full mb-4\"},[_c('span',{staticClass:\"flex items-center h-10 px-2 text-sm border-solid bg-slate-50 border-y ltr:border-l rtl:border-r ltr:rounded-l-md rtl:rounded-r-md dark:bg-slate-700 text-slate-800 dark:text-slate-100 border-slate-200 dark:border-slate-600\"},[_vm._v(\"\\n        \"+_vm._s(socialProfile.prefixURL)+\"\\n      \")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.socialProfileUserNames[socialProfile.key]),expression:\"socialProfileUserNames[socialProfile.key]\"}],staticClass:\"input-group-field ltr:!rounded-l-none rtl:rounded-r-none !mb-0\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.socialProfileUserNames[socialProfile.key])},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.socialProfileUserNames, socialProfile.key, $event.target.value)}}})])})],2),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('div',{staticClass:\"w-full\"},[_c('woot-submit-button',{attrs:{\"loading\":_vm.inProgress,\"button-text\":_vm.$t('CONTACT_FORM.FORM.SUBMIT')}}),_vm._v(\" \"),_c('button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onCancel.apply(null, arguments)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.CANCEL'))+\"\\n      \")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form\n    class=\"w-full px-8 pt-6 pb-8 contact--form\"\n    @submit.prevent=\"handleSubmit\"\n  >\n    <div>\n      <div class=\"w-full\">\n        <woot-avatar-uploader\n          :label=\"$t('CONTACT_FORM.FORM.AVATAR.LABEL')\"\n          :src=\"avatarUrl\"\n          :username-avatar=\"name\"\n          :delete-avatar=\"!!avatarUrl\"\n          class=\"settings-item\"\n          @change=\"handleImageUpload\"\n          @onAvatarDelete=\"handleAvatarDelete\"\n        />\n      </div>\n    </div>\n    <div>\n      <div class=\"w-full\">\n        <label :class=\"{ error: v$.name.$error }\">\n          {{ $t('CONTACT_FORM.FORM.NAME.LABEL') }}\n          <input\n            v-model.trim=\"name\"\n            type=\"text\"\n            :placeholder=\"$t('CONTACT_FORM.FORM.NAME.PLACEHOLDER')\"\n            @input=\"v$.name.$touch\"\n          />\n        </label>\n\n        <label :class=\"{ error: v$.email.$error }\">\n          {{ $t('CONTACT_FORM.FORM.EMAIL_ADDRESS.LABEL') }}\n          <input\n            v-model.trim=\"email\"\n            type=\"text\"\n            :placeholder=\"$t('CONTACT_FORM.FORM.EMAIL_ADDRESS.PLACEHOLDER')\"\n            @input=\"v$.email.$touch\"\n          />\n          <span v-if=\"v$.email.$error\" class=\"message\">\n            {{ $t('CONTACT_FORM.FORM.EMAIL_ADDRESS.ERROR') }}\n          </span>\n        </label>\n      </div>\n    </div>\n    <div class=\"w-full\">\n      <label :class=\"{ error: v$.description.$error }\">\n        {{ $t('CONTACT_FORM.FORM.BIO.LABEL') }}\n        <textarea\n          v-model.trim=\"description\"\n          type=\"text\"\n          :placeholder=\"$t('CONTACT_FORM.FORM.BIO.PLACEHOLDER')\"\n          @input=\"v$.description.$touch\"\n        />\n      </label>\n    </div>\n    <div>\n      <div class=\"w-full\">\n        <label\n          :class=\"{\n            error: isPhoneNumberNotValid,\n          }\"\n        >\n          {{ $t('CONTACT_FORM.FORM.PHONE_NUMBER.LABEL') }}\n          <woot-phone-input\n            v-model=\"phoneNumber\"\n            :value=\"phoneNumber\"\n            :error=\"isPhoneNumberNotValid\"\n            :placeholder=\"$t('CONTACT_FORM.FORM.PHONE_NUMBER.PLACEHOLDER')\"\n            @input=\"onPhoneNumberInputChange\"\n            @blur=\"v$.phoneNumber.$touch\"\n            @setCode=\"setPhoneCode\"\n          />\n          <span v-if=\"isPhoneNumberNotValid\" class=\"message\">\n            {{ phoneNumberError }}\n          </span>\n        </label>\n        <div\n          v-if=\"isPhoneNumberNotValid || !phoneNumber\"\n          class=\"relative mx-0 mt-0 mb-2.5 p-2 rounded-md text-sm border border-solid border-yellow-500 text-yellow-700 dark:border-yellow-700 bg-yellow-200/60 dark:bg-yellow-200/20 dark:text-yellow-400\"\n        >\n          {{ $t('CONTACT_FORM.FORM.PHONE_NUMBER.HELP') }}\n        </div>\n      </div>\n    </div>\n    <woot-input\n      v-model.trim=\"companyName\"\n      class=\"w-full\"\n      :label=\"$t('CONTACT_FORM.FORM.COMPANY_NAME.LABEL')\"\n      :placeholder=\"$t('CONTACT_FORM.FORM.COMPANY_NAME.PLACEHOLDER')\"\n    />\n    <div>\n      <div class=\"w-full\">\n        <label>\n          {{ $t('CONTACT_FORM.FORM.COUNTRY.LABEL') }}\n        </label>\n        <multiselect\n          v-model=\"country\"\n          track-by=\"id\"\n          label=\"name\"\n          :placeholder=\"$t('CONTACT_FORM.FORM.COUNTRY.PLACEHOLDER')\"\n          selected-label\n          :select-label=\"$t('CONTACT_FORM.FORM.COUNTRY.SELECT_PLACEHOLDER')\"\n          :deselect-label=\"$t('CONTACT_FORM.FORM.COUNTRY.REMOVE')\"\n          :custom-label=\"countryNameWithCode\"\n          :max-height=\"160\"\n          :options=\"countries\"\n          :allow-empty=\"true\"\n          :option-height=\"104\"\n        />\n      </div>\n    </div>\n    <woot-input\n      v-model=\"city\"\n      class=\"w-full\"\n      :label=\"$t('CONTACT_FORM.FORM.CITY.LABEL')\"\n      :placeholder=\"$t('CONTACT_FORM.FORM.CITY.PLACEHOLDER')\"\n    />\n\n    <div class=\"w-full\">\n      <label>{{ $t('CONTACTS_PAGE.LIST.TABLE_HEADER.SOCIAL_PROFILES') }}</label>\n      <div\n        v-for=\"socialProfile in socialProfileKeys\"\n        :key=\"socialProfile.key\"\n        class=\"flex items-stretch w-full mb-4\"\n      >\n        <span\n          class=\"flex items-center h-10 px-2 text-sm border-solid bg-slate-50 border-y ltr:border-l rtl:border-r ltr:rounded-l-md rtl:rounded-r-md dark:bg-slate-700 text-slate-800 dark:text-slate-100 border-slate-200 dark:border-slate-600\"\n        >\n          {{ socialProfile.prefixURL }}\n        </span>\n        <input\n          v-model=\"socialProfileUserNames[socialProfile.key]\"\n          class=\"input-group-field ltr:!rounded-l-none rtl:rounded-r-none !mb-0\"\n          type=\"text\"\n        />\n      </div>\n    </div>\n    <div class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\">\n      <div class=\"w-full\">\n        <woot-submit-button\n          :loading=\"inProgress\"\n          :button-text=\"$t('CONTACT_FORM.FORM.SUBMIT')\"\n        />\n        <button class=\"button clear\" @click.prevent=\"onCancel\">\n          {{ $t('CONTACT_FORM.FORM.CANCEL') }}\n        </button>\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { useAlert } from 'dashboard/composables';\nimport {\n  DuplicateContactException,\n  ExceptionWithMessage,\n} from 'shared/helpers/CustomErrors';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, email } from '@vuelidate/validators';\nimport countries from 'shared/constants/countries.js';\nimport { isPhoneNumberValid } from 'shared/helpers/Validators';\nimport parsePhoneNumber from 'libphonenumber-js';\n\nexport default {\n  props: {\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n    inProgress: {\n      type: Boolean,\n      default: false,\n    },\n    onSubmit: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      countries: countries,\n      companyName: '',\n      description: '',\n      email: '',\n      name: '',\n      phoneNumber: '',\n      activeDialCode: '',\n      avatarFile: null,\n      avatarUrl: '',\n      country: {\n        id: '',\n        name: '',\n      },\n      city: '',\n      socialProfileUserNames: {\n        facebook: '',\n        twitter: '',\n        linkedin: '',\n        github: '',\n      },\n      socialProfileKeys: [\n        { key: 'facebook', prefixURL: 'https://facebook.com/' },\n        { key: 'twitter', prefixURL: 'https://twitter.com/' },\n        { key: 'linkedin', prefixURL: 'https://linkedin.com/' },\n        { key: 'github', prefixURL: 'https://github.com/' },\n      ],\n    };\n  },\n  validations: {\n    name: {\n      required,\n    },\n    description: {},\n    email: {\n      email,\n    },\n    companyName: {},\n    phoneNumber: {},\n    bio: {},\n  },\n  computed: {\n    parsePhoneNumber() {\n      return parsePhoneNumber(this.phoneNumber);\n    },\n    isPhoneNumberNotValid() {\n      if (this.phoneNumber !== '') {\n        return (\n          !isPhoneNumberValid(this.phoneNumber, this.activeDialCode) ||\n          (this.phoneNumber !== '' ? this.activeDialCode === '' : false)\n        );\n      }\n      return false;\n    },\n    phoneNumberError() {\n      if (this.activeDialCode === '') {\n        return this.$t('CONTACT_FORM.FORM.PHONE_NUMBER.DIAL_CODE_ERROR');\n      }\n      if (!isPhoneNumberValid(this.phoneNumber, this.activeDialCode)) {\n        return this.$t('CONTACT_FORM.FORM.PHONE_NUMBER.ERROR');\n      }\n      return '';\n    },\n    setPhoneNumber() {\n      if (this.parsePhoneNumber && this.parsePhoneNumber.countryCallingCode) {\n        return this.phoneNumber;\n      }\n      if (this.phoneNumber === '' && this.activeDialCode !== '') {\n        return '';\n      }\n      return this.activeDialCode\n        ? `${this.activeDialCode}${this.phoneNumber}`\n        : '';\n    },\n  },\n  watch: {\n    contact() {\n      this.setContactObject();\n    },\n  },\n  mounted() {\n    this.setContactObject();\n    this.setDialCode();\n  },\n  methods: {\n    onCancel() {\n      this.$emit('cancel');\n    },\n    onSuccess() {\n      this.$emit('success');\n    },\n    countryNameWithCode({ name, id }) {\n      if (!id) return name;\n      if (!name && !id) return '';\n      return `${name} (${id})`;\n    },\n    setDialCode() {\n      if (\n        this.phoneNumber !== '' &&\n        this.parsePhoneNumber &&\n        this.parsePhoneNumber.countryCallingCode\n      ) {\n        const dialCode = this.parsePhoneNumber.countryCallingCode;\n        this.activeDialCode = `+${dialCode}`;\n      }\n    },\n    setContactObject() {\n      const {\n        email: emailAddress,\n        phone_number: phoneNumber,\n        name,\n      } = this.contact;\n      const additionalAttributes = this.contact.additional_attributes || {};\n\n      this.name = name || '';\n      this.email = emailAddress || '';\n      this.phoneNumber = phoneNumber || '';\n      this.companyName = additionalAttributes.company_name || '';\n      this.country = {\n        id: additionalAttributes.country_code || '',\n        name:\n          additionalAttributes.country ||\n          this.$t('CONTACT_FORM.FORM.COUNTRY.SELECT_COUNTRY'),\n      };\n      this.city = additionalAttributes.city || '';\n      this.description = additionalAttributes.description || '';\n      this.avatarUrl = this.contact.thumbnail || '';\n      const {\n        social_profiles: socialProfiles = {},\n        screen_name: twitterScreenName,\n      } = additionalAttributes;\n      this.socialProfileUserNames = {\n        twitter: socialProfiles.twitter || twitterScreenName || '',\n        facebook: socialProfiles.facebook || '',\n        linkedin: socialProfiles.linkedin || '',\n        github: socialProfiles.github || '',\n        instagram: socialProfiles.instagram || '',\n      };\n    },\n    getContactObject() {\n      if (this.country === null) {\n        this.country = {\n          id: '',\n          name: '',\n        };\n      }\n      const contactObject = {\n        id: this.contact.id,\n        name: this.name,\n        email: this.email,\n        phone_number: this.setPhoneNumber,\n        additional_attributes: {\n          ...this.contact.additional_attributes,\n          description: this.description,\n          company_name: this.companyName,\n          country_code: this.country.id,\n          country:\n            this.country.name ===\n            this.$t('CONTACT_FORM.FORM.COUNTRY.SELECT_COUNTRY')\n              ? ''\n              : this.country.name,\n          city: this.city,\n          social_profiles: this.socialProfileUserNames,\n        },\n      };\n      if (this.avatarFile) {\n        contactObject.avatar = this.avatarFile;\n        contactObject.isFormData = true;\n      }\n      return contactObject;\n    },\n    onPhoneNumberInputChange(value, code) {\n      this.activeDialCode = code;\n    },\n    setPhoneCode(code) {\n      if (this.phoneNumber !== '' && this.parsePhoneNumber) {\n        const dialCode = this.parsePhoneNumber.countryCallingCode;\n        if (dialCode === code) {\n          return;\n        }\n        this.activeDialCode = `+${dialCode}`;\n        const newPhoneNumber = this.phoneNumber.replace(\n          `+${dialCode}`,\n          `${code}`\n        );\n        this.phoneNumber = newPhoneNumber;\n      } else {\n        this.activeDialCode = code;\n      }\n    },\n    async handleSubmit() {\n      this.v$.$touch();\n      if (this.v$.$invalid || this.isPhoneNumberNotValid) {\n        return;\n      }\n      try {\n        await this.onSubmit(this.getContactObject());\n        this.onSuccess();\n        useAlert(this.$t('CONTACT_FORM.SUCCESS_MESSAGE'));\n      } catch (error) {\n        if (error instanceof DuplicateContactException) {\n          if (error.data.includes('email')) {\n            useAlert(this.$t('CONTACT_FORM.FORM.EMAIL_ADDRESS.DUPLICATE'));\n          } else if (error.data.includes('phone_number')) {\n            useAlert(this.$t('CONTACT_FORM.FORM.PHONE_NUMBER.DUPLICATE'));\n          }\n        } else if (error instanceof ExceptionWithMessage) {\n          useAlert(error.data);\n        } else {\n          useAlert(this.$t('CONTACT_FORM.ERROR_MESSAGE'));\n        }\n      }\n    },\n    handleImageUpload({ file, url }) {\n      this.avatarFile = file;\n      this.avatarUrl = url;\n    },\n    async handleAvatarDelete() {\n      try {\n        if (this.contact && this.contact.id) {\n          await this.$store.dispatch('contacts/deleteAvatar', this.contact.id);\n          useAlert(this.$t('CONTACT_FORM.DELETE_AVATAR.API.SUCCESS_MESSAGE'));\n        }\n        this.avatarFile = null;\n        this.avatarUrl = '';\n        this.activeDialCode = '';\n      } catch (error) {\n        useAlert(\n          error.message\n            ? error.message\n            : this.$t('CONTACT_FORM.DELETE_AVATAR.API.ERROR_MESSAGE')\n        );\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n::v-deep {\n  .multiselect .multiselect__tags .multiselect__single {\n    @apply pl-0;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactForm.vue?vue&type=template&id=cbc98b9e&scoped=true&\"\nimport script from \"./ContactForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactForm.vue?vue&type=style&index=0&id=cbc98b9e&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cbc98b9e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItem.vue?vue&type=style&index=0&id=4c4db27c&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItemWithSubmenu.vue?vue&type=style&index=0&id=70254f76&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agentLoadingPlaceholder.vue?vue&type=style&index=0&id=7265fabf&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationCard.vue?vue&type=style&index=0&id=a2a6e450&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactConversations.vue?vue&type=style&index=0&id=bf2c0356&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdownItem.vue?vue&type=style&index=0&id=e83c4bc0&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdown.vue?vue&type=style&index=0&id=65d69bf0&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=style&index=0&id=37ec2225&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactForm.vue?vue&type=style&index=0&id=cbc98b9e&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyEmailHead.vue?vue&type=style&index=0&id=5303249a&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxDropdownItem.vue?vue&type=style&index=0&id=15209d00&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatesPicker.vue?vue&type=style&index=0&id=6dc9b638&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateParser.vue?vue&type=style&index=0&id=b6aee818&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationForm.vue?vue&type=style&index=0&id=5daed392&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactDropdownItem.vue?vue&type=style&index=0&id=5521a686&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MergeContact.vue?vue&type=style&index=0&id=1dbccb10&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttribute.vue?vue&type=style&index=0&id=42c60c81&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttributes.vue?vue&type=style&index=0&id=3cacf6dd&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"relative items-center w-full p-4 bg-white dark:bg-slate-900\"},[_c('div',{staticClass:\"flex flex-col w-full gap-2 text-left rtl:text-right\"},[_c('div',{staticClass:\"flex flex-row justify-between\"},[(_vm.showAvatar)?_c('thumbnail',{attrs:{\"src\":_vm.contact.thumbnail,\"size\":\"56px\",\"username\":_vm.contact.name,\"status\":_vm.contact.availability_status}}):_vm._e(),_vm._v(\" \"),(_vm.showCloseButton)?_c('woot-button',{staticClass:\"clear secondary rtl:rotate-180\",attrs:{\"icon\":_vm.closeIconName},on:{\"click\":_vm.onPanelToggle}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col items-start gap-1.5 min-w-0 w-full\"},[(_vm.showAvatar)?_c('div',{staticClass:\"flex items-start w-full min-w-0 gap-2\"},[_c('h3',{staticClass:\"flex-shrink max-w-full min-w-0 my-0 text-base capitalize break-words text-slate-800 dark:text-slate-100\"},[_vm._v(\"\\n          \"+_vm._s(_vm.contact.name)+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row items-center gap-1\"},[(_vm.contact.created_at)?_c('fluent-icon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(\n              `${_vm.$t('CONTACT_PANEL.CREATED_AT_LABEL')} ${_vm.dynamicTime(\n                _vm.contact.created_at\n              )}`\n            ),expression:\"\\n              `${$t('CONTACT_PANEL.CREATED_AT_LABEL')} ${dynamicTime(\\n                contact.created_at\\n              )}`\\n            \",modifiers:{\"left\":true}}],staticClass:\"mt-0.5\",attrs:{\"icon\":\"info\",\"size\":\"14\"}}):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"text-base\",attrs:{\"href\":_vm.contactProfileLink,\"target\":\"_blank\",\"rel\":\"noopener nofollow noreferrer\"}},[_c('woot-button',{attrs:{\"size\":\"tiny\",\"icon\":\"open\",\"variant\":\"clear\",\"color-scheme\":\"secondary\"}})],1)],1)]):_vm._e(),_vm._v(\" \"),(_vm.additionalAttributes.description)?_c('p',{staticClass:\"break-words mb-0.5\"},[_vm._v(\"\\n        \"+_vm._s(_vm.additionalAttributes.description)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col items-start w-full gap-2\"},[_c('contact-info-row',{attrs:{\"href\":_vm.contact.email ? `mailto:${_vm.contact.email}` : '',\"value\":_vm.contact.email,\"icon\":\"mail\",\"emoji\":\"✉️\",\"title\":_vm.$t('CONTACT_PANEL.EMAIL_ADDRESS'),\"show-copy\":\"\"}}),_vm._v(\" \"),_c('contact-info-row',{attrs:{\"href\":_vm.contact.phone_number ? `tel:${_vm.contact.phone_number}` : '',\"value\":_vm.contact.phone_number,\"icon\":\"call\",\"emoji\":\"📞\",\"title\":_vm.$t('CONTACT_PANEL.PHONE_NUMBER'),\"show-copy\":\"\"}}),_vm._v(\" \"),(_vm.contact.identifier)?_c('contact-info-row',{attrs:{\"value\":_vm.contact.identifier,\"icon\":\"contact-identify\",\"emoji\":\"🪪\",\"title\":_vm.$t('CONTACT_PANEL.IDENTIFIER')}}):_vm._e(),_vm._v(\" \"),_c('contact-info-row',{attrs:{\"value\":_vm.additionalAttributes.company_name,\"icon\":\"building-bank\",\"emoji\":\"🏢\",\"title\":_vm.$t('CONTACT_PANEL.COMPANY')}}),_vm._v(\" \"),(_vm.location || _vm.additionalAttributes.location)?_c('contact-info-row',{attrs:{\"value\":_vm.location || _vm.additionalAttributes.location,\"icon\":\"map\",\"emoji\":\"🌍\",\"title\":_vm.$t('CONTACT_PANEL.LOCATION')}}):_vm._e(),_vm._v(\" \"),_c('social-icons',{attrs:{\"social-profiles\":_vm.socialProfiles}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center w-full mt-0.5 gap-2\"},[_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('CONTACT_PANEL.NEW_MESSAGE')),expression:\"$t('CONTACT_PANEL.NEW_MESSAGE')\"}],attrs:{\"title\":\"$t('CONTACT_PANEL.NEW_MESSAGE')\",\"icon\":\"chat\",\"size\":\"small\"},on:{\"click\":_vm.toggleConversationModal}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('EDIT_CONTACT.BUTTON_LABEL')),expression:\"$t('EDIT_CONTACT.BUTTON_LABEL')\"}],attrs:{\"title\":\"$t('EDIT_CONTACT.BUTTON_LABEL')\",\"icon\":\"edit\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.toggleEditModal}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('CONTACT_PANEL.MERGE_CONTACT')),expression:\"$t('CONTACT_PANEL.MERGE_CONTACT')\"}],attrs:{\"title\":\"$t('CONTACT_PANEL.MERGE_CONTACT')\",\"icon\":\"merge\",\"variant\":\"smooth\",\"size\":\"small\",\"color-scheme\":\"secondary\",\"disabled\":_vm.uiFlags.isMerging},on:{\"click\":_vm.openMergeModal}}),_vm._v(\" \"),(_vm.isAdmin)?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('DELETE_CONTACT.BUTTON_LABEL')),expression:\"$t('DELETE_CONTACT.BUTTON_LABEL')\"}],attrs:{\"title\":\"$t('DELETE_CONTACT.BUTTON_LABEL')\",\"icon\":\"delete\",\"variant\":\"smooth\",\"size\":\"small\",\"color-scheme\":\"alert\",\"disabled\":_vm.uiFlags.isDeleting},on:{\"click\":_vm.toggleDeleteModal}}):_vm._e()],1),_vm._v(\" \"),(_vm.showEditModal)?_c('edit-contact',{attrs:{\"show\":_vm.showEditModal,\"contact\":_vm.contact},on:{\"cancel\":_vm.toggleEditModal}}):_vm._e(),_vm._v(\" \"),(_vm.contact.id)?_c('new-conversation',{attrs:{\"show\":_vm.showConversationModal,\"contact\":_vm.contact},on:{\"cancel\":_vm.toggleConversationModal}}):_vm._e(),_vm._v(\" \"),(_vm.showMergeModal)?_c('contact-merge-modal',{attrs:{\"primary-contact\":_vm.contact,\"show\":_vm.showMergeModal},on:{\"close\":_vm.toggleMergeModal}}):_vm._e()],1),_vm._v(\" \"),(_vm.showDeleteModal)?_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeleteModal,\"on-close\":_vm.closeDelete,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.$t('DELETE_CONTACT.CONFIRM.TITLE'),\"message\":_vm.$t('DELETE_CONTACT.CONFIRM.MESSAGE'),\"message-value\":_vm.confirmDeleteMessage,\"confirm-text\":_vm.$t('DELETE_CONTACT.CONFIRM.YES'),\"reject-text\":_vm.$t('DELETE_CONTACT.CONFIRM.NO')},on:{\"update:show\":function($event){_vm.showDeleteModal=$event}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"w-full h-5 ltr:-ml-1 rtl:-mr-1\">\n    <a\n      v-if=\"href\"\n      :href=\"href\"\n      class=\"flex items-center gap-2 text-slate-800 dark:text-slate-100 hover:underline\"\n    >\n      <emoji-or-icon\n        :icon=\"icon\"\n        :emoji=\"emoji\"\n        icon-size=\"14\"\n        class=\"flex-shrink-0 ltr:ml-1 rtl:mr-1\"\n      />\n      <span\n        v-if=\"value\"\n        class=\"overflow-hidden text-sm whitespace-nowrap text-ellipsis\"\n        :title=\"value\"\n      >\n        {{ value }}\n      </span>\n      <span v-else class=\"text-sm text-slate-300 dark:text-slate-600\">{{\n        $t('CONTACT_PANEL.NOT_AVAILABLE')\n      }}</span>\n\n      <woot-button\n        v-if=\"showCopy\"\n        type=\"submit\"\n        variant=\"clear\"\n        size=\"tiny\"\n        color-scheme=\"secondary\"\n        icon=\"clipboard\"\n        class-names=\"p-0\"\n        @click=\"onCopy\"\n      />\n    </a>\n\n    <div\n      v-else\n      class=\"flex items-center gap-2 text-slate-800 dark:text-slate-100\"\n    >\n      <emoji-or-icon\n        :icon=\"icon\"\n        :emoji=\"emoji\"\n        icon-size=\"14\"\n        class=\"flex-shrink-0 ltr:ml-1 rtl:mr-1\"\n      />\n      <span\n        v-if=\"value\"\n        class=\"overflow-hidden text-sm whitespace-nowrap text-ellipsis\"\n      >\n        {{ value }}\n      </span>\n      <span v-else class=\"text-sm text-slate-300 dark:text-slate-600\">{{\n        $t('CONTACT_PANEL.NOT_AVAILABLE')\n      }}</span>\n    </div>\n  </div>\n</template>\n<script>\nimport { useAlert } from 'dashboard/composables';\nimport EmojiOrIcon from 'shared/components/EmojiOrIcon.vue';\nimport { copyTextToClipboard } from 'shared/helpers/clipboard';\n\nexport default {\n  components: {\n    EmojiOrIcon,\n  },\n  props: {\n    href: {\n      type: String,\n      default: '',\n    },\n    icon: {\n      type: String,\n      required: true,\n    },\n    emoji: {\n      type: String,\n      required: true,\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n    showCopy: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    async onCopy(e) {\n      e.preventDefault();\n      await copyTextToClipboard(this.value);\n      useAlert(this.$t('CONTACT_PANEL.COPY_SUCCESSFUL'));\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfoRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfoRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactInfoRow.vue?vue&type=template&id=3e49fa7a&\"\nimport script from \"./ContactInfoRow.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactInfoRow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full h-5 ltr:-ml-1 rtl:-mr-1\"},[(_vm.href)?_c('a',{staticClass:\"flex items-center gap-2 text-slate-800 dark:text-slate-100 hover:underline\",attrs:{\"href\":_vm.href}},[_c('emoji-or-icon',{staticClass:\"flex-shrink-0 ltr:ml-1 rtl:mr-1\",attrs:{\"icon\":_vm.icon,\"emoji\":_vm.emoji,\"icon-size\":\"14\"}}),_vm._v(\" \"),(_vm.value)?_c('span',{staticClass:\"overflow-hidden text-sm whitespace-nowrap text-ellipsis\",attrs:{\"title\":_vm.value}},[_vm._v(\"\\n      \"+_vm._s(_vm.value)+\"\\n    \")]):_c('span',{staticClass:\"text-sm text-slate-300 dark:text-slate-600\"},[_vm._v(_vm._s(_vm.$t('CONTACT_PANEL.NOT_AVAILABLE')))]),_vm._v(\" \"),(_vm.showCopy)?_c('woot-button',{attrs:{\"type\":\"submit\",\"variant\":\"clear\",\"size\":\"tiny\",\"color-scheme\":\"secondary\",\"icon\":\"clipboard\",\"class-names\":\"p-0\"},on:{\"click\":_vm.onCopy}}):_vm._e()],1):_c('div',{staticClass:\"flex items-center gap-2 text-slate-800 dark:text-slate-100\"},[_c('emoji-or-icon',{staticClass:\"flex-shrink-0 ltr:ml-1 rtl:mr-1\",attrs:{\"icon\":_vm.icon,\"emoji\":_vm.emoji,\"icon-size\":\"14\"}}),_vm._v(\" \"),(_vm.value)?_c('span',{staticClass:\"overflow-hidden text-sm whitespace-nowrap text-ellipsis\"},[_vm._v(\"\\n      \"+_vm._s(_vm.value)+\"\\n    \")]):_c('span',{staticClass:\"text-sm text-slate-300 dark:text-slate-600\"},[_vm._v(_vm._s(_vm.$t('CONTACT_PANEL.NOT_AVAILABLE')))])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialIcons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialIcons.vue?vue&type=script&lang=js&\"","<template>\n  <div v-if=\"availableProfiles.length\" class=\"flex items-end mx-0 my-2 gap-3\">\n    <a\n      v-for=\"profile in availableProfiles\"\n      :key=\"profile.key\"\n      :href=\"`${profile.link}${socialProfiles[profile.key]}`\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer nofollow\"\n    >\n      <fluent-icon\n        :icon=\"`brand-${profile.key}`\"\n        size=\"16\"\n        class=\"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200\"\n      />\n    </a>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    socialProfiles: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  data() {\n    return {\n      socialMediaLinks: [\n        { key: 'facebook', icon: 'facebook', link: 'https://facebook.com/' },\n        { key: 'twitter', icon: 'twitter', link: 'https://twitter.com/' },\n        { key: 'linkedin', icon: 'linkedin', link: 'https://linkedin.com/' },\n        { key: 'github', icon: 'github', link: 'https://github.com/' },\n        { key: 'instagram', icon: 'instagram', link: 'https://instagram.com/' },\n      ],\n    };\n  },\n  computed: {\n    availableProfiles() {\n      return this.socialMediaLinks.filter(\n        mediaLink => !!this.socialProfiles[mediaLink.key]\n      );\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./SocialIcons.vue?vue&type=template&id=4c0ed709&\"\nimport script from \"./SocialIcons.vue?vue&type=script&lang=js&\"\nexport * from \"./SocialIcons.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.availableProfiles.length)?_c('div',{staticClass:\"flex items-end mx-0 my-2 gap-3\"},_vm._l((_vm.availableProfiles),function(profile){return _c('a',{key:profile.key,attrs:{\"href\":`${profile.link}${_vm.socialProfiles[profile.key]}`,\"target\":\"_blank\",\"rel\":\"noopener noreferrer nofollow\"}},[_c('fluent-icon',{staticClass:\"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200\",attrs:{\"icon\":`brand-${profile.key}`,\"size\":\"16\"}})],1)}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onCancel\" modal-type=\"right-aligned\">\n    <div class=\"h-auto overflow-auto flex flex-col\">\n      <woot-modal-header\n        :header-title=\"`${$t('EDIT_CONTACT.TITLE')} - ${\n          contact.name || contact.email\n        }`\"\n        :header-content=\"$t('EDIT_CONTACT.DESC')\"\n      />\n      <contact-form\n        :contact=\"contact\"\n        :in-progress=\"uiFlags.isUpdating\"\n        :on-submit=\"onSubmit\"\n        @success=\"onSuccess\"\n        @cancel=\"onCancel\"\n      />\n    </div>\n  </woot-modal>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport ContactForm from './ContactForm.vue';\n\nexport default {\n  components: {\n    ContactForm,\n  },\n  props: {\n    show: {\n      type: Boolean,\n      default: false,\n    },\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  computed: {\n    ...mapGetters({\n      uiFlags: 'contacts/getUIFlags',\n    }),\n  },\n\n  methods: {\n    onCancel() {\n      this.$emit('cancel');\n    },\n    onSuccess() {\n      this.$emit('cancel');\n    },\n    async onSubmit(contactItem) {\n      await this.$store.dispatch('contacts/update', contactItem);\n      await this.$store.dispatch(\n        'contacts/fetchContactableInbox',\n        this.contact.id\n      );\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditContact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditContact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditContact.vue?vue&type=template&id=f8119d5c&\"\nimport script from \"./EditContact.vue?vue&type=script&lang=js&\"\nexport * from \"./EditContact.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onCancel,\"modal-type\":\"right-aligned\"},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"h-auto overflow-auto flex flex-col\"},[_c('woot-modal-header',{attrs:{\"header-title\":`${_vm.$t('EDIT_CONTACT.TITLE')} - ${\n        _vm.contact.name || _vm.contact.email\n      }`,\"header-content\":_vm.$t('EDIT_CONTACT.DESC')}}),_vm._v(\" \"),_c('contact-form',{attrs:{\"contact\":_vm.contact,\"in-progress\":_vm.uiFlags.isUpdating,\"on-submit\":_vm.onSubmit},on:{\"success\":_vm.onSuccess,\"cancel\":_vm.onCancel}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxDropdownItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxDropdownItem.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"flex items-center h-[2.375rem] min-w-0 py-0 px-1\">\n    <span\n      class=\"inline-flex rounded mr-1 rtl:ml-1 rtl:mr-0 bg-slate-25 dark:bg-slate-700 p-0.5 items-center flex-shrink-0 justify-center w-6 h-6\"\n    >\n      <fluent-icon\n        :icon=\"computedInboxIcon\"\n        size=\"14\"\n        class=\"text-slate-800 dark:text-slate-200\"\n      />\n    </span>\n    <div class=\"flex flex-col w-full min-w-0 ml-1 mr-1\">\n      <h5 class=\"option__title\">\n        {{ name }}\n      </h5>\n      <p\n        class=\"option__body overflow-hidden whitespace-nowrap text-ellipsis\"\n        :title=\"inboxIdentifier\"\n      >\n        {{ inboxIdentifier || computedInboxType }}\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getInboxClassByType,\n  getReadableInboxByType,\n} from 'dashboard/helper/inbox';\n\nexport default {\n  components: {},\n  props: {\n    name: {\n      type: String,\n      default: '',\n    },\n    inboxIdentifier: {\n      type: String,\n      default: '',\n    },\n    channelType: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    computedInboxIcon() {\n      if (!this.channelType) return 'chat';\n      const classByType = getInboxClassByType(\n        this.channelType,\n        this.inboxIdentifier\n      );\n      return classByType;\n    },\n    computedInboxType() {\n      if (!this.channelType) return 'chat';\n      const classByType = getReadableInboxByType(\n        this.channelType,\n        this.inboxIdentifier\n      );\n      return classByType;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.option__body {\n  @apply inline-block text-slate-600 dark:text-slate-200 leading-[1.3] min-w-0 m-0;\n}\n.option__title {\n  @apply leading-[1.1] text-xs m-0 text-slate-800 dark:text-slate-100;\n}\n</style>\n","import { render, staticRenderFns } from \"./InboxDropdownItem.vue?vue&type=template&id=15209d00&scoped=true&\"\nimport script from \"./InboxDropdownItem.vue?vue&type=script&lang=js&\"\nexport * from \"./InboxDropdownItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InboxDropdownItem.vue?vue&type=style&index=0&id=15209d00&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15209d00\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex items-center h-[2.375rem] min-w-0 py-0 px-1\"},[_c('span',{staticClass:\"inline-flex rounded mr-1 rtl:ml-1 rtl:mr-0 bg-slate-25 dark:bg-slate-700 p-0.5 items-center flex-shrink-0 justify-center w-6 h-6\"},[_c('fluent-icon',{staticClass:\"text-slate-800 dark:text-slate-200\",attrs:{\"icon\":_vm.computedInboxIcon,\"size\":\"14\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col w-full min-w-0 ml-1 mr-1\"},[_c('h5',{staticClass:\"option__title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.name)+\"\\n    \")]),_vm._v(\" \"),_c('p',{staticClass:\"option__body overflow-hidden whitespace-nowrap text-ellipsis\",attrs:{\"title\":_vm.inboxIdentifier}},[_vm._v(\"\\n      \"+_vm._s(_vm.inboxIdentifier || _vm.computedInboxType)+\"\\n    \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WhatsappTemplates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WhatsappTemplates.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"mx-0 flex flex-wrap\">\n    <templates-picker\n      v-if=\"!selectedWaTemplate\"\n      :inbox-id=\"inboxId\"\n      @onSelect=\"pickTemplate\"\n    />\n    <template-parser\n      v-else\n      :template=\"selectedWaTemplate\"\n      @resetTemplate=\"onResetTemplate\"\n      @sendMessage=\"onSendMessage\"\n    />\n  </div>\n</template>\n\n<script>\nimport TemplatesPicker from 'dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue';\nimport TemplateParser from 'dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue';\nexport default {\n  components: {\n    TemplatesPicker,\n    TemplateParser,\n  },\n  props: {\n    inboxId: {\n      type: Number,\n      default: undefined,\n    },\n    show: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      selectedWaTemplate: null,\n    };\n  },\n  methods: {\n    pickTemplate(template) {\n      this.$emit('pickTemplate', true);\n      this.selectedWaTemplate = template;\n    },\n    onResetTemplate() {\n      this.$emit('pickTemplate', false);\n      this.selectedWaTemplate = null;\n    },\n    onSendMessage(message) {\n      this.$emit('on-send', message);\n    },\n    onClose() {\n      this.$emit('cancel');\n    },\n  },\n};\n</script>\n\n<style></style>\n","import { render, staticRenderFns } from \"./WhatsappTemplates.vue?vue&type=template&id=40fa0194&\"\nimport script from \"./WhatsappTemplates.vue?vue&type=script&lang=js&\"\nexport * from \"./WhatsappTemplates.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mx-0 flex flex-wrap\"},[(!_vm.selectedWaTemplate)?_c('templates-picker',{attrs:{\"inbox-id\":_vm.inboxId},on:{\"onSelect\":_vm.pickTemplate}}):_c('template-parser',{attrs:{\"template\":_vm.selectedWaTemplate},on:{\"resetTemplate\":_vm.onResetTemplate,\"sendMessage\":_vm.onSendMessage}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form class=\"w-full conversation--form\" @submit.prevent=\"onFormSubmit\">\n    <div\n      v-if=\"showNoInboxAlert\"\n      class=\"relative mx-0 mt-0 mb-2.5 p-2 rounded-none text-sm border border-solid border-yellow-500 dark:border-yellow-700 bg-yellow-200/60 dark:bg-yellow-200/20 text-slate-700 dark:text-yellow-400\"\n    >\n      <p class=\"mb-0\">\n        {{ $t('NEW_CONVERSATION.NO_INBOX') }}\n      </p>\n    </div>\n    <div v-else>\n      <div class=\"flex flex-row gap-2\">\n        <div class=\"w-[50%]\">\n          <label>\n            {{ $t('NEW_CONVERSATION.FORM.INBOX.LABEL') }}\n          </label>\n          <div\n            class=\"multiselect-wrap--small\"\n            :class=\"{ 'has-multi-select-error': v$.targetInbox.$error }\"\n          >\n            <multiselect\n              v-model=\"targetInbox\"\n              track-by=\"id\"\n              label=\"name\"\n              :placeholder=\"$t('FORMS.MULTISELECT.SELECT')\"\n              selected-label=\"\"\n              select-label=\"\"\n              deselect-label=\"\"\n              :max-height=\"160\"\n              :close-on-select=\"true\"\n              :options=\"[...inboxes]\"\n            >\n              <template slot=\"singleLabel\" slot-scope=\"{ option }\">\n                <inbox-dropdown-item\n                  v-if=\"option.name\"\n                  :name=\"option.name\"\n                  :inbox-identifier=\"computedInboxSource(option)\"\n                  :channel-type=\"option.channel_type\"\n                />\n                <span v-else>\n                  {{ $t('NEW_CONVERSATION.FORM.INBOX.PLACEHOLDER') }}\n                </span>\n              </template>\n              <template slot=\"option\" slot-scope=\"{ option }\">\n                <inbox-dropdown-item\n                  :name=\"option.name\"\n                  :inbox-identifier=\"computedInboxSource(option)\"\n                  :channel-type=\"option.channel_type\"\n                />\n              </template>\n            </multiselect>\n          </div>\n          <label :class=\"{ error: v$.targetInbox.$error }\">\n            <span v-if=\"v$.targetInbox.$error\" class=\"message\">\n              {{ $t('NEW_CONVERSATION.FORM.INBOX.ERROR') }}\n            </span>\n          </label>\n        </div>\n        <div class=\"w-[50%]\">\n          <label>\n            {{ $t('NEW_CONVERSATION.FORM.TO.LABEL') }}\n            <div\n              class=\"flex items-center h-[2.4735rem] rounded-sm py-1 px-2 bg-slate-25 dark:bg-slate-900 border border-solid border-slate-75 dark:border-slate-600\"\n            >\n              <thumbnail\n                :src=\"contact.thumbnail\"\n                size=\"24px\"\n                :username=\"contact.name\"\n                :status=\"contact.availability_status\"\n              />\n              <h4\n                class=\"m-0 ml-2 mr-2 text-sm text-slate-700 dark:text-slate-100\"\n              >\n                {{ contact.name }}\n              </h4>\n            </div>\n          </label>\n        </div>\n      </div>\n      <div v-if=\"isAnEmailInbox\" class=\"w-full\">\n        <div class=\"w-full\">\n          <label :class=\"{ error: v$.subject.$error }\">\n            {{ $t('NEW_CONVERSATION.FORM.SUBJECT.LABEL') }}\n            <input\n              v-model=\"subject\"\n              type=\"text\"\n              :placeholder=\"$t('NEW_CONVERSATION.FORM.SUBJECT.PLACEHOLDER')\"\n              @input=\"v$.subject.$touch\"\n            />\n            <span v-if=\"v$.subject.$error\" class=\"message\">\n              {{ $t('NEW_CONVERSATION.FORM.SUBJECT.ERROR') }}\n            </span>\n          </label>\n        </div>\n      </div>\n      <div class=\"w-full\">\n        <div class=\"w-full\">\n          <div class=\"relative\">\n            <canned-response\n              v-if=\"showCannedResponseMenu && hasSlashCommand\"\n              :search-key=\"cannedResponseSearchKey\"\n              @click=\"replaceTextWithCannedResponse\"\n            />\n          </div>\n          <div v-if=\"isEmailOrWebWidgetInbox\">\n            <label>\n              {{ $t('NEW_CONVERSATION.FORM.MESSAGE.LABEL') }}\n            </label>\n            <reply-email-head\n              v-if=\"isAnEmailInbox\"\n              :cc-emails.sync=\"ccEmails\"\n              :bcc-emails.sync=\"bccEmails\"\n            />\n            <div class=\"editor-wrap\">\n              <woot-message-editor\n                v-model=\"message\"\n                class=\"message-editor\"\n                :class=\"{ editor_warning: v$.message.$error }\"\n                :enable-variables=\"true\"\n                :signature=\"signatureToApply\"\n                :allow-signature=\"true\"\n                :placeholder=\"$t('NEW_CONVERSATION.FORM.MESSAGE.PLACEHOLDER')\"\n                @toggle-canned-menu=\"toggleCannedMenu\"\n                @blur=\"v$.message.$touch\"\n              >\n                <template #footer>\n                  <message-signature-missing-alert\n                    v-if=\"isSignatureEnabledForInbox && !messageSignature\"\n                    class=\"!mx-0 mb-1\"\n                  />\n                  <div v-if=\"isAnEmailInbox\" class=\"mt-px mb-3\">\n                    <woot-button\n                      v-tooltip.top-end=\"signatureToggleTooltip\"\n                      icon=\"signature\"\n                      color-scheme=\"secondary\"\n                      variant=\"smooth\"\n                      size=\"small\"\n                      :title=\"signatureToggleTooltip\"\n                      @click.prevent=\"toggleMessageSignature\"\n                    />\n                  </div>\n                </template>\n              </woot-message-editor>\n              <span v-if=\"v$.message.$error\" class=\"editor-warning__message\">\n                {{ $t('NEW_CONVERSATION.FORM.MESSAGE.ERROR') }}\n              </span>\n            </div>\n          </div>\n          <whatsapp-templates\n            v-else-if=\"hasWhatsappTemplates\"\n            :inbox-id=\"selectedInbox.inbox.id\"\n            @on-select-template=\"toggleWaTemplate\"\n            @on-send=\"onSendWhatsAppReply\"\n          />\n          <label v-else :class=\"{ error: v$.message.$error }\">\n            {{ $t('NEW_CONVERSATION.FORM.MESSAGE.LABEL') }}\n            <textarea\n              v-model=\"message\"\n              class=\"min-h-[5rem]\"\n              type=\"text\"\n              :placeholder=\"$t('NEW_CONVERSATION.FORM.MESSAGE.PLACEHOLDER')\"\n              @input=\"v$.message.$touch\"\n            />\n            <span v-if=\"v$.message.$error\" class=\"message\">\n              {{ $t('NEW_CONVERSATION.FORM.MESSAGE.ERROR') }}\n            </span>\n          </label>\n          <div v-if=\"isEmailOrWebWidgetInbox\" class=\"flex flex-col\">\n            <file-upload\n              ref=\"uploadAttachment\"\n              input-id=\"newConversationAttachment\"\n              :size=\"4096 * 4096\"\n              :accept=\"allowedFileTypes\"\n              :multiple=\"true\"\n              :drop=\"true\"\n              :drop-directory=\"false\"\n              :data=\"{\n                direct_upload_url: '/rails/active_storage/direct_uploads',\n                direct_upload: true,\n              }\"\n              @input-file=\"onFileUpload\"\n            >\n              <woot-button\n                class-names=\"button--upload\"\n                icon=\"attach\"\n                emoji=\"📎\"\n                color-scheme=\"secondary\"\n                variant=\"smooth\"\n                size=\"small\"\n              >\n                {{ $t('NEW_CONVERSATION.FORM.ATTACHMENTS.SELECT') }}\n              </woot-button>\n              <span\n                class=\"text-xs font-medium text-slate-500 ltr:ml-1 rtl:mr-1 dark:text-slate-400\"\n              >\n                {{ $t('NEW_CONVERSATION.FORM.ATTACHMENTS.HELP_TEXT') }}\n              </span>\n            </file-upload>\n            <div\n              v-if=\"hasAttachments\"\n              class=\"max-h-20 overflow-y-auto mb-4 mt-1.5\"\n            >\n              <attachment-preview\n                class=\"[&>.preview-item]:dark:bg-slate-700 flex-row flex-wrap gap-x-3 gap-y-1\"\n                :attachments=\"attachedFiles\"\n                :remove-attachment=\"removeAttachment\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      v-if=\"!hasWhatsappTemplates\"\n      class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\"\n    >\n      <button class=\"button clear\" @click.prevent=\"onCancel\">\n        {{ $t('NEW_CONVERSATION.FORM.CANCEL') }}\n      </button>\n      <woot-button type=\"submit\" :is-loading=\"conversationsUiFlags.isCreating\">\n        {{ $t('NEW_CONVERSATION.FORM.SUBMIT') }}\n      </woot-button>\n    </div>\n\n    <transition v-if=\"isEmailOrWebWidgetInbox\" name=\"modal-fade\">\n      <div\n        v-show=\"$refs.uploadAttachment && $refs.uploadAttachment.dropActive\"\n        class=\"absolute top-0 bottom-0 left-0 right-0 z-30 flex flex-col items-center justify-center w-full h-full gap-2 bg-white/80 dark:bg-slate-700/80\"\n      >\n        <fluent-icon icon=\"cloud-backup\" size=\"40\" />\n        <h4 class=\"text-2xl break-words text-slate-600 dark:text-slate-200\">\n          {{ $t('CONVERSATION.REPLYBOX.DRAG_DROP') }}\n        </h4>\n      </div>\n    </transition>\n  </form>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport { useUISettings } from 'dashboard/composables/useUISettings';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport WootMessageEditor from 'dashboard/components/widgets/WootWriter/Editor.vue';\nimport ReplyEmailHead from 'dashboard/components/widgets/conversation/ReplyEmailHead.vue';\nimport CannedResponse from 'dashboard/components/widgets/conversation/CannedResponse.vue';\nimport MessageSignatureMissingAlert from 'dashboard/components/widgets/conversation/MessageSignatureMissingAlert';\nimport InboxDropdownItem from 'dashboard/components/widgets/InboxDropdownItem.vue';\nimport WhatsappTemplates from './WhatsappTemplates.vue';\nimport { INBOX_TYPES } from 'shared/mixins/inboxMixin';\nimport { ExceptionWithMessage } from 'shared/helpers/CustomErrors';\nimport { getInboxSource } from 'dashboard/helper/inbox';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, requiredIf } from '@vuelidate/validators';\nimport inboxMixin from 'shared/mixins/inboxMixin';\nimport FileUpload from 'vue-upload-component';\nimport AttachmentPreview from 'dashboard/components/widgets/AttachmentsPreview';\nimport { ALLOWED_FILE_TYPES } from 'shared/constants/messages';\nimport fileUploadMixin from 'dashboard/mixins/fileUploadMixin';\nimport {\n  appendSignature,\n  removeSignature,\n} from 'dashboard/helper/editorHelper';\n\nexport default {\n  components: {\n    Thumbnail,\n    WootMessageEditor,\n    ReplyEmailHead,\n    CannedResponse,\n    WhatsappTemplates,\n    InboxDropdownItem,\n    FileUpload,\n    AttachmentPreview,\n    MessageSignatureMissingAlert,\n  },\n  mixins: [inboxMixin, fileUploadMixin],\n  props: {\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n    onSubmit: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  setup() {\n    const { fetchSignatureFlagFromUISettings, setSignatureFlagForInbox } =\n      useUISettings();\n    const v$ = useVuelidate();\n\n    return { fetchSignatureFlagFromUISettings, setSignatureFlagForInbox, v$ };\n  },\n  data() {\n    return {\n      name: '',\n      subject: '',\n      message: '',\n      showCannedResponseMenu: false,\n      cannedResponseSearchKey: '',\n      bccEmails: '',\n      ccEmails: '',\n      targetInbox: {},\n      whatsappTemplateSelected: false,\n      attachedFiles: [],\n    };\n  },\n  validations: {\n    subject: {\n      required: requiredIf('isAnEmailInbox'),\n    },\n    message: {\n      required,\n    },\n    targetInbox: {\n      required,\n    },\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'contacts/getUIFlags',\n      conversationsUiFlags: 'contactConversations/getUIFlags',\n      currentUser: 'getCurrentUser',\n      globalConfig: 'globalConfig/get',\n      messageSignature: 'getMessageSignature',\n    }),\n    sendWithSignature() {\n      return this.fetchSignatureFlagFromUISettings(this.channelType);\n    },\n    signatureToApply() {\n      return this.messageSignature;\n    },\n    newMessagePayload() {\n      const payload = {\n        inboxId: this.targetInbox.id,\n        sourceId: this.targetInbox.sourceId,\n        contactId: this.contact.id,\n        message: { content: this.message },\n        mailSubject: this.subject,\n        assigneeId: this.currentUser.id,\n      };\n\n      if (this.attachedFiles && this.attachedFiles.length) {\n        payload.files = [];\n        this.setAttachmentPayload(payload);\n      }\n\n      if (this.ccEmails) {\n        payload.message.cc_emails = this.ccEmails;\n      }\n\n      if (this.bccEmails) {\n        payload.message.bcc_emails = this.bccEmails;\n      }\n      return payload;\n    },\n    selectedInbox: {\n      get() {\n        const inboxList = this.contact.contactableInboxes || [];\n        return (\n          inboxList.find(inbox => {\n            return inbox.inbox?.id && inbox.inbox?.id === this.targetInbox?.id;\n          }) || {\n            inbox: {},\n          }\n        );\n      },\n      set(value) {\n        this.targetInbox = value.inbox;\n      },\n    },\n    showNoInboxAlert() {\n      if (!this.contact.contactableInboxes) {\n        return false;\n      }\n      return this.inboxes.length === 0 && !this.uiFlags.isFetchingInboxes;\n    },\n    isSignatureEnabledForInbox() {\n      return this.isAnEmailInbox && this.sendWithSignature;\n    },\n    signatureToggleTooltip() {\n      return this.sendWithSignature\n        ? this.$t('CONVERSATION.FOOTER.DISABLE_SIGN_TOOLTIP')\n        : this.$t('CONVERSATION.FOOTER.ENABLE_SIGN_TOOLTIP');\n    },\n    inboxes() {\n      const inboxList = this.contact.contactableInboxes || [];\n      return inboxList.map(inbox => ({\n        ...inbox.inbox,\n        sourceId: inbox.source_id,\n      }));\n    },\n    isAnEmailInbox() {\n      return (\n        this.selectedInbox &&\n        this.selectedInbox.inbox.channel_type === INBOX_TYPES.EMAIL\n      );\n    },\n    isAnWebWidgetInbox() {\n      return (\n        this.selectedInbox &&\n        this.selectedInbox.inbox.channel_type === INBOX_TYPES.WEB\n      );\n    },\n    isEmailOrWebWidgetInbox() {\n      return this.isAnEmailInbox || this.isAnWebWidgetInbox;\n    },\n    hasWhatsappTemplates() {\n      return !!this.selectedInbox.inbox?.message_templates;\n    },\n    hasAttachments() {\n      return this.attachedFiles.length;\n    },\n    inbox() {\n      return this.targetInbox;\n    },\n    allowedFileTypes() {\n      return ALLOWED_FILE_TYPES;\n    },\n  },\n  watch: {\n    message(value) {\n      this.hasSlashCommand = value[0] === '/' && !this.isEmailOrWebWidgetInbox;\n      const hasNextWord = value.includes(' ');\n      const isShortCodeActive = this.hasSlashCommand && !hasNextWord;\n      if (isShortCodeActive) {\n        this.cannedResponseSearchKey = value.substring(1);\n        this.showCannedResponseMenu = true;\n      } else {\n        this.cannedResponseSearchKey = '';\n        this.showCannedResponseMenu = false;\n      }\n    },\n    targetInbox() {\n      this.setSignature();\n    },\n  },\n  mounted() {\n    this.setSignature();\n  },\n  methods: {\n    setSignature() {\n      if (this.messageSignature) {\n        if (this.isSignatureEnabledForInbox) {\n          this.message = appendSignature(this.message, this.signatureToApply);\n        } else {\n          this.message = removeSignature(this.message, this.signatureToApply);\n        }\n      }\n    },\n    setAttachmentPayload(payload) {\n      this.attachedFiles.forEach(attachment => {\n        if (this.globalConfig.directUploadsEnabled) {\n          payload.files.push(attachment.blobSignedId);\n        } else {\n          payload.files.push(attachment.resource.file);\n        }\n      });\n    },\n    attachFile({ blob, file }) {\n      const reader = new FileReader();\n      reader.readAsDataURL(file.file);\n      reader.onloadend = () => {\n        this.attachedFiles.push({\n          currentChatId: this.contact.id,\n          resource: blob || file,\n          isPrivate: this.isPrivate,\n          thumb: reader.result,\n          blobSignedId: blob ? blob.signed_id : undefined,\n        });\n      };\n    },\n    removeAttachment(itemIndex) {\n      this.attachedFiles = this.attachedFiles.filter(\n        (item, index) => itemIndex !== index\n      );\n    },\n    onCancel() {\n      this.$emit('cancel');\n    },\n    onSuccess() {\n      this.$emit('success');\n    },\n    replaceTextWithCannedResponse(message) {\n      this.message = message;\n    },\n    toggleCannedMenu(value) {\n      this.showCannedMenu = value;\n    },\n    prepareWhatsAppMessagePayload({ message: content, templateParams }) {\n      const payload = {\n        inboxId: this.targetInbox.id,\n        sourceId: this.targetInbox.sourceId,\n        contactId: this.contact.id,\n        message: { content, template_params: templateParams },\n        assigneeId: this.currentUser.id,\n      };\n      return payload;\n    },\n    onFormSubmit() {\n      const isFromWhatsApp = false;\n      this.v$.$touch();\n      if (this.v$.$invalid) {\n        return;\n      }\n      this.createConversation({\n        payload: this.newMessagePayload,\n        isFromWhatsApp,\n      });\n    },\n    async createConversation({ payload, isFromWhatsApp }) {\n      try {\n        const data = await this.onSubmit(payload, isFromWhatsApp);\n        const action = {\n          type: 'link',\n          to: `/app/accounts/${data.account_id}/conversations/${data.id}`,\n          message: this.$t('NEW_CONVERSATION.FORM.GO_TO_CONVERSATION'),\n        };\n        this.onSuccess();\n        useAlert(this.$t('NEW_CONVERSATION.FORM.SUCCESS_MESSAGE'), action);\n      } catch (error) {\n        if (error instanceof ExceptionWithMessage) {\n          useAlert(error.data);\n        } else {\n          useAlert(this.$t('NEW_CONVERSATION.FORM.ERROR_MESSAGE'));\n        }\n      }\n    },\n\n    toggleWaTemplate(val) {\n      this.whatsappTemplateSelected = val;\n    },\n    async onSendWhatsAppReply(messagePayload) {\n      const isFromWhatsApp = true;\n      const payload = this.prepareWhatsAppMessagePayload(messagePayload);\n      await this.createConversation({ payload, isFromWhatsApp });\n    },\n    inboxReadableIdentifier(inbox) {\n      return `${inbox.name} (${inbox.channel_type})`;\n    },\n    computedInboxSource(inbox) {\n      if (!inbox.channel_type) return '';\n      const classByType = getInboxSource(\n        inbox.channel_type,\n        inbox.phone_number,\n        inbox\n      );\n      return classByType;\n    },\n    toggleMessageSignature() {\n      this.setSignatureFlagForInbox(this.channelType, !this.sendWithSignature);\n      this.setSignature();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.conversation--form {\n  @apply pt-4 px-8 pb-8;\n}\n\n.message-editor {\n  @apply px-3;\n\n  ::v-deep {\n    .ProseMirror-menubar {\n      @apply rounded-tl-[4px];\n    }\n  }\n}\n\n.file-uploads {\n  @apply text-start;\n}\n.multiselect-wrap--small.has-multi-select-error {\n  ::v-deep {\n    .multiselect__tags {\n      @apply border-red-500;\n    }\n  }\n}\n\n::v-deep {\n  .mention--box {\n    @apply left-0 m-auto right-0 top-auto h-fit;\n  }\n  .multiselect .multiselect__content .multiselect__option span {\n    @apply inline-flex w-6 text-slate-600 dark:text-slate-400;\n  }\n  .multiselect .multiselect__content .multiselect__option {\n    @apply py-0.5 px-1;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConversationForm.vue?vue&type=template&id=5daed392&scoped=true&\"\nimport script from \"./ConversationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ConversationForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConversationForm.vue?vue&type=style&index=0&id=5daed392&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5daed392\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{staticClass:\"w-full conversation--form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onFormSubmit.apply(null, arguments)}}},[(_vm.showNoInboxAlert)?_c('div',{staticClass:\"relative mx-0 mt-0 mb-2.5 p-2 rounded-none text-sm border border-solid border-yellow-500 dark:border-yellow-700 bg-yellow-200/60 dark:bg-yellow-200/20 text-slate-700 dark:text-yellow-400\"},[_c('p',{staticClass:\"mb-0\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('NEW_CONVERSATION.NO_INBOX'))+\"\\n    \")])]):_c('div',[_c('div',{staticClass:\"flex flex-row gap-2\"},[_c('div',{staticClass:\"w-[50%]\"},[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.INBOX.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"multiselect-wrap--small\",class:{ 'has-multi-select-error': _vm.v$.targetInbox.$error }},[_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":_vm.$t('FORMS.MULTISELECT.SELECT'),\"selected-label\":\"\",\"select-label\":\"\",\"deselect-label\":\"\",\"max-height\":160,\"close-on-select\":true,\"options\":[..._vm.inboxes]},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function({ option }){return [(option.name)?_c('inbox-dropdown-item',{attrs:{\"name\":option.name,\"inbox-identifier\":_vm.computedInboxSource(option),\"channel-type\":option.channel_type}}):_c('span',[_vm._v(\"\\n                \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.INBOX.PLACEHOLDER'))+\"\\n              \")])]}},{key:\"option\",fn:function({ option }){return [_c('inbox-dropdown-item',{attrs:{\"name\":option.name,\"inbox-identifier\":_vm.computedInboxSource(option),\"channel-type\":option.channel_type}})]}}]),model:{value:(_vm.targetInbox),callback:function ($$v) {_vm.targetInbox=$$v},expression:\"targetInbox\"}})],1),_vm._v(\" \"),_c('label',{class:{ error: _vm.v$.targetInbox.$error }},[(_vm.v$.targetInbox.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.INBOX.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"w-[50%]\"},[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.TO.LABEL'))+\"\\n          \"),_c('div',{staticClass:\"flex items-center h-[2.4735rem] rounded-sm py-1 px-2 bg-slate-25 dark:bg-slate-900 border border-solid border-slate-75 dark:border-slate-600\"},[_c('thumbnail',{attrs:{\"src\":_vm.contact.thumbnail,\"size\":\"24px\",\"username\":_vm.contact.name,\"status\":_vm.contact.availability_status}}),_vm._v(\" \"),_c('h4',{staticClass:\"m-0 ml-2 mr-2 text-sm text-slate-700 dark:text-slate-100\"},[_vm._v(\"\\n              \"+_vm._s(_vm.contact.name)+\"\\n            \")])],1)])])]),_vm._v(\" \"),(_vm.isAnEmailInbox)?_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.v$.subject.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.SUBJECT.LABEL'))+\"\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subject),expression:\"subject\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('NEW_CONVERSATION.FORM.SUBJECT.PLACEHOLDER')},domProps:{\"value\":(_vm.subject)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.subject=$event.target.value},_vm.v$.subject.$touch]}}),_vm._v(\" \"),(_vm.v$.subject.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.SUBJECT.ERROR'))+\"\\n          \")]):_vm._e()])])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"relative\"},[(_vm.showCannedResponseMenu && _vm.hasSlashCommand)?_c('canned-response',{attrs:{\"search-key\":_vm.cannedResponseSearchKey},on:{\"click\":_vm.replaceTextWithCannedResponse}}):_vm._e()],1),_vm._v(\" \"),(_vm.isEmailOrWebWidgetInbox)?_c('div',[_c('label',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.LABEL'))+\"\\n          \")]),_vm._v(\" \"),(_vm.isAnEmailInbox)?_c('reply-email-head',{attrs:{\"cc-emails\":_vm.ccEmails,\"bcc-emails\":_vm.bccEmails},on:{\"update:ccEmails\":function($event){_vm.ccEmails=$event},\"update:cc-emails\":function($event){_vm.ccEmails=$event},\"update:bccEmails\":function($event){_vm.bccEmails=$event},\"update:bcc-emails\":function($event){_vm.bccEmails=$event}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"editor-wrap\"},[_c('woot-message-editor',{staticClass:\"message-editor\",class:{ editor_warning: _vm.v$.message.$error },attrs:{\"enable-variables\":true,\"signature\":_vm.signatureToApply,\"allow-signature\":true,\"placeholder\":_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.PLACEHOLDER')},on:{\"toggle-canned-menu\":_vm.toggleCannedMenu,\"blur\":_vm.v$.message.$touch},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [(_vm.isSignatureEnabledForInbox && !_vm.messageSignature)?_c('message-signature-missing-alert',{staticClass:\"!mx-0 mb-1\"}):_vm._e(),_vm._v(\" \"),(_vm.isAnEmailInbox)?_c('div',{staticClass:\"mt-px mb-3\"},[_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top-end\",value:(_vm.signatureToggleTooltip),expression:\"signatureToggleTooltip\",modifiers:{\"top-end\":true}}],attrs:{\"icon\":\"signature\",\"color-scheme\":\"secondary\",\"variant\":\"smooth\",\"size\":\"small\",\"title\":_vm.signatureToggleTooltip},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleMessageSignature.apply(null, arguments)}}})],1):_vm._e()]},proxy:true}],null,false,4255271756),model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_vm._v(\" \"),(_vm.v$.message.$error)?_c('span',{staticClass:\"editor-warning__message\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.ERROR'))+\"\\n            \")]):_vm._e()],1)],1):(_vm.hasWhatsappTemplates)?_c('whatsapp-templates',{attrs:{\"inbox-id\":_vm.selectedInbox.inbox.id},on:{\"on-select-template\":_vm.toggleWaTemplate,\"on-send\":_vm.onSendWhatsAppReply}}):_c('label',{class:{ error: _vm.v$.message.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.LABEL'))+\"\\n          \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"min-h-[5rem]\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.PLACEHOLDER')},domProps:{\"value\":(_vm.message)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.message=$event.target.value},_vm.v$.message.$touch]}}),_vm._v(\" \"),(_vm.v$.message.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.ERROR'))+\"\\n          \")]):_vm._e()]),_vm._v(\" \"),(_vm.isEmailOrWebWidgetInbox)?_c('div',{staticClass:\"flex flex-col\"},[_c('file-upload',{ref:\"uploadAttachment\",attrs:{\"input-id\":\"newConversationAttachment\",\"size\":4096 * 4096,\"accept\":_vm.allowedFileTypes,\"multiple\":true,\"drop\":true,\"drop-directory\":false,\"data\":{\n              direct_upload_url: '/rails/active_storage/direct_uploads',\n              direct_upload: true,\n            }},on:{\"input-file\":_vm.onFileUpload}},[_c('woot-button',{attrs:{\"class-names\":\"button--upload\",\"icon\":\"attach\",\"emoji\":\"📎\",\"color-scheme\":\"secondary\",\"variant\":\"smooth\",\"size\":\"small\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.ATTACHMENTS.SELECT'))+\"\\n            \")]),_vm._v(\" \"),_c('span',{staticClass:\"text-xs font-medium text-slate-500 ltr:ml-1 rtl:mr-1 dark:text-slate-400\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.ATTACHMENTS.HELP_TEXT'))+\"\\n            \")])],1),_vm._v(\" \"),(_vm.hasAttachments)?_c('div',{staticClass:\"max-h-20 overflow-y-auto mb-4 mt-1.5\"},[_c('attachment-preview',{staticClass:\"[&>.preview-item]:dark:bg-slate-700 flex-row flex-wrap gap-x-3 gap-y-1\",attrs:{\"attachments\":_vm.attachedFiles,\"remove-attachment\":_vm.removeAttachment}})],1):_vm._e()],1):_vm._e()],1)])]),_vm._v(\" \"),(!_vm.hasWhatsappTemplates)?_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onCancel.apply(null, arguments)}}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.CANCEL'))+\"\\n    \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"type\":\"submit\",\"is-loading\":_vm.conversationsUiFlags.isCreating}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.SUBMIT'))+\"\\n    \")])],1):_vm._e(),_vm._v(\" \"),(_vm.isEmailOrWebWidgetInbox)?_c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$refs.uploadAttachment && _vm.$refs.uploadAttachment.dropActive),expression:\"$refs.uploadAttachment && $refs.uploadAttachment.dropActive\"}],staticClass:\"absolute top-0 bottom-0 left-0 right-0 z-30 flex flex-col items-center justify-center w-full h-full gap-2 bg-white/80 dark:bg-slate-700/80\"},[_c('fluent-icon',{attrs:{\"icon\":\"cloud-backup\",\"size\":\"40\"}}),_vm._v(\" \"),_c('h4',{staticClass:\"text-2xl break-words text-slate-600 dark:text-slate-200\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.DRAG_DROP'))+\"\\n      \")])],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onCancel\">\n    <div class=\"h-auto overflow-auto flex flex-col\">\n      <woot-modal-header\n        :header-title=\"$t('NEW_CONVERSATION.TITLE')\"\n        :header-content=\"$t('NEW_CONVERSATION.DESC')\"\n      />\n      <conversation-form\n        :contact=\"contact\"\n        :on-submit=\"onSubmit\"\n        @success=\"onSuccess\"\n        @cancel=\"onCancel\"\n      />\n    </div>\n  </woot-modal>\n</template>\n\n<script>\nimport ConversationForm from './ConversationForm.vue';\n\nexport default {\n  components: {\n    ConversationForm,\n  },\n  props: {\n    show: {\n      type: Boolean,\n      default: false,\n    },\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  watch: {\n    'contact.id'(id) {\n      this.$store.dispatch('contacts/fetchContactableInbox', id);\n    },\n  },\n  mounted() {\n    const { id } = this.contact;\n    this.$store.dispatch('contacts/fetchContactableInbox', id);\n  },\n  methods: {\n    onCancel() {\n      this.$emit('cancel');\n    },\n    onSuccess() {\n      this.$emit('cancel');\n    },\n    async onSubmit(params, isFromWhatsApp) {\n      const data = await this.$store.dispatch('contactConversations/create', {\n        params,\n        isFromWhatsApp,\n      });\n      return data;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConversation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConversation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewConversation.vue?vue&type=template&id=8fdbc778&\"\nimport script from \"./NewConversation.vue?vue&type=script&lang=js&\"\nexport * from \"./NewConversation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onCancel},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"h-auto overflow-auto flex flex-col\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('NEW_CONVERSATION.TITLE'),\"header-content\":_vm.$t('NEW_CONVERSATION.DESC')}}),_vm._v(\" \"),_c('conversation-form',{attrs:{\"contact\":_vm.contact,\"on-submit\":_vm.onSubmit},on:{\"success\":_vm.onSuccess,\"cancel\":_vm.onCancel}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MergeContactSummary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MergeContactSummary.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    v-if=\"parentContactName\"\n    class=\"my-4 relative p-2.5 border rounded-[4px] text-slate-800 dark:text-slate-100 border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800\"\n  >\n    <h5 class=\"text-base font-medium text-slate-900 dark:text-white\">\n      {{ $t('MERGE_CONTACTS.SUMMARY.TITLE') }}\n    </h5>\n    <ul class=\"ml-0 list-none\">\n      <li>\n        <span class=\"inline-block mr-1\">❌</span>\n        <span\n          v-dompurify-html=\"\n            $t('MERGE_CONTACTS.SUMMARY.DELETE_WARNING', {\n              primaryContactName,\n            })\n          \"\n        />\n      </li>\n      <li>\n        <span class=\"inline-block mr-1\">✅</span>\n        <span\n          v-dompurify-html=\"\n            $t('MERGE_CONTACTS.SUMMARY.ATTRIBUTE_WARNING', {\n              primaryContactName,\n              parentContactName,\n            })\n          \"\n        />\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    primaryContactName: {\n      type: String,\n      default: '',\n    },\n    parentContactName: {\n      type: String,\n      default: '',\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./MergeContactSummary.vue?vue&type=template&id=ee67dde6&\"\nimport script from \"./MergeContactSummary.vue?vue&type=script&lang=js&\"\nexport * from \"./MergeContactSummary.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.parentContactName)?_c('div',{staticClass:\"my-4 relative p-2.5 border rounded-[4px] text-slate-800 dark:text-slate-100 border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800\"},[_c('h5',{staticClass:\"text-base font-medium text-slate-900 dark:text-white\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('MERGE_CONTACTS.SUMMARY.TITLE'))+\"\\n  \")]),_vm._v(\" \"),_c('ul',{staticClass:\"ml-0 list-none\"},[_c('li',[_c('span',{staticClass:\"inline-block mr-1\"},[_vm._v(\"❌\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(\n          _vm.$t('MERGE_CONTACTS.SUMMARY.DELETE_WARNING', {\n            primaryContactName: _vm.primaryContactName,\n          })\n        ),expression:\"\\n          $t('MERGE_CONTACTS.SUMMARY.DELETE_WARNING', {\\n            primaryContactName,\\n          })\\n        \"}]})]),_vm._v(\" \"),_c('li',[_c('span',{staticClass:\"inline-block mr-1\"},[_vm._v(\"✅\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(\n          _vm.$t('MERGE_CONTACTS.SUMMARY.ATTRIBUTE_WARNING', {\n            primaryContactName: _vm.primaryContactName,\n            parentContactName: _vm.parentContactName,\n          })\n        ),expression:\"\\n          $t('MERGE_CONTACTS.SUMMARY.ATTRIBUTE_WARNING', {\\n            primaryContactName,\\n            parentContactName,\\n          })\\n        \"}]})])])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactDropdownItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactDropdownItem.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"option-item--user\">\n    <thumbnail :src=\"thumbnail\" size=\"28px\" :username=\"name\" />\n    <div class=\"option__user-data\">\n      <h5 class=\"option__title\">\n        {{ name }}\n        <span v-if=\"identifier\" class=\"user-identifier\">\n          (ID: {{ identifier }})\n        </span>\n      </h5>\n      <p class=\"option__body\">\n        <span v-if=\"email\" class=\"email-icon-wrap\">\n          <fluent-icon class=\"merge-contact--icon\" icon=\"mail\" size=\"12\" />\n          {{ email }}\n        </span>\n        <span v-if=\"phoneNumber\" class=\"phone-icon-wrap\">\n          <fluent-icon class=\"merge-contact--icon\" icon=\"call\" size=\"12\" />\n          {{ phoneNumber }}\n        </span>\n        <span v-if=\"!phoneNumber && !email\">{{ '---' }}</span>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Thumbnail from '../../../components/widgets/Thumbnail.vue';\n\nexport default {\n  components: {\n    Thumbnail,\n  },\n  props: {\n    name: {\n      type: String,\n      default: '',\n    },\n    thumbnail: {\n      type: String,\n      default: '',\n    },\n    email: {\n      type: String,\n      default: '',\n    },\n    phoneNumber: {\n      type: String,\n      default: '',\n    },\n    identifier: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.option-item--user {\n  @apply flex items-center;\n}\n.user-identifier {\n  @apply text-xs ml-0.5 text-slate-700 dark:text-slate-100;\n}\n.option__user-data {\n  @apply flex flex-col flex-grow ml-2 mr-2;\n}\n.option__body,\n.option__title {\n  @apply flex items-center justify-start leading-[1.2] text-sm;\n}\n.option__body .icon {\n  @apply relative top-px mr-0.5 rtl:mr-0 rtl:ml-0.5;\n}\n.option__title {\n  @apply text-slate-800 dark:text-slate-100 font-medium mb-0.5;\n}\n.option__body {\n  @apply text-xs text-slate-700 dark:text-slate-100 mt-1;\n}\n\n.option__user-data .option__body {\n  > .phone-icon-wrap,\n  > .email-icon-wrap {\n    @apply w-auto flex items-center;\n  }\n}\n\n.merge-contact--icon {\n  @apply -mb-0.5 mr-0.5;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MergeContact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MergeContact.vue?vue&type=script&lang=js&\"","<template>\n  <form @submit.prevent=\"onSubmit\">\n    <div>\n      <div>\n        <div\n          class=\"mt-1 multiselect-wrap--medium\"\n          :class=\"{ error: v$.parentContact.$error }\"\n        >\n          <label class=\"multiselect__label\">\n            {{ $t('MERGE_CONTACTS.PARENT.TITLE') }}\n            <woot-label\n              :title=\"$t('MERGE_CONTACTS.PARENT.HELP_LABEL')\"\n              color-scheme=\"success\"\n              small\n              class=\"ml-2\"\n            />\n          </label>\n          <multiselect\n            v-model=\"parentContact\"\n            :options=\"searchResults\"\n            label=\"name\"\n            track-by=\"id\"\n            :internal-search=\"false\"\n            :clear-on-select=\"false\"\n            :show-labels=\"false\"\n            :placeholder=\"$t('MERGE_CONTACTS.PARENT.PLACEHOLDER')\"\n            :allow-empty=\"true\"\n            :loading=\"isSearching\"\n            :max-height=\"150\"\n            open-direction=\"top\"\n            @search-change=\"searchChange\"\n          >\n            <template slot=\"singleLabel\" slot-scope=\"props\">\n              <contact-dropdown-item\n                :thumbnail=\"props.option.thumbnail\"\n                :identifier=\"props.option.id\"\n                :name=\"props.option.name\"\n                :email=\"props.option.email\"\n                :phone-number=\"props.option.phone_number\"\n              />\n            </template>\n            <template slot=\"option\" slot-scope=\"props\">\n              <contact-dropdown-item\n                :thumbnail=\"props.option.thumbnail\"\n                :identifier=\"props.option.id\"\n                :name=\"props.option.name\"\n                :email=\"props.option.email\"\n                :phone-number=\"props.option.phone_number\"\n              />\n            </template>\n            <span slot=\"noResult\">\n              {{ $t('AGENT_MGMT.SEARCH.NO_RESULTS') }}\n            </span>\n          </multiselect>\n          <span v-if=\"v$.parentContact.$error\" class=\"message\">\n            {{ $t('MERGE_CONTACTS.FORM.CHILD_CONTACT.ERROR') }}\n          </span>\n        </div>\n      </div>\n      <div class=\"flex multiselect-wrap--medium\">\n        <div\n          class=\"w-8 relative text-base text-slate-100 dark:text-slate-600 after:content-[''] after:h-12 after:w-0 after:left-4 after:absolute after:border-l after:border-solid after:border-slate-100 after:dark:border-slate-600 before:content-[''] before:h-0 before:w-4 before:left-4 before:top-12 before:absolute before:border-b before:border-solid before:border-slate-100 before:dark:border-slate-600\"\n        >\n          <fluent-icon\n            icon=\"arrow-up\"\n            class=\"absolute -top-1 left-2\"\n            size=\"17\"\n          />\n        </div>\n        <div class=\"flex flex-col w-full\">\n          <label class=\"multiselect__label\">\n            {{ $t('MERGE_CONTACTS.PRIMARY.TITLE') }}\n            <woot-label\n              :title=\"$t('MERGE_CONTACTS.PRIMARY.HELP_LABEL')\"\n              color-scheme=\"alert\"\n              small\n              class=\"ml-2\"\n            />\n          </label>\n          <multiselect\n            :value=\"primaryContact\"\n            disabled\n            :options=\"[]\"\n            :show-labels=\"false\"\n            label=\"name\"\n            track-by=\"id\"\n          >\n            <template slot=\"singleLabel\" slot-scope=\"props\">\n              <contact-dropdown-item\n                :thumbnail=\"props.option.thumbnail\"\n                :name=\"props.option.name\"\n                :identifier=\"props.option.id\"\n                :email=\"props.option.email\"\n                :phone-number=\"props.option.phoneNumber\"\n              />\n            </template>\n          </multiselect>\n        </div>\n      </div>\n    </div>\n    <merge-contact-summary\n      :primary-contact-name=\"primaryContact.name\"\n      :parent-contact-name=\"parentContactName\"\n    />\n    <div class=\"flex justify-end gap-2 mt-6\">\n      <woot-button variant=\"clear\" @click.prevent=\"onCancel\">\n        {{ $t('MERGE_CONTACTS.FORM.CANCEL') }}\n      </woot-button>\n      <woot-button type=\"submit\" :is-loading=\"isMerging\">\n        {{ $t('MERGE_CONTACTS.FORM.SUBMIT') }}\n      </woot-button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { useVuelidate } from '@vuelidate/core';\nimport { required } from '@vuelidate/validators';\n\nimport MergeContactSummary from 'dashboard/modules/contact/components/MergeContactSummary.vue';\nimport ContactDropdownItem from './ContactDropdownItem.vue';\n\nexport default {\n  components: { MergeContactSummary, ContactDropdownItem },\n  props: {\n    primaryContact: {\n      type: Object,\n      required: true,\n    },\n    isSearching: {\n      type: Boolean,\n      default: false,\n    },\n    isMerging: {\n      type: Boolean,\n      default: false,\n    },\n    searchResults: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  validations: {\n    primaryContact: {\n      required,\n    },\n    parentContact: {\n      required,\n    },\n  },\n  data() {\n    return {\n      parentContact: undefined,\n    };\n  },\n\n  computed: {\n    parentContactName() {\n      return this.parentContact ? this.parentContact.name : '';\n    },\n  },\n  methods: {\n    searchChange(query) {\n      this.$emit('search', query);\n    },\n    onSubmit() {\n      this.v$.$touch();\n      if (this.v$.$invalid) {\n        return;\n      }\n      this.$emit('submit', this.parentContact.id);\n    },\n    onCancel() {\n      this.$emit('cancel');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/* TDOD: Clean errors in forms style */\n.error .message {\n  @apply mt-0;\n}\n\n::v-deep {\n  .multiselect {\n    @apply rounded-md;\n  }\n\n  .multiselect--disabled {\n    @apply border-0;\n\n    .multiselect__tags {\n      @apply border;\n    }\n  }\n\n  .multiselect__tags {\n    @apply h-auto;\n  }\n\n  .multiselect__select {\n    @apply mt-px mr-1;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./ContactDropdownItem.vue?vue&type=template&id=5521a686&scoped=true&\"\nimport script from \"./ContactDropdownItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactDropdownItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactDropdownItem.vue?vue&type=style&index=0&id=5521a686&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5521a686\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"option-item--user\"},[_c('thumbnail',{attrs:{\"src\":_vm.thumbnail,\"size\":\"28px\",\"username\":_vm.name}}),_vm._v(\" \"),_c('div',{staticClass:\"option__user-data\"},[_c('h5',{staticClass:\"option__title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.name)+\"\\n      \"),(_vm.identifier)?_c('span',{staticClass:\"user-identifier\"},[_vm._v(\"\\n        (ID: \"+_vm._s(_vm.identifier)+\")\\n      \")]):_vm._e()]),_vm._v(\" \"),_c('p',{staticClass:\"option__body\"},[(_vm.email)?_c('span',{staticClass:\"email-icon-wrap\"},[_c('fluent-icon',{staticClass:\"merge-contact--icon\",attrs:{\"icon\":\"mail\",\"size\":\"12\"}}),_vm._v(\"\\n        \"+_vm._s(_vm.email)+\"\\n      \")],1):_vm._e(),_vm._v(\" \"),(_vm.phoneNumber)?_c('span',{staticClass:\"phone-icon-wrap\"},[_c('fluent-icon',{staticClass:\"merge-contact--icon\",attrs:{\"icon\":\"call\",\"size\":\"12\"}}),_vm._v(\"\\n        \"+_vm._s(_vm.phoneNumber)+\"\\n      \")],1):_vm._e(),_vm._v(\" \"),(!_vm.phoneNumber && !_vm.email)?_c('span',[_vm._v(_vm._s('---'))]):_vm._e()])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./MergeContact.vue?vue&type=template&id=1dbccb10&scoped=true&\"\nimport script from \"./MergeContact.vue?vue&type=script&lang=js&\"\nexport * from \"./MergeContact.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MergeContact.vue?vue&type=style&index=0&id=1dbccb10&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dbccb10\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('div',[_c('div',[_c('div',{staticClass:\"mt-1 multiselect-wrap--medium\",class:{ error: _vm.v$.parentContact.$error }},[_c('label',{staticClass:\"multiselect__label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('MERGE_CONTACTS.PARENT.TITLE'))+\"\\n          \"),_c('woot-label',{staticClass:\"ml-2\",attrs:{\"title\":_vm.$t('MERGE_CONTACTS.PARENT.HELP_LABEL'),\"color-scheme\":\"success\",\"small\":\"\"}})],1),_vm._v(\" \"),_c('multiselect',{attrs:{\"options\":_vm.searchResults,\"label\":\"name\",\"track-by\":\"id\",\"internal-search\":false,\"clear-on-select\":false,\"show-labels\":false,\"placeholder\":_vm.$t('MERGE_CONTACTS.PARENT.PLACEHOLDER'),\"allow-empty\":true,\"loading\":_vm.isSearching,\"max-height\":150,\"open-direction\":\"top\"},on:{\"search-change\":_vm.searchChange},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('contact-dropdown-item',{attrs:{\"thumbnail\":props.option.thumbnail,\"identifier\":props.option.id,\"name\":props.option.name,\"email\":props.option.email,\"phone-number\":props.option.phone_number}})]}},{key:\"option\",fn:function(props){return [_c('contact-dropdown-item',{attrs:{\"thumbnail\":props.option.thumbnail,\"identifier\":props.option.id,\"name\":props.option.name,\"email\":props.option.email,\"phone-number\":props.option.phone_number}})]}}]),model:{value:(_vm.parentContact),callback:function ($$v) {_vm.parentContact=$$v},expression:\"parentContact\"}},[_vm._v(\" \"),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.SEARCH.NO_RESULTS'))+\"\\n          \")])]),_vm._v(\" \"),(_vm.v$.parentContact.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('MERGE_CONTACTS.FORM.CHILD_CONTACT.ERROR'))+\"\\n        \")]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flex multiselect-wrap--medium\"},[_c('div',{staticClass:\"w-8 relative text-base text-slate-100 dark:text-slate-600 after:content-[''] after:h-12 after:w-0 after:left-4 after:absolute after:border-l after:border-solid after:border-slate-100 after:dark:border-slate-600 before:content-[''] before:h-0 before:w-4 before:left-4 before:top-12 before:absolute before:border-b before:border-solid before:border-slate-100 before:dark:border-slate-600\"},[_c('fluent-icon',{staticClass:\"absolute -top-1 left-2\",attrs:{\"icon\":\"arrow-up\",\"size\":\"17\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col w-full\"},[_c('label',{staticClass:\"multiselect__label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('MERGE_CONTACTS.PRIMARY.TITLE'))+\"\\n          \"),_c('woot-label',{staticClass:\"ml-2\",attrs:{\"title\":_vm.$t('MERGE_CONTACTS.PRIMARY.HELP_LABEL'),\"color-scheme\":\"alert\",\"small\":\"\"}})],1),_vm._v(\" \"),_c('multiselect',{attrs:{\"value\":_vm.primaryContact,\"disabled\":\"\",\"options\":[],\"show-labels\":false,\"label\":\"name\",\"track-by\":\"id\"},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('contact-dropdown-item',{attrs:{\"thumbnail\":props.option.thumbnail,\"name\":props.option.name,\"identifier\":props.option.id,\"email\":props.option.email,\"phone-number\":props.option.phoneNumber}})]}}])})],1)])]),_vm._v(\" \"),_c('merge-contact-summary',{attrs:{\"primary-contact-name\":_vm.primaryContact.name,\"parent-contact-name\":_vm.parentContactName}}),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-end gap-2 mt-6\"},[_c('woot-button',{attrs:{\"variant\":\"clear\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onCancel.apply(null, arguments)}}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('MERGE_CONTACTS.FORM.CANCEL'))+\"\\n    \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"type\":\"submit\",\"is-loading\":_vm.isMerging}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('MERGE_CONTACTS.FORM.SUBMIT'))+\"\\n    \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onClose\">\n    <woot-modal-header\n      :header-title=\"$t('MERGE_CONTACTS.TITLE')\"\n      :header-content=\"$t('MERGE_CONTACTS.DESCRIPTION')\"\n    />\n\n    <merge-contact\n      :primary-contact=\"primaryContact\"\n      :is-searching=\"isSearching\"\n      :is-merging=\"uiFlags.isMerging\"\n      :search-results=\"searchResults\"\n      @search=\"onContactSearch\"\n      @cancel=\"onClose\"\n      @submit=\"onMergeContacts\"\n    />\n  </woot-modal>\n</template>\n\n<script>\nimport { useAlert } from 'dashboard/composables';\nimport MergeContact from 'dashboard/modules/contact/components/MergeContact.vue';\n\nimport ContactAPI from 'dashboard/api/contacts';\n\nimport { mapGetters } from 'vuex';\nimport { CONTACTS_EVENTS } from '../../helper/AnalyticsHelper/events';\n\nexport default {\n  components: { MergeContact },\n  props: {\n    primaryContact: {\n      type: Object,\n      required: true,\n    },\n    show: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      isSearching: false,\n      searchResults: [],\n    };\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'contacts/getUIFlags',\n    }),\n  },\n\n  methods: {\n    onClose() {\n      this.$emit('close');\n    },\n    async onContactSearch(query) {\n      this.isSearching = true;\n      this.searchResults = [];\n\n      try {\n        const {\n          data: { payload },\n        } = await ContactAPI.search(query);\n        this.searchResults = payload.filter(\n          contact => contact.id !== this.primaryContact.id\n        );\n      } catch (error) {\n        useAlert(this.$t('MERGE_CONTACTS.SEARCH.ERROR_MESSAGE'));\n      } finally {\n        this.isSearching = false;\n      }\n    },\n    async onMergeContacts(parentContactId) {\n      this.$track(CONTACTS_EVENTS.MERGED_CONTACTS);\n      try {\n        await this.$store.dispatch('contacts/merge', {\n          childId: this.primaryContact.id,\n          parentId: parentContactId,\n        });\n        useAlert(this.$t('MERGE_CONTACTS.FORM.SUCCESS_MESSAGE'));\n        this.onClose();\n      } catch (error) {\n        useAlert(this.$t('MERGE_CONTACTS.FORM.ERROR_MESSAGE'));\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactMergeModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactMergeModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactMergeModal.vue?vue&type=template&id=04e6a950&scoped=true&\"\nimport script from \"./ContactMergeModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactMergeModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04e6a950\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('MERGE_CONTACTS.TITLE'),\"header-content\":_vm.$t('MERGE_CONTACTS.DESCRIPTION')}}),_vm._v(\" \"),_c('merge-contact',{attrs:{\"primary-contact\":_vm.primaryContact,\"is-searching\":_vm.isSearching,\"is-merging\":_vm.uiFlags.isMerging,\"search-results\":_vm.searchResults},on:{\"search\":_vm.onContactSearch,\"cancel\":_vm.onClose,\"submit\":_vm.onMergeContacts}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"relative items-center w-full p-4 bg-white dark:bg-slate-900\">\n    <div class=\"flex flex-col w-full gap-2 text-left rtl:text-right\">\n      <div class=\"flex flex-row justify-between\">\n        <thumbnail\n          v-if=\"showAvatar\"\n          :src=\"contact.thumbnail\"\n          size=\"56px\"\n          :username=\"contact.name\"\n          :status=\"contact.availability_status\"\n        />\n        <woot-button\n          v-if=\"showCloseButton\"\n          :icon=\"closeIconName\"\n          class=\"clear secondary rtl:rotate-180\"\n          @click=\"onPanelToggle\"\n        />\n      </div>\n\n      <div class=\"flex flex-col items-start gap-1.5 min-w-0 w-full\">\n        <div v-if=\"showAvatar\" class=\"flex items-start w-full min-w-0 gap-2\">\n          <h3\n            class=\"flex-shrink max-w-full min-w-0 my-0 text-base capitalize break-words text-slate-800 dark:text-slate-100\"\n          >\n            {{ contact.name }}\n          </h3>\n          <div class=\"flex flex-row items-center gap-1\">\n            <fluent-icon\n              v-if=\"contact.created_at\"\n              v-tooltip.left=\"\n                `${$t('CONTACT_PANEL.CREATED_AT_LABEL')} ${dynamicTime(\n                  contact.created_at\n                )}`\n              \"\n              icon=\"info\"\n              size=\"14\"\n              class=\"mt-0.5\"\n            />\n            <a\n              :href=\"contactProfileLink\"\n              class=\"text-base\"\n              target=\"_blank\"\n              rel=\"noopener nofollow noreferrer\"\n            >\n              <woot-button\n                size=\"tiny\"\n                icon=\"open\"\n                variant=\"clear\"\n                color-scheme=\"secondary\"\n              />\n            </a>\n          </div>\n        </div>\n\n        <p v-if=\"additionalAttributes.description\" class=\"break-words mb-0.5\">\n          {{ additionalAttributes.description }}\n        </p>\n        <div class=\"flex flex-col items-start w-full gap-2\">\n          <contact-info-row\n            :href=\"contact.email ? `mailto:${contact.email}` : ''\"\n            :value=\"contact.email\"\n            icon=\"mail\"\n            emoji=\"✉️\"\n            :title=\"$t('CONTACT_PANEL.EMAIL_ADDRESS')\"\n            show-copy\n          />\n          <contact-info-row\n            :href=\"contact.phone_number ? `tel:${contact.phone_number}` : ''\"\n            :value=\"contact.phone_number\"\n            icon=\"call\"\n            emoji=\"📞\"\n            :title=\"$t('CONTACT_PANEL.PHONE_NUMBER')\"\n            show-copy\n          />\n          <contact-info-row\n            v-if=\"contact.identifier\"\n            :value=\"contact.identifier\"\n            icon=\"contact-identify\"\n            emoji=\"🪪\"\n            :title=\"$t('CONTACT_PANEL.IDENTIFIER')\"\n          />\n          <contact-info-row\n            :value=\"additionalAttributes.company_name\"\n            icon=\"building-bank\"\n            emoji=\"🏢\"\n            :title=\"$t('CONTACT_PANEL.COMPANY')\"\n          />\n          <contact-info-row\n            v-if=\"location || additionalAttributes.location\"\n            :value=\"location || additionalAttributes.location\"\n            icon=\"map\"\n            emoji=\"🌍\"\n            :title=\"$t('CONTACT_PANEL.LOCATION')\"\n          />\n          <social-icons :social-profiles=\"socialProfiles\" />\n        </div>\n      </div>\n      <div class=\"flex items-center w-full mt-0.5 gap-2\">\n        <woot-button\n          v-tooltip=\"$t('CONTACT_PANEL.NEW_MESSAGE')\"\n          title=\"$t('CONTACT_PANEL.NEW_MESSAGE')\"\n          icon=\"chat\"\n          size=\"small\"\n          @click=\"toggleConversationModal\"\n        />\n        <woot-button\n          v-tooltip=\"$t('EDIT_CONTACT.BUTTON_LABEL')\"\n          title=\"$t('EDIT_CONTACT.BUTTON_LABEL')\"\n          icon=\"edit\"\n          variant=\"smooth\"\n          size=\"small\"\n          @click=\"toggleEditModal\"\n        />\n        <woot-button\n          v-tooltip=\"$t('CONTACT_PANEL.MERGE_CONTACT')\"\n          title=\"$t('CONTACT_PANEL.MERGE_CONTACT')\"\n          icon=\"merge\"\n          variant=\"smooth\"\n          size=\"small\"\n          color-scheme=\"secondary\"\n          :disabled=\"uiFlags.isMerging\"\n          @click=\"openMergeModal\"\n        />\n        <woot-button\n          v-if=\"isAdmin\"\n          v-tooltip=\"$t('DELETE_CONTACT.BUTTON_LABEL')\"\n          title=\"$t('DELETE_CONTACT.BUTTON_LABEL')\"\n          icon=\"delete\"\n          variant=\"smooth\"\n          size=\"small\"\n          color-scheme=\"alert\"\n          :disabled=\"uiFlags.isDeleting\"\n          @click=\"toggleDeleteModal\"\n        />\n      </div>\n      <edit-contact\n        v-if=\"showEditModal\"\n        :show=\"showEditModal\"\n        :contact=\"contact\"\n        @cancel=\"toggleEditModal\"\n      />\n      <new-conversation\n        v-if=\"contact.id\"\n        :show=\"showConversationModal\"\n        :contact=\"contact\"\n        @cancel=\"toggleConversationModal\"\n      />\n      <contact-merge-modal\n        v-if=\"showMergeModal\"\n        :primary-contact=\"contact\"\n        :show=\"showMergeModal\"\n        @close=\"toggleMergeModal\"\n      />\n    </div>\n    <woot-delete-modal\n      v-if=\"showDeleteModal\"\n      :show.sync=\"showDeleteModal\"\n      :on-close=\"closeDelete\"\n      :on-confirm=\"confirmDeletion\"\n      :title=\"$t('DELETE_CONTACT.CONFIRM.TITLE')\"\n      :message=\"$t('DELETE_CONTACT.CONFIRM.MESSAGE')\"\n      :message-value=\"confirmDeleteMessage\"\n      :confirm-text=\"$t('DELETE_CONTACT.CONFIRM.YES')\"\n      :reject-text=\"$t('DELETE_CONTACT.CONFIRM.NO')\"\n    />\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport { dynamicTime } from 'shared/helpers/timeHelper';\nimport { useAdmin } from 'dashboard/composables/useAdmin';\nimport ContactInfoRow from './ContactInfoRow.vue';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport SocialIcons from './SocialIcons.vue';\nimport EditContact from './EditContact.vue';\nimport NewConversation from './NewConversation.vue';\nimport ContactMergeModal from 'dashboard/modules/contact/ContactMergeModal.vue';\nimport { getCountryFlag } from 'dashboard/helper/flag';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport {\n  isAConversationRoute,\n  isAInboxViewRoute,\n  getConversationDashboardRoute,\n} from '../../../../helper/routeHelpers';\n\nexport default {\n  components: {\n    ContactInfoRow,\n    EditContact,\n    Thumbnail,\n    SocialIcons,\n    NewConversation,\n    ContactMergeModal,\n  },\n  props: {\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n    channelType: {\n      type: String,\n      default: '',\n    },\n    showAvatar: {\n      type: Boolean,\n      default: true,\n    },\n    showCloseButton: {\n      type: Boolean,\n      default: true,\n    },\n    closeIconName: {\n      type: String,\n      default: 'chevron-right',\n    },\n  },\n  setup() {\n    const { isAdmin } = useAdmin();\n    return {\n      isAdmin,\n    };\n  },\n  data() {\n    return {\n      showEditModal: false,\n      showConversationModal: false,\n      showMergeModal: false,\n      showDeleteModal: false,\n    };\n  },\n  computed: {\n    ...mapGetters({ uiFlags: 'contacts/getUIFlags' }),\n    contactProfileLink() {\n      return `/app/accounts/${this.$route.params.accountId}/contacts/${this.contact.id}`;\n    },\n    additionalAttributes() {\n      return this.contact.additional_attributes || {};\n    },\n    location() {\n      const {\n        country = '',\n        city = '',\n        country_code: countryCode,\n      } = this.additionalAttributes;\n      const cityAndCountry = [city, country].filter(item => !!item).join(', ');\n\n      if (!cityAndCountry) {\n        return '';\n      }\n      return this.findCountryFlag(countryCode, cityAndCountry);\n    },\n    socialProfiles() {\n      const {\n        social_profiles: socialProfiles,\n        screen_name: twitterScreenName,\n      } = this.additionalAttributes;\n\n      return { twitter: twitterScreenName, ...(socialProfiles || {}) };\n    },\n    // Delete Modal\n    confirmDeleteMessage() {\n      return ` ${this.contact.name}?`;\n    },\n  },\n  methods: {\n    dynamicTime,\n    toggleMergeModal() {\n      this.showMergeModal = !this.showMergeModal;\n    },\n    toggleEditModal() {\n      this.showEditModal = !this.showEditModal;\n    },\n    onPanelToggle() {\n      this.$emit('toggle-panel');\n    },\n    toggleConversationModal() {\n      this.showConversationModal = !this.showConversationModal;\n      this.$emitter.emit(\n        BUS_EVENTS.NEW_CONVERSATION_MODAL,\n        this.showConversationModal\n      );\n    },\n    toggleDeleteModal() {\n      this.showDeleteModal = !this.showDeleteModal;\n    },\n    confirmDeletion() {\n      this.deleteContact(this.contact);\n      this.closeDelete();\n    },\n    closeDelete() {\n      this.showDeleteModal = false;\n      this.showConversationModal = false;\n      this.showEditModal = false;\n    },\n    findCountryFlag(countryCode, cityAndCountry) {\n      try {\n        const countryFlag = countryCode ? getCountryFlag(countryCode) : '🌎';\n        return `${cityAndCountry} ${countryFlag}`;\n      } catch (error) {\n        return '';\n      }\n    },\n    async deleteContact({ id }) {\n      try {\n        await this.$store.dispatch('contacts/delete', id);\n        this.$emit('panel-close');\n        useAlert(this.$t('DELETE_CONTACT.API.SUCCESS_MESSAGE'));\n\n        if (isAConversationRoute(this.$route.name)) {\n          this.$router.push({\n            name: getConversationDashboardRoute(this.$route.name),\n          });\n        } else if (isAInboxViewRoute(this.$route.name)) {\n          this.$router.push({\n            name: 'inbox_view',\n          });\n        } else if (this.$route.name !== 'contacts_dashboard') {\n          this.$router.push({\n            name: 'contacts_dashboard',\n          });\n        }\n      } catch (error) {\n        useAlert(\n          error.message\n            ? error.message\n            : this.$t('DELETE_CONTACT.API.ERROR_MESSAGE')\n        );\n      }\n    },\n    openMergeModal() {\n      this.toggleMergeModal();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactInfo.vue?vue&type=template&id=2d11a976&\"\nimport script from \"./ContactInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col w-full max-h-[12.5rem]\"},[_c('div',{staticClass:\"flex items-center justify-center mb-1\"},[_c('h4',{staticClass:\"text-sm text-slate-800 dark:text-slate-100 m-0 overflow-hidden whitespace-nowrap text-ellipsis flex-grow\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONTACT_PANEL.LABELS.LABEL_SELECT.TITLE'))+\"\\n    \")]),_vm._v(\" \"),_c('hotkey',{attrs:{\"custom-class\":\"text-slate-800 dark:text-slate-100 bg-slate-50 dark:bg-slate-600 text-xxs border border-solid border-slate-75 dark:border-slate-600\"}},[_vm._v(\"\\n      L\\n    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"mb-2 flex-shrink-0 flex-grow-0 flex-auto max-h-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],ref:\"searchbar\",staticClass:\"search-input\",attrs:{\"type\":\"text\",\"autofocus\":\"true\",\"placeholder\":_vm.$t('CONTACT_PANEL.LABELS.LABEL_SELECT.PLACEHOLDER')},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-start items-start flex-grow flex-shrink flex-auto overflow-auto\"},[_c('div',{staticClass:\"w-full\"},[_c('woot-dropdown-menu',_vm._l((_vm.filteredActiveLabels),function(label){return _c('label-dropdown-item',{key:label.title,attrs:{\"title\":label.title,\"color\":label.color,\"selected\":_vm.selectedLabels.includes(label.title)},on:{\"click\":function($event){return _vm.onAddRemove(label)}}})}),1),_vm._v(\" \"),(_vm.noResult)?_c('div',{staticClass:\"flex justify-center py-4 px-2.5 font-medium text-xs text-slate-700 dark:text-slate-200\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_PANEL.LABELS.LABEL_SELECT.NO_RESULT'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.allowCreation && _vm.shouldShowCreate)?_c('div',{staticClass:\"flex pt-1 border-t border-solid border-slate-100 dark:border-slate-900\"},[_c('woot-button',{staticClass:\"button-new-label\",attrs:{\"size\":\"small\",\"variant\":\"clear\",\"color-scheme\":\"secondary\",\"icon\":\"add\",\"is-expanded\":\"\",\"is-disabled\":_vm.hasExactMatchInResults},on:{\"click\":_vm.showCreateModal}},[_vm._v(\"\\n          \"+_vm._s(_vm.createLabelPlaceholder)+\"\\n          \"+_vm._s(_vm.parsedSearch)+\"\\n        \")]),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.createModalVisible,\"on-close\":_vm.hideCreateModal},on:{\"update:show\":function($event){_vm.createModalVisible=$event}}},[_c('add-label-modal',{attrs:{\"prefill-title\":_vm.parsedSearch},on:{\"close\":_vm.hideCreateModal}})],1)],1):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdownItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdownItem.vue?vue&type=script&lang=js&\"","<template>\n  <woot-dropdown-item>\n    <div class=\"item-wrap\">\n      <woot-button variant=\"clear\" @click=\"onClick\">\n        <div class=\"button-wrap\">\n          <div class=\"name-label-wrap\">\n            <div\n              v-if=\"color\"\n              class=\"label-color--display\"\n              :style=\"{ backgroundColor: color }\"\n            />\n            <span class=\"label-text\" :title=\"title\">{{ title }}</span>\n          </div>\n          <div>\n            <i v-if=\"selected\" class=\"icon ion-checkmark-round\" />\n          </div>\n        </div>\n      </woot-button>\n    </div>\n  </woot-dropdown-item>\n</template>\n\n<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    color: {\n      type: String,\n      default: '',\n    },\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    onClick() {\n      this.$emit('click', this.title);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.item-wrap {\n  @apply flex;\n\n  ::v-deep .button__content {\n    @apply w-full;\n  }\n\n  .button-wrap {\n    @apply flex justify-between w-full;\n\n    &.active {\n      @apply flex font-semibold text-woot-700 dark:text-woot-600;\n    }\n\n    .name-label-wrap {\n      @apply flex min-w-0 w-full;\n\n      .label-color--display {\n        @apply mr-2 rtl:mr-0 rtl:ml-2;\n      }\n\n      .label-text {\n        @apply overflow-hidden text-ellipsis whitespace-nowrap leading-[1.1] pr-2;\n      }\n\n      .icon {\n        @apply text-sm;\n      }\n    }\n  }\n\n  .label-color--display {\n    @apply rounded-md h-3 mr-1 rtl:mr-0 rtl:ml-1 mt-0.5 min-w-[0.75rem] w-3 border border-solid border-slate-50 dark:border-slate-600;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./LabelDropdownItem.vue?vue&type=template&id=e83c4bc0&scoped=true&\"\nimport script from \"./LabelDropdownItem.vue?vue&type=script&lang=js&\"\nexport * from \"./LabelDropdownItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LabelDropdownItem.vue?vue&type=style&index=0&id=e83c4bc0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e83c4bc0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-dropdown-item',[_c('div',{staticClass:\"item-wrap\"},[_c('woot-button',{attrs:{\"variant\":\"clear\"},on:{\"click\":_vm.onClick}},[_c('div',{staticClass:\"button-wrap\"},[_c('div',{staticClass:\"name-label-wrap\"},[(_vm.color)?_c('div',{staticClass:\"label-color--display\",style:({ backgroundColor: _vm.color })}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"label-text\",attrs:{\"title\":_vm.title}},[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),_c('div',[(_vm.selected)?_c('i',{staticClass:\"icon ion-checkmark-round\"}):_vm._e()])])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const labelSanitizePattern = /[^a-zA-Z0-9_-]/g;\nexport const spacesPattern = /\\s+/g;\n\n/**\n * Sanitizes a label by removing unwanted characters and replacing spaces with hyphens.\n *\n * @param {string | undefined | null} label - The label to sanitize.\n * @returns {string} The sanitized label.\n *\n * @example\n * const label = 'My Label 123';\n * const sanitizedLabel = sanitizeLabel(label); // 'my-label-123'\n */\nexport const sanitizeLabel = (label = '') => {\n  if (!label) return '';\n\n  return label\n    .trim()\n    .toLowerCase()\n    .replace(spacesPattern, '-')\n    .replace(labelSanitizePattern, '');\n};\n","<template>\n  <div class=\"flex flex-col w-full max-h-[12.5rem]\">\n    <div class=\"flex items-center justify-center mb-1\">\n      <h4\n        class=\"text-sm text-slate-800 dark:text-slate-100 m-0 overflow-hidden whitespace-nowrap text-ellipsis flex-grow\"\n      >\n        {{ $t('CONTACT_PANEL.LABELS.LABEL_SELECT.TITLE') }}\n      </h4>\n      <hotkey\n        custom-class=\"text-slate-800 dark:text-slate-100 bg-slate-50 dark:bg-slate-600 text-xxs border border-solid border-slate-75 dark:border-slate-600\"\n      >\n        L\n      </hotkey>\n    </div>\n    <div class=\"mb-2 flex-shrink-0 flex-grow-0 flex-auto max-h-8\">\n      <input\n        ref=\"searchbar\"\n        v-model=\"search\"\n        type=\"text\"\n        class=\"search-input\"\n        autofocus=\"true\"\n        :placeholder=\"$t('CONTACT_PANEL.LABELS.LABEL_SELECT.PLACEHOLDER')\"\n      />\n    </div>\n    <div\n      class=\"flex justify-start items-start flex-grow flex-shrink flex-auto overflow-auto\"\n    >\n      <div class=\"w-full\">\n        <woot-dropdown-menu>\n          <label-dropdown-item\n            v-for=\"label in filteredActiveLabels\"\n            :key=\"label.title\"\n            :title=\"label.title\"\n            :color=\"label.color\"\n            :selected=\"selectedLabels.includes(label.title)\"\n            @click=\"onAddRemove(label)\"\n          />\n        </woot-dropdown-menu>\n        <div\n          v-if=\"noResult\"\n          class=\"flex justify-center py-4 px-2.5 font-medium text-xs text-slate-700 dark:text-slate-200\"\n        >\n          {{ $t('CONTACT_PANEL.LABELS.LABEL_SELECT.NO_RESULT') }}\n        </div>\n        <div\n          v-if=\"allowCreation && shouldShowCreate\"\n          class=\"flex pt-1 border-t border-solid border-slate-100 dark:border-slate-900\"\n        >\n          <woot-button\n            size=\"small\"\n            variant=\"clear\"\n            color-scheme=\"secondary\"\n            icon=\"add\"\n            is-expanded\n            class=\"button-new-label\"\n            :is-disabled=\"hasExactMatchInResults\"\n            @click=\"showCreateModal\"\n          >\n            {{ createLabelPlaceholder }}\n            {{ parsedSearch }}\n          </woot-button>\n\n          <woot-modal\n            :show.sync=\"createModalVisible\"\n            :on-close=\"hideCreateModal\"\n          >\n            <add-label-modal\n              :prefill-title=\"parsedSearch\"\n              @close=\"hideCreateModal\"\n            />\n          </woot-modal>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LabelDropdownItem from './LabelDropdownItem.vue';\nimport Hotkey from 'dashboard/components/base/Hotkey.vue';\nimport AddLabelModal from 'dashboard/routes/dashboard/settings/labels/AddLabel.vue';\nimport { picoSearch } from '@scmmishra/pico-search';\nimport { sanitizeLabel } from 'shared/helpers/sanitizeData';\n\nexport default {\n  components: {\n    LabelDropdownItem,\n    AddLabelModal,\n    Hotkey,\n  },\n\n  props: {\n    accountLabels: {\n      type: Array,\n      default: () => [],\n    },\n    selectedLabels: {\n      type: Array,\n      default: () => [],\n    },\n    allowCreation: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    return {\n      search: '',\n      createModalVisible: false,\n    };\n  },\n\n  computed: {\n    createLabelPlaceholder() {\n      const label = this.$t('CONTACT_PANEL.LABELS.LABEL_SELECT.CREATE_LABEL');\n      return this.search ? `${label}:` : label;\n    },\n\n    filteredActiveLabels() {\n      if (!this.search) return this.accountLabels;\n\n      return picoSearch(this.accountLabels, this.search, ['title'], {\n        threshold: 0.9,\n      });\n    },\n\n    noResult() {\n      return this.filteredActiveLabels.length === 0;\n    },\n\n    hasExactMatchInResults() {\n      return this.filteredActiveLabels.some(\n        label => label.title === this.search\n      );\n    },\n\n    shouldShowCreate() {\n      return this.allowCreation && this.filteredActiveLabels.length < 3;\n    },\n\n    parsedSearch() {\n      return sanitizeLabel(this.search);\n    },\n  },\n\n  mounted() {\n    this.focusInput();\n  },\n\n  methods: {\n    focusInput() {\n      this.$refs.searchbar.focus();\n    },\n\n    updateLabels(label) {\n      this.$emit('update', label);\n    },\n\n    onAdd(label) {\n      this.$emit('add', label);\n    },\n\n    onRemove(label) {\n      this.$emit('remove', label);\n    },\n\n    onAddRemove(label) {\n      if (this.selectedLabels.includes(label.title)) {\n        this.onRemove(label.title);\n      } else {\n        this.onAdd(label);\n      }\n    },\n\n    showCreateModal() {\n      this.createModalVisible = true;\n    },\n\n    hideCreateModal() {\n      this.createModalVisible = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.hotkey {\n  @apply flex-shrink-0;\n}\n\n.search-input {\n  @apply m-0 w-full border border-solid border-transparent h-8 text-sm text-slate-700 dark:text-slate-100 rounded-md focus:border-woot-500 bg-slate-50 dark:bg-slate-900;\n}\n\n.button-new-label {\n  @apply whitespace-nowrap text-ellipsis overflow-hidden items-center;\n\n  .icon {\n    @apply min-w-0;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LabelDropdown.vue?vue&type=template&id=65d69bf0&scoped=true&\"\nimport script from \"./LabelDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./LabelDropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LabelDropdown.vue?vue&type=style&index=0&id=65d69bf0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65d69bf0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"-mt-px text-sm\"},[_c('button',{staticClass:\"flex items-center select-none w-full rounded-none bg-slate-50 dark:bg-slate-800 border border-l-0 border-r-0 border-solid m-0 border-slate-100 dark:border-slate-700/50 cursor-grab justify-between py-2 px-4 drag-handle\",on:{\"click\":function($event){return _vm.$emit('click')}}},[_c('div',{staticClass:\"flex justify-between mb-0.5\"},[_c('emoji-or-icon',{staticClass:\"inline-block w-5\",attrs:{\"icon\":_vm.icon,\"emoji\":_vm.emoji}}),_vm._v(\" \"),_c('h5',{staticClass:\"text-slate-800 text-sm dark:text-slate-100 mb-0 py-0 pr-2 pl-0\"},[_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n      \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row\"},[_vm._t(\"button\"),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-end w-3 text-woot-500\"},[(_vm.isOpen)?_c('fluent-icon',{attrs:{\"size\":\"24\",\"icon\":\"subtract\",\"type\":\"solid\"}}):_c('fluent-icon',{attrs:{\"size\":\"24\",\"icon\":\"add\",\"type\":\"solid\"}})],1)],2)]),_vm._v(\" \"),(_vm.isOpen)?_c('div',{staticClass:\"bg-white dark:bg-slate-900\",class:_vm.compact ? 'p-0' : 'p-4'},[_vm._t(\"default\")],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccordionItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccordionItem.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"-mt-px text-sm\">\n    <button\n      class=\"flex items-center select-none w-full rounded-none bg-slate-50 dark:bg-slate-800 border border-l-0 border-r-0 border-solid m-0 border-slate-100 dark:border-slate-700/50 cursor-grab justify-between py-2 px-4 drag-handle\"\n      @click=\"$emit('click')\"\n    >\n      <div class=\"flex justify-between mb-0.5\">\n        <emoji-or-icon class=\"inline-block w-5\" :icon=\"icon\" :emoji=\"emoji\" />\n        <h5\n          class=\"text-slate-800 text-sm dark:text-slate-100 mb-0 py-0 pr-2 pl-0\"\n        >\n          {{ title }}\n        </h5>\n      </div>\n      <div class=\"flex flex-row\">\n        <slot name=\"button\" />\n        <div class=\"flex justify-end w-3 text-woot-500\">\n          <fluent-icon v-if=\"isOpen\" size=\"24\" icon=\"subtract\" type=\"solid\" />\n          <fluent-icon v-else size=\"24\" icon=\"add\" type=\"solid\" />\n        </div>\n      </div>\n    </button>\n    <div\n      v-if=\"isOpen\"\n      class=\"bg-white dark:bg-slate-900\"\n      :class=\"compact ? 'p-0' : 'p-4'\"\n    >\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nimport EmojiOrIcon from 'shared/components/EmojiOrIcon.vue';\n\nexport default {\n  components: {\n    EmojiOrIcon,\n  },\n  props: {\n    title: {\n      type: String,\n      required: true,\n    },\n    compact: {\n      type: Boolean,\n      default: false,\n    },\n    icon: {\n      type: String,\n      default: '',\n    },\n    emoji: {\n      type: String,\n      default: '',\n    },\n    isOpen: {\n      type: Boolean,\n      default: true,\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./AccordionItem.vue?vue&type=template&id=8c0c39fc&\"\nimport script from \"./AccordionItem.vue?vue&type=script&lang=js&\"\nexport * from \"./AccordionItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"contact-conversation--panel\"},[(!_vm.uiFlags.isFetching)?_c('div',{staticClass:\"contact-conversation__wrap\"},[(!_vm.previousConversations.length)?_c('div',{staticClass:\"no-label-message\"},[_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_PANEL.CONVERSATIONS.NO_RECORDS_FOUND'))+\"\\n      \")])]):_c('div',{staticClass:\"contact-conversation--list\"},_vm._l((_vm.previousConversations),function(conversation){return _c('conversation-card',{key:conversation.id,staticClass:\"compact\",attrs:{\"chat\":conversation,\"hide-inbox-name\":false,\"hide-thumbnail\":true}})}),1)]):_c('spinner')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"contact-conversation--panel\">\n    <div v-if=\"!uiFlags.isFetching\" class=\"contact-conversation__wrap\">\n      <div v-if=\"!previousConversations.length\" class=\"no-label-message\">\n        <span>\n          {{ $t('CONTACT_PANEL.CONVERSATIONS.NO_RECORDS_FOUND') }}\n        </span>\n      </div>\n      <div v-else class=\"contact-conversation--list\">\n        <conversation-card\n          v-for=\"conversation in previousConversations\"\n          :key=\"conversation.id\"\n          :chat=\"conversation\"\n          :hide-inbox-name=\"false\"\n          :hide-thumbnail=\"true\"\n          class=\"compact\"\n        />\n      </div>\n    </div>\n    <spinner v-else />\n  </div>\n</template>\n\n<script>\nimport ConversationCard from 'dashboard/components/widgets/conversation/ConversationCard.vue';\nimport { mapGetters } from 'vuex';\nimport Spinner from 'shared/components/Spinner.vue';\n\nexport default {\n  components: {\n    ConversationCard,\n    Spinner,\n  },\n  props: {\n    contactId: {\n      type: [String, Number],\n      required: true,\n    },\n    conversationId: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n  computed: {\n    conversations() {\n      return this.$store.getters['contactConversations/getContactConversation'](\n        this.contactId\n      );\n    },\n    previousConversations() {\n      return this.conversations.filter(\n        conversation => conversation.id !== Number(this.conversationId)\n      );\n    },\n    ...mapGetters({\n      uiFlags: 'contactConversations/getUIFlags',\n    }),\n  },\n  watch: {\n    contactId(newContactId, prevContactId) {\n      if (newContactId && newContactId !== prevContactId) {\n        this.$store.dispatch('contactConversations/get', newContactId);\n      }\n    },\n  },\n  mounted() {\n    this.$store.dispatch('contactConversations/get', this.contactId);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.no-label-message {\n  @apply text-slate-500 dark:text-slate-400 mb-4;\n}\n\n::v-deep .conversation {\n  @apply pr-0;\n  .conversation--details {\n    @apply pl-2;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactConversations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactConversations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactConversations.vue?vue&type=template&id=bf2c0356&scoped=true&\"\nimport script from \"./ContactConversations.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactConversations.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactConversations.vue?vue&type=style&index=0&id=bf2c0356&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf2c0356\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-button',{staticClass:\"label--add\",attrs:{\"variant\":\"smooth\",\"icon\":\"add\",\"size\":\"tiny\"},on:{\"click\":_vm.addLabel}},[_vm._v(\"\\n  \"+_vm._s(_vm.$t('CONTACT_PANEL.LABELS.CONVERSATION.ADD_BUTTON'))+\"\\n\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=script&lang=js&\"","<template>\n  <woot-button\n    variant=\"smooth\"\n    class=\"label--add\"\n    icon=\"add\"\n    size=\"tiny\"\n    @click=\"addLabel\"\n  >\n    {{ $t('CONTACT_PANEL.LABELS.CONVERSATION.ADD_BUTTON') }}\n  </woot-button>\n</template>\n\n<script>\nexport default {\n  methods: {\n    addLabel() {\n      this.$emit('add');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.label--add {\n  margin-bottom: var(--space-micro);\n  margin-right: var(--space-micro);\n}\n</style>\n","import { render, staticRenderFns } from \"./AddLabel.vue?vue&type=template&id=37ec2225&scoped=true&\"\nimport script from \"./AddLabel.vue?vue&type=script&lang=js&\"\nexport * from \"./AddLabel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddLabel.vue?vue&type=style&index=0&id=37ec2225&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37ec2225\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\nvar fromCharCode = String.fromCharCode;\n// eslint-disable-next-line es/no-string-fromcodepoint -- required for testing\nvar $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\nvar INCORRECT_LENGTH = !!$fromCodePoint && $fromCodePoint.length != 1;\n\n// `String.fromCodePoint` method\n// https://tc39.es/ecma262/#sec-string.fromcodepoint\n$({ target: 'String', stat: true, forced: INCORRECT_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  fromCodePoint: function fromCodePoint(x) {\n    var elements = [];\n    var length = arguments.length;\n    var i = 0;\n    var code;\n    while (length > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10FFFF) !== code) throw RangeError(code + ' is not a valid code point');\n      elements.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xD800, code % 0x400 + 0xDC00)\n      );\n    } return elements.join('');\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"relative w-1/4 h-full overflow-y-auto text-sm bg-white dark:bg-slate-900 border-slate-50 dark:border-slate-800/50\",class:_vm.showAvatar ? 'border-l border-solid ' : 'border-r border-solid'},[_c('contact-info',{attrs:{\"show-close-button\":_vm.showCloseButton,\"show-avatar\":_vm.showAvatar,\"contact\":_vm.contact,\"close-icon-name\":\"dismiss\"},on:{\"panel-close\":_vm.onClose,\"toggle-panel\":_vm.onClose}}),_vm._v(\" \"),_c('draggable',{staticClass:\"list-group\",attrs:{\"list\":_vm.contactSidebarItems,\"disabled\":!_vm.dragEnabled,\"ghost-class\":\"ghost\"},on:{\"start\":function($event){_vm.dragging = true},\"end\":_vm.onDragEnd}},[_c('transition-group',_vm._l((_vm.contactSidebarItems),function(element){return _c('div',{key:element.name,staticClass:\"list-group-item\"},[(element.name === 'contact_attributes')?_c('div',[_c('accordion-item',{attrs:{\"title\":_vm.$t('CONVERSATION_SIDEBAR.ACCORDION.CONTACT_ATTRIBUTES'),\"is-open\":_vm.isContactSidebarItemOpen('is_ct_custom_attr_open'),\"compact\":\"\"},on:{\"click\":value => _vm.toggleSidebarUIState('is_ct_custom_attr_open', value)}},[_c('custom-attributes',{staticClass:\"even\",attrs:{\"contact-id\":_vm.contact.id,\"attribute-type\":\"contact_attribute\",\"attribute-class\":\"conversation--attribute\",\"attribute-from\":\"contact_panel\",\"custom-attributes\":_vm.contact.custom_attributes,\"empty-state-message\":_vm.$t('CONTACT_PANEL.SIDEBAR_SECTIONS.NO_RECORDS_FOUND')}})],1)],1):_vm._e(),_vm._v(\" \"),(element.name === 'contact_labels')?_c('div',[_c('accordion-item',{attrs:{\"title\":_vm.$t('CONTACT_PANEL.SIDEBAR_SECTIONS.CONTACT_LABELS'),\"is-open\":_vm.isContactSidebarItemOpen('is_ct_labels_open')},on:{\"click\":value => _vm.toggleSidebarUIState('is_ct_labels_open', value)}},[_c('contact-label',{staticClass:\"contact-labels\",attrs:{\"contact-id\":_vm.contact.id}})],1)],1):_vm._e(),_vm._v(\" \"),(element.name === 'previous_conversation')?_c('div',[_c('accordion-item',{attrs:{\"title\":_vm.$t('CONTACT_PANEL.SIDEBAR_SECTIONS.PREVIOUS_CONVERSATIONS'),\"is-open\":_vm.isContactSidebarItemOpen('is_ct_prev_conv_open')},on:{\"click\":value => _vm.toggleSidebarUIState('is_ct_prev_conv_open', value)}},[(_vm.contact.id)?_c('contact-conversations',{attrs:{\"contact-id\":_vm.contact.id,\"conversation-id\":\"\"}}):_vm._e()],1)],1):_vm._e()])}),0)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelSelector.vue?vue&type=script&lang=js&\"","<template>\n  <div v-on-clickaway=\"closeDropdownLabel\" class=\"label-wrap\">\n    <add-label @add=\"toggleLabels\" />\n    <woot-label\n      v-for=\"label in savedLabels\"\n      :key=\"label.id\"\n      :title=\"label.title\"\n      :description=\"label.description\"\n      :show-close=\"true\"\n      :color=\"label.color\"\n      variant=\"smooth\"\n      @click=\"removeItem\"\n    />\n    <div class=\"dropdown-wrap\">\n      <div\n        :class=\"{ 'dropdown-pane--open': showSearchDropdownLabel }\"\n        class=\"dropdown-pane\"\n      >\n        <label-dropdown\n          v-if=\"showSearchDropdownLabel\"\n          :account-labels=\"allLabels\"\n          :selected-labels=\"selectedLabels\"\n          :allow-creation=\"isAdmin\"\n          @add=\"addItem\"\n          @remove=\"removeItem\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AddLabel from 'shared/components/ui/dropdown/AddLabel.vue';\nimport keyboardEventListenerMixins from 'shared/mixins/keyboardEventListenerMixins';\nimport LabelDropdown from 'shared/components/ui/label/LabelDropdown.vue';\nimport { useAdmin } from 'dashboard/composables/useAdmin';\n\nexport default {\n  components: {\n    AddLabel,\n    LabelDropdown,\n  },\n\n  mixins: [keyboardEventListenerMixins],\n\n  props: {\n    allLabels: {\n      type: Array,\n      default: () => [],\n    },\n    savedLabels: {\n      type: Array,\n      default: () => [],\n    },\n  },\n\n  setup() {\n    const { isAdmin } = useAdmin();\n    return {\n      isAdmin,\n    };\n  },\n\n  data() {\n    return {\n      showSearchDropdownLabel: false,\n    };\n  },\n\n  computed: {\n    selectedLabels() {\n      return this.savedLabels.map(label => label.title);\n    },\n  },\n\n  methods: {\n    addItem(label) {\n      this.$emit('add', label);\n    },\n\n    removeItem(label) {\n      this.$emit('remove', label);\n    },\n\n    toggleLabels() {\n      this.showSearchDropdownLabel = !this.showSearchDropdownLabel;\n    },\n\n    closeDropdownLabel() {\n      this.showSearchDropdownLabel = false;\n    },\n    getKeyboardEvents() {\n      return {\n        KeyL: {\n          action: e => {\n            this.toggleLabels();\n            e.preventDefault();\n          },\n        },\n        Escape: {\n          action: () => this.closeDropdownLabel(),\n          allowOnFocusedInput: true,\n        },\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.title-icon {\n  margin-right: var(--space-smaller);\n}\n\n.label-wrap {\n  position: relative;\n  line-height: var(--space-medium);\n\n  .dropdown-wrap {\n    display: flex;\n    position: absolute;\n    margin-right: var(--space-medium);\n    top: var(--space-medium);\n    width: 100%;\n    left: -1px;\n\n    .dropdown-pane {\n      width: 100%;\n      box-sizing: border-box;\n    }\n  }\n}\n</style>\n","<template>\n  <label-selector\n    :all-labels=\"allLabels\"\n    :saved-labels=\"savedLabels\"\n    @add=\"addItem\"\n    @remove=\"removeItem\"\n  />\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport LabelSelector from 'dashboard/components/widgets/LabelSelector.vue';\n\nexport default {\n  components: { LabelSelector },\n  props: {\n    contactId: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n\n  computed: {\n    savedLabels() {\n      const availableContactLabels = this.$store.getters[\n        'contactLabels/getContactLabels'\n      ](this.contactId);\n      return this.allLabels.filter(({ title }) =>\n        availableContactLabels.includes(title)\n      );\n    },\n\n    ...mapGetters({\n      labelUiFlags: 'contactLabels/getUIFlags',\n      allLabels: 'labels/getLabels',\n    }),\n  },\n\n  watch: {\n    contactId(newContactId, prevContactId) {\n      if (newContactId && newContactId !== prevContactId) {\n        this.fetchLabels(newContactId);\n      }\n    },\n  },\n\n  mounted() {\n    const { contactId } = this;\n    this.fetchLabels(contactId);\n  },\n\n  methods: {\n    async onUpdateLabels(selectedLabels) {\n      try {\n        await this.$store.dispatch('contactLabels/update', {\n          contactId: this.contactId,\n          labels: selectedLabels,\n        });\n      } catch (error) {\n        useAlert(this.$t('CONTACT_PANEL.LABELS.CONTACT.ERROR'));\n      }\n    },\n\n    addItem(value) {\n      const result = this.savedLabels.map(item => item.title);\n      result.push(value.title);\n      this.onUpdateLabels(result);\n    },\n\n    removeItem(value) {\n      const result = this.savedLabels\n        .map(label => label.title)\n        .filter(label => label !== value);\n      this.onUpdateLabels(result);\n    },\n\n    async fetchLabels(contactId) {\n      if (!contactId) {\n        return;\n      }\n      this.$store.dispatch('contactLabels/get', contactId);\n    },\n  },\n};\n</script>\n\n<style></style>\n","import { render, staticRenderFns } from \"./LabelSelector.vue?vue&type=template&id=70783c9c&scoped=true&\"\nimport script from \"./LabelSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./LabelSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LabelSelector.vue?vue&type=style&index=0&id=70783c9c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70783c9c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.closeDropdownLabel),expression:\"closeDropdownLabel\"}],staticClass:\"label-wrap\"},[_c('add-label',{on:{\"add\":_vm.toggleLabels}}),_vm._v(\" \"),_vm._l((_vm.savedLabels),function(label){return _c('woot-label',{key:label.id,attrs:{\"title\":label.title,\"description\":label.description,\"show-close\":true,\"color\":label.color,\"variant\":\"smooth\"},on:{\"click\":_vm.removeItem}})}),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-wrap\"},[_c('div',{staticClass:\"dropdown-pane\",class:{ 'dropdown-pane--open': _vm.showSearchDropdownLabel }},[(_vm.showSearchDropdownLabel)?_c('label-dropdown',{attrs:{\"account-labels\":_vm.allLabels,\"selected-labels\":_vm.selectedLabels,\"allow-creation\":_vm.isAdmin},on:{\"add\":_vm.addItem,\"remove\":_vm.removeItem}}):_vm._e()],1)])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactLabels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactLabels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactLabels.vue?vue&type=template&id=4aa16560&\"\nimport script from \"./ContactLabels.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactLabels.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('label-selector',{attrs:{\"all-labels\":_vm.allLabels,\"saved-labels\":_vm.savedLabels},on:{\"add\":_vm.addItem,\"remove\":_vm.removeItem}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfoPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfoPanel.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    class=\"relative w-1/4 h-full overflow-y-auto text-sm bg-white dark:bg-slate-900 border-slate-50 dark:border-slate-800/50\"\n    :class=\"showAvatar ? 'border-l border-solid ' : 'border-r border-solid'\"\n  >\n    <contact-info\n      :show-close-button=\"showCloseButton\"\n      :show-avatar=\"showAvatar\"\n      :contact=\"contact\"\n      close-icon-name=\"dismiss\"\n      @panel-close=\"onClose\"\n      @toggle-panel=\"onClose\"\n    />\n    <draggable\n      :list=\"contactSidebarItems\"\n      :disabled=\"!dragEnabled\"\n      class=\"list-group\"\n      ghost-class=\"ghost\"\n      @start=\"dragging = true\"\n      @end=\"onDragEnd\"\n    >\n      <transition-group>\n        <div\n          v-for=\"element in contactSidebarItems\"\n          :key=\"element.name\"\n          class=\"list-group-item\"\n        >\n          <div v-if=\"element.name === 'contact_attributes'\">\n            <accordion-item\n              :title=\"$t('CONVERSATION_SIDEBAR.ACCORDION.CONTACT_ATTRIBUTES')\"\n              :is-open=\"isContactSidebarItemOpen('is_ct_custom_attr_open')\"\n              compact\n              @click=\"\n                value => toggleSidebarUIState('is_ct_custom_attr_open', value)\n              \"\n            >\n              <custom-attributes\n                :contact-id=\"contact.id\"\n                attribute-type=\"contact_attribute\"\n                attribute-class=\"conversation--attribute\"\n                attribute-from=\"contact_panel\"\n                :custom-attributes=\"contact.custom_attributes\"\n                :empty-state-message=\"\n                  $t('CONTACT_PANEL.SIDEBAR_SECTIONS.NO_RECORDS_FOUND')\n                \"\n                class=\"even\"\n              />\n            </accordion-item>\n          </div>\n          <div v-if=\"element.name === 'contact_labels'\">\n            <accordion-item\n              :title=\"$t('CONTACT_PANEL.SIDEBAR_SECTIONS.CONTACT_LABELS')\"\n              :is-open=\"isContactSidebarItemOpen('is_ct_labels_open')\"\n              @click=\"value => toggleSidebarUIState('is_ct_labels_open', value)\"\n            >\n              <contact-label :contact-id=\"contact.id\" class=\"contact-labels\" />\n            </accordion-item>\n          </div>\n          <div v-if=\"element.name === 'previous_conversation'\">\n            <accordion-item\n              :title=\"\n                $t('CONTACT_PANEL.SIDEBAR_SECTIONS.PREVIOUS_CONVERSATIONS')\n              \"\n              :is-open=\"isContactSidebarItemOpen('is_ct_prev_conv_open')\"\n              @click=\"\n                value => toggleSidebarUIState('is_ct_prev_conv_open', value)\n              \"\n            >\n              <contact-conversations\n                v-if=\"contact.id\"\n                :contact-id=\"contact.id\"\n                conversation-id=\"\"\n              />\n            </accordion-item>\n          </div>\n        </div>\n      </transition-group>\n    </draggable>\n  </div>\n</template>\n\n<script>\nimport AccordionItem from 'dashboard/components/Accordion/AccordionItem.vue';\nimport ContactConversations from 'dashboard/routes/dashboard/conversation/ContactConversations.vue';\nimport ContactInfo from 'dashboard/routes/dashboard/conversation/contact/ContactInfo.vue';\nimport ContactLabel from 'dashboard/routes/dashboard/contacts/components/ContactLabels.vue';\nimport CustomAttributes from 'dashboard/routes/dashboard/conversation/customAttributes/CustomAttributes.vue';\nimport draggable from 'vuedraggable';\nimport { useUISettings } from 'dashboard/composables/useUISettings';\n\nexport default {\n  components: {\n    AccordionItem,\n    ContactConversations,\n    ContactInfo,\n    ContactLabel,\n    CustomAttributes,\n    draggable,\n  },\n  props: {\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n    onClose: {\n      type: Function,\n      default: () => {},\n    },\n    showAvatar: {\n      type: Boolean,\n      default: true,\n    },\n    showCloseButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  setup() {\n    const {\n      updateUISettings,\n      isContactSidebarItemOpen,\n      contactSidebarItemsOrder,\n      toggleSidebarUIState,\n    } = useUISettings();\n\n    return {\n      updateUISettings,\n      isContactSidebarItemOpen,\n      contactSidebarItemsOrder,\n      toggleSidebarUIState,\n    };\n  },\n  data() {\n    return {\n      dragEnabled: true,\n      contactSidebarItems: [],\n      dragging: false,\n    };\n  },\n  computed: {\n    hasContactAttributes() {\n      const { custom_attributes: customAttributes } = this.contact;\n      return customAttributes && Object.keys(customAttributes).length;\n    },\n  },\n  mounted() {\n    this.contactSidebarItems = this.contactSidebarItemsOrder;\n  },\n  methods: {\n    onDragEnd() {\n      this.dragging = false;\n      this.updateUISettings({\n        contact_sidebar_items_order: this.contactSidebarItems,\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep {\n  .contact--profile {\n    @apply pb-3 mb-4;\n  }\n}\n\n.list-group {\n  .list-group-item {\n    @apply bg-white dark:bg-slate-900;\n  }\n}\n\n.conversation--details {\n  @apply py-0 px-4;\n}\n</style>\n","import { render, staticRenderFns } from \"./ContactInfoPanel.vue?vue&type=template&id=50b43a42&scoped=true&\"\nimport script from \"./ContactInfoPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactInfoPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactInfoPanel.vue?vue&type=style&index=0&id=50b43a42&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50b43a42\",\n  null\n  \n)\n\nexport default component.exports","import toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_HOUR = 3600000;\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar DEFAULT_ADDITIONAL_DIGITS = 2;\nvar patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/\n};\nvar dateRegex = /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nvar timeRegex = /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nvar timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The previous `parse` implementation was renamed to `parseISO`.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   parse('2016-01-01')\n *\n *   // v2.0.0 onward\n *   parseISO('2016-01-01')\n *   ```\n *\n * - `parseISO` now validates separate date and time values in ISO-8601 strings\n *   and returns `Invalid Date` if the date is invalid.\n *\n *   ```javascript\n *   parseISO('2018-13-32')\n *   //=> Invalid Date\n *   ```\n *\n * - `parseISO` now doesn't fall back to `new Date` constructor\n *   if it fails to parse a string argument. Instead, it returns `Invalid Date`.\n *\n * @param {String} argument - the value to convert\n * @param {Object} [options] - an object with options.\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * var result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\n\nexport default function parseISO(argument, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var additionalDigits = options.additionalDigits == null ? DEFAULT_ADDITIONAL_DIGITS : toInteger(options.additionalDigits);\n\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2');\n  }\n\n  if (!(typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]')) {\n    return new Date(NaN);\n  }\n\n  var dateStrings = splitDateString(argument);\n  var date;\n\n  if (dateStrings.date) {\n    var parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (isNaN(date) || !date) {\n    return new Date(NaN);\n  }\n\n  var timestamp = date.getTime();\n  var time = 0;\n  var offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n\n    if (isNaN(time) || time === null) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    var dirtyDate = new Date(timestamp + time); // js parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n\n    var result = new Date(0);\n    result.setFullYear(dirtyDate.getUTCFullYear(), dirtyDate.getUTCMonth(), dirtyDate.getUTCDate());\n    result.setHours(dirtyDate.getUTCHours(), dirtyDate.getUTCMinutes(), dirtyDate.getUTCSeconds(), dirtyDate.getUTCMilliseconds());\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\n\nfunction splitDateString(dateString) {\n  var dateStrings = {};\n  var array = dateString.split(patterns.dateTimeDelimiter);\n  var timeString; // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    dateStrings.date = null;\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(dateStrings.date.length, dateString.length);\n    }\n  }\n\n  if (timeString) {\n    var token = patterns.timezone.exec(timeString);\n\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '');\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var regex = new RegExp('^(?:(\\\\d{4}|[+-]\\\\d{' + (4 + additionalDigits) + '})|(\\\\d{2}|[+-]\\\\d{' + (2 + additionalDigits) + '})$)');\n  var captures = dateString.match(regex); // Invalid ISO-formatted year\n\n  if (!captures) return {\n    year: null\n  };\n  var year = captures[1] && parseInt(captures[1]);\n  var century = captures[2] && parseInt(captures[2]);\n  return {\n    year: century == null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length)\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return null;\n  var captures = dateString.match(dateRegex); // Invalid ISO-formatted string\n\n  if (!captures) return null;\n  var isWeekDate = !!captures[4];\n  var dayOfYear = parseDateUnit(captures[1]);\n  var month = parseDateUnit(captures[2]) - 1;\n  var day = parseDateUnit(captures[3]);\n  var week = parseDateUnit(captures[4]);\n  var dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    var date = new Date(0);\n\n    if (!validateDate(year, month, day) || !validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN);\n    }\n\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  var captures = timeString.match(timeRegex);\n  if (!captures) return null; // Invalid ISO-formatted time\n\n  var hours = parseTimeUnit(captures[1]);\n  var minutes = parseTimeUnit(captures[2]);\n  var seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * 1000;\n}\n\nfunction parseTimeUnit(value) {\n  return value && parseFloat(value.replace(',', '.')) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === 'Z') return 0;\n  var captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n  var sign = captures[1] === '+' ? -1 : 1;\n  var hours = parseInt(captures[2]);\n  var minutes = captures[3] && parseInt(captures[3]) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  var date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\n  var diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n} // Validation functions\n// February is null to handle the leap year (using ||)\n\n\nvar daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100;\n}\n\nfunction validateDate(year, month, date) {\n  return month >= 0 && month <= 11 && date >= 1 && date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28));\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return seconds >= 0 && seconds < 60 && minutes >= 0 && minutes < 60 && hours >= 0 && hours < 25;\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}","export const APP_BASE_URL = '';\n\nexport const MESSAGE_STATUS = {\n  FAILED: 'failed',\n  SUCCESS: 'success',\n  PROGRESS: 'progress',\n};\n\nexport const MESSAGE_TYPE = {\n  INCOMING: 0,\n  OUTGOING: 1,\n  ACTIVITY: 2,\n  TEMPLATE: 3,\n};\n\nexport const WOOT_PREFIX = 'chatwoot-widget:';\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelSelector.vue?vue&type=style&index=0&id=70783c9c&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfoPanel.vue?vue&type=style&index=0&id=50b43a42&prod&lang=scss&scoped=true&\"","// Process [@mention](mention://user/1/Pranav)\nconst USER_MENTIONS_REGEX = /mention:\\/\\/(user|team)\\/(\\d+)\\/(.+)/gm;\n\nconst buildMentionTokens = () => (state, silent) => {\n  var label;\n  var labelEnd;\n  var labelStart;\n  var pos;\n  var res;\n  var token;\n  var href = '';\n  var max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5b /* [ */) {\n    return false;\n  }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) {\n    return false;\n  }\n\n  label = state.src.slice(labelStart, labelEnd);\n  pos = labelEnd + 1;\n\n  if (pos < max && state.src.charCodeAt(pos) === 0x28 /* ( */) {\n    pos += 1;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n    pos += 1;\n  }\n\n  if (!href.match(new RegExp(USER_MENTIONS_REGEX))) {\n    return false;\n  }\n\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token = state.push('mention', '');\n    token.href = href;\n    token.content = label;\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\nconst renderMentions = () => (tokens, idx) => {\n  return `<span class=\"prosemirror-mention-node\">${tokens[idx].content}</span>`;\n};\n\nexport default function mentionPlugin(md) {\n  md.renderer.rules.mention = renderMentions(md);\n  md.inline.ruler.before('link', 'mention', buildMentionTokens(md));\n}\n","import mila from 'markdown-it-link-attributes';\nimport mentionPlugin from './markdownIt/link';\n\nconst setImageHeight = inlineToken => {\n  const imgSrc = inlineToken.attrGet('src');\n  if (!imgSrc) return;\n  const url = new URL(imgSrc);\n  const height = url.searchParams.get('cw_image_height');\n  if (!height) return;\n  inlineToken.attrSet('style', `height: ${height};`);\n};\n\nconst processInlineToken = blockToken => {\n  blockToken.children.forEach(inlineToken => {\n    if (inlineToken.type === 'image') {\n      setImageHeight(inlineToken);\n    }\n  });\n};\n\nconst imgResizeManager = md => {\n  // Custom rule for image resize in markdown\n  // If the image url has a query param cw_image_height, then add a style attribute to the image\n  md.core.ruler.after('inline', 'add-image-height', state => {\n    state.tokens.forEach(blockToken => {\n      if (blockToken.type === 'inline') {\n        processInlineToken(blockToken);\n      }\n    });\n  });\n};\n\nconst md = require('markdown-it')({\n  html: false,\n  xhtmlOut: true,\n  breaks: true,\n  langPrefix: 'language-',\n  linkify: true,\n  typographer: true,\n  quotes: '\\u201c\\u201d\\u2018\\u2019',\n  maxNesting: 20,\n})\n  .use(mentionPlugin)\n  .use(imgResizeManager)\n  .use(mila, {\n    attrs: {\n      class: 'link',\n      rel: 'noreferrer noopener nofollow',\n      target: '_blank',\n    },\n  });\n\nconst TWITTER_USERNAME_REGEX = /(^|[^@\\w])@(\\w{1,15})\\b/g;\nconst TWITTER_USERNAME_REPLACEMENT = '$1[@$2](http://twitter.com/$2)';\nconst TWITTER_HASH_REGEX = /(^|\\s)#(\\w+)/g;\nconst TWITTER_HASH_REPLACEMENT = '$1[#$2](https://twitter.com/hashtag/$2)';\n\nclass MessageFormatter {\n  constructor(message, isATweet = false, isAPrivateNote = false) {\n    this.message = message || '';\n    this.isAPrivateNote = isAPrivateNote;\n    this.isATweet = isATweet;\n  }\n\n  formatMessage() {\n    let updatedMessage = this.message;\n    if (this.isATweet && !this.isAPrivateNote) {\n      updatedMessage = updatedMessage.replace(\n        TWITTER_USERNAME_REGEX,\n        TWITTER_USERNAME_REPLACEMENT\n      );\n      updatedMessage = updatedMessage.replace(\n        TWITTER_HASH_REGEX,\n        TWITTER_HASH_REPLACEMENT\n      );\n    }\n    return md.render(updatedMessage);\n  }\n\n  get formattedMessage() {\n    return this.formatMessage();\n  }\n\n  get plainText() {\n    const strippedOutHtml = new DOMParser().parseFromString(\n      this.formattedMessage,\n      'text/html'\n    );\n    return strippedOutHtml.body.textContent || '';\n  }\n}\n\nexport default MessageFormatter;\n","import MessageFormatter from '../helpers/MessageFormatter';\n\nexport default {\n  methods: {\n    formatMessage(message, isATweet, isAPrivateNote) {\n      const messageFormatter = new MessageFormatter(\n        message,\n        isATweet,\n        isAPrivateNote\n      );\n      return messageFormatter.formattedMessage;\n    },\n    getPlainText(message, isATweet) {\n      const messageFormatter = new MessageFormatter(message, isATweet);\n      return messageFormatter.plainText;\n    },\n    truncateMessage(description = '') {\n      if (description.length < 100) {\n        return description;\n      }\n\n      return `${description.slice(0, 97)}...`;\n    },\n\n    highlightContent(content = '', searchTerm = '', highlightClass = '') {\n      const plainTextContent = this.getPlainText(content);\n\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n      const escapedSearchTerm = searchTerm.replace(\n        /[.*+?^${}()|[\\]\\\\]/g,\n        '\\\\$&'\n      );\n\n      return plainTextContent.replace(\n        new RegExp(`(${escapedSearchTerm})`, 'ig'),\n        `<span class=\"${highlightClass}\">$1</span>`\n      );\n    },\n  },\n};\n"],"sourceRoot":""}