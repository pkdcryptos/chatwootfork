{"version":3,"sources":["webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/DefaultPortalArticles.vue?b198","webpack:///app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/DefaultPortalArticles.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/DefaultPortalArticles.vue?9d3e","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/DefaultPortalArticles.vue"],"names":["component","_c","this","_self","staticClass","_v"],"mappings":"4KAAA,I,mqBCYA,OACA,MADA,WAIA,OACA,WAHA,2BAMA,S,+VAAA,IACA,sDAEA,QAXA,WAYA,uBAEA,SACA,gBADA,SACA,GACA,6DAEA,eAJA,WAIA,0JACC,EAAD,iCADA,OAEA,8DAFA,8CAIA,YARA,SAQA,KACA,oDAEA,wBAXA,WAWA,8JAMA,iBAFA,EAJA,EAIA,wBACA,EALA,EAKA,wBAGA,qBAKA,0CACA,aACA,WAEA,sBAIA,aADA,EAHA,EAGA,KAHA,IAGA,0CAEA,mEAGA,wDAzBA,gDCrCmP,I,OCO/OA,EAAY,YACd,GHRW,WAA+C,OAAOC,EAA5BC,KAAYC,MAAMF,IAAa,MAAM,CAACG,YAAY,8EAA8E,CAAhIF,KAAqIG,GAAG,wBAEzJ,IGSpB,EACA,KACA,KACA,MAIa,UAAAL,E","file":"js/108-f5526480bbd470004df1.chunk.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex items-center justify-center w-full text-slate-600 dark:text-slate-200\"},[_vm._v(\"\\n  Loading...\\n\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"flex items-center justify-center w-full text-slate-600 dark:text-slate-200\"\n  >\n    Loading...\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport { useUISettings } from 'dashboard/composables/useUISettings';\n\nexport default {\n  setup() {\n    const { uiSettings } = useUISettings();\n\n    return {\n      uiSettings,\n    };\n  },\n  computed: {\n    ...mapGetters({ portals: 'portals/allPortals' }),\n  },\n  mounted() {\n    this.performRouting();\n  },\n  methods: {\n    isPortalPresent(portalSlug) {\n      return !!this.portals.find(portal => portal.slug === portalSlug);\n    },\n    async performRouting() {\n      await this.$store.dispatch('portals/index');\n      this.$nextTick(() => this.routeToLastActivePortal());\n    },\n    routeToView(name, params) {\n      this.$router.replace({ name, params, replace: true });\n    },\n    async routeToLastActivePortal() {\n      // TODO: This method should be written as a navigation guard rather than\n      // a method in the component.\n      const {\n        last_active_portal_slug: lastActivePortalSlug,\n        last_active_locale_code: lastActiveLocaleCode,\n      } = this.uiSettings || {};\n\n      if (this.isPortalPresent(lastActivePortalSlug)) {\n        // Check if the last active portal from the user preferences is available in the current\n        // list of portals. If it is, navigate there. The last active portal is saved in the user's\n        // UI settings, regardless of the account. Consequently, it's possible that the saved portal\n        // slug is not available in the current account.\n        this.routeToView('list_all_locale_articles', {\n          portalSlug: lastActivePortalSlug,\n          locale: lastActiveLocaleCode,\n        });\n      } else if (this.portals.length > 0) {\n        // If the last active portal is available, check for the exisiting list of portals and\n        // navigate to the first available portal.\n        const { slug: portalSlug, meta: { default_locale: locale } = {} } =\n          this.portals[0];\n        this.routeToView('list_all_locale_articles', { portalSlug, locale });\n      } else {\n        // If no portals are available, navigate to the portal list page to prompt creation.\n        this.$router.replace({ name: 'list_all_portals', replace: true });\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefaultPortalArticles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefaultPortalArticles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DefaultPortalArticles.vue?vue&type=template&id=dff423c8&\"\nimport script from \"./DefaultPortalArticles.vue?vue&type=script&lang=js&\"\nexport * from \"./DefaultPortalArticles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}