{"version":3,"sources":["webpack:///./app/javascript/dashboard/routes/dashboard/settings/inbox/AddAgents.vue?e440","webpack:///app/javascript/dashboard/routes/dashboard/settings/inbox/AddAgents.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/inbox/AddAgents.vue?d9f4","webpack:///./app/javascript/dashboard/routes/dashboard/settings/inbox/AddAgents.vue"],"names":["component","_vm","this","_c","_self","staticClass","on","$event","preventDefault","addAgents","attrs","$t","_v","class","error","v$","selectedAgents","$error","_s","agentList","$touch","model","value","callback","$$v","expression","_e","isCreating"],"mappings":"2KAAA,I,ogBCwDA,OACA,YACA,gBAEA,aACA,gBACA,QADA,WAEA,sCAIA,MAXA,WAYA,0BAEA,KAdA,WAeA,OACA,kBACA,gBAGA,S,+VAAA,IACA,sBACA,gCAGA,QAzBA,WA0BA,oCAEA,SACA,UADA,WACA,I,EAAA,c,EAAA,qIACA,gBACA,2BACA,mDAHA,kBAMC,EAAD,kCANA,OAOA,aACA,6BACA,QACA,WACA,qCAXA,gDAeA,0BAfA,QAiBA,gBAjBA,wD,oLCrFiO,I,OCO7NA,EAAY,YACd,GHRW,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,6JAA6J,CAACF,EAAG,OAAO,CAACE,YAAY,sBAAsBC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBP,EAAIQ,eAAe,CAACN,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,cAAc,CAACO,MAAM,CAAC,eAAeT,EAAIU,GAAG,+BAA+B,iBAAiBV,EAAIU,GAAG,kCAAkC,GAAGV,EAAIW,GAAG,KAAKT,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,QAAQ,CAACU,MAAM,CAAEC,MAAOb,EAAIc,GAAGC,eAAeC,SAAU,CAAChB,EAAIW,GAAG,eAAeX,EAAIiB,GAAGjB,EAAIU,GAAG,gCAAgC,gBAAgBR,EAAG,cAAc,CAACO,MAAM,CAAC,QAAUT,EAAIkB,UAAU,WAAW,KAAK,MAAQ,OAAO,UAAW,EAAK,mBAAkB,EAAM,mBAAkB,EAAM,iBAAgB,EAAK,iBAAiB,GAAG,eAAelB,EAAIU,GAAG,qCAAqC,iBAAiBV,EAAIU,GAAG,qCAAqC,YAAcV,EAAIU,GAAG,sCAAsCL,GAAG,CAAC,OAASL,EAAIc,GAAGC,eAAeI,QAAQC,MAAM,CAACC,MAAOrB,EAAkB,eAAEsB,SAAS,SAAUC,GAAMvB,EAAIe,eAAeQ,GAAKC,WAAW,oBAAoBxB,EAAIW,GAAG,KAAMX,EAAIc,GAAGC,eAAqB,OAAEb,EAAG,OAAO,CAACE,YAAY,WAAW,CAACJ,EAAIW,GAAG,iBAAiBX,EAAIiB,GAAGjB,EAAIU,GAAG,2CAA2C,kBAAkBV,EAAIyB,MAAM,KAAKzB,EAAIW,GAAG,KAAKT,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,qBAAqB,CAACO,MAAM,CAAC,cAAcT,EAAIU,GAAG,iCAAiC,QAAUV,EAAI0B,eAAe,WAEjlD,IGSpB,EACA,KACA,KACA,MAIa,UAAA3B,E","file":"js/117-7607d3c32df05501abbb.chunk.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"border border-slate-25 dark:border-slate-800/60 bg-white dark:bg-slate-900 h-full p-6 w-full max-w-full md:w-3/4 md:max-w-[75%] flex-shrink-0 flex-grow-0\"},[_c('form',{staticClass:\"flex flex-wrap mx-0\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addAgents()}}},[_c('div',{staticClass:\"w-full\"},[_c('page-header',{attrs:{\"header-title\":_vm.$t('INBOX_MGMT.ADD.AGENTS.TITLE'),\"header-content\":_vm.$t('INBOX_MGMT.ADD.AGENTS.DESC')}})],1),_vm._v(\" \"),_c('div',{staticClass:\"w-3/5\"},[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.v$.selectedAgents.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('INBOX_MGMT.ADD.AGENTS.TITLE'))+\"\\n          \"),_c('multiselect',{attrs:{\"options\":_vm.agentList,\"track-by\":\"id\",\"label\":\"name\",\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"hide-selected\":true,\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_REMOVE'),\"placeholder\":_vm.$t('INBOX_MGMT.ADD.AGENTS.PICK_AGENTS')},on:{\"select\":_vm.v$.selectedAgents.$touch},model:{value:(_vm.selectedAgents),callback:function ($$v) {_vm.selectedAgents=$$v},expression:\"selectedAgents\"}}),_vm._v(\" \"),(_vm.v$.selectedAgents.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('INBOX_MGMT.ADD.AGENTS.VALIDATION_ERROR'))+\"\\n          \")]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('woot-submit-button',{attrs:{\"button-text\":_vm.$t('INBOX_MGMT.AGENTS.BUTTON_TEXT'),\"loading\":_vm.isCreating}})],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"border border-slate-25 dark:border-slate-800/60 bg-white dark:bg-slate-900 h-full p-6 w-full max-w-full md:w-3/4 md:max-w-[75%] flex-shrink-0 flex-grow-0\"\n  >\n    <form class=\"flex flex-wrap mx-0\" @submit.prevent=\"addAgents()\">\n      <div class=\"w-full\">\n        <page-header\n          :header-title=\"$t('INBOX_MGMT.ADD.AGENTS.TITLE')\"\n          :header-content=\"$t('INBOX_MGMT.ADD.AGENTS.DESC')\"\n        />\n      </div>\n      <div class=\"w-3/5\">\n        <div class=\"w-full\">\n          <label :class=\"{ error: v$.selectedAgents.$error }\">\n            {{ $t('INBOX_MGMT.ADD.AGENTS.TITLE') }}\n            <multiselect\n              v-model=\"selectedAgents\"\n              :options=\"agentList\"\n              track-by=\"id\"\n              label=\"name\"\n              :multiple=\"true\"\n              :close-on-select=\"false\"\n              :clear-on-select=\"false\"\n              :hide-selected=\"true\"\n              selected-label\n              :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n              :deselect-label=\"$t('FORMS.MULTISELECT.ENTER_TO_REMOVE')\"\n              :placeholder=\"$t('INBOX_MGMT.ADD.AGENTS.PICK_AGENTS')\"\n              @select=\"v$.selectedAgents.$touch\"\n            />\n            <span v-if=\"v$.selectedAgents.$error\" class=\"message\">\n              {{ $t('INBOX_MGMT.ADD.AGENTS.VALIDATION_ERROR') }}\n            </span>\n          </label>\n        </div>\n        <div class=\"w-full\">\n          <woot-submit-button\n            :button-text=\"$t('INBOX_MGMT.AGENTS.BUTTON_TEXT')\"\n            :loading=\"isCreating\"\n          />\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\n/* eslint no-console: 0 */\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\n\nimport InboxMembersAPI from '../../../../api/inboxMembers';\nimport router from '../../../index';\nimport PageHeader from '../SettingsSubPageHeader.vue';\nimport { useVuelidate } from '@vuelidate/core';\n\nexport default {\n  components: {\n    PageHeader,\n  },\n  validations: {\n    selectedAgents: {\n      isEmpty() {\n        return !!this.selectedAgents.length;\n      },\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      selectedAgents: [],\n      isCreating: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      agentList: 'agents/getAgents',\n    }),\n  },\n  mounted() {\n    this.$store.dispatch('agents/get');\n  },\n  methods: {\n    async addAgents() {\n      this.isCreating = true;\n      const inboxId = this.$route.params.inbox_id;\n      const selectedAgents = this.selectedAgents.map(x => x.id);\n\n      try {\n        await InboxMembersAPI.update({ inboxId, agentList: selectedAgents });\n        router.replace({\n          name: 'settings_inbox_finish',\n          params: {\n            page: 'new',\n            inbox_id: this.$route.params.inbox_id,\n          },\n        });\n      } catch (error) {\n        useAlert(error.message);\n      }\n      this.isCreating = false;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAgents.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAgents.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddAgents.vue?vue&type=template&id=4205b82c&\"\nimport script from \"./AddAgents.vue?vue&type=script&lang=js&\"\nexport * from \"./AddAgents.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}