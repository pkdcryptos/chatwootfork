{"version":3,"sources":["webpack:///./app/javascript/dashboard/routes/dashboard/settings/inbox/ChannelList.vue?3ee4","webpack:///./app/javascript/dashboard/components/widgets/ChannelItem.vue?6d3d","webpack:///app/javascript/dashboard/components/widgets/ChannelItem.vue","webpack:///./app/javascript/dashboard/components/widgets/ChannelItem.vue","webpack:///./app/javascript/dashboard/components/widgets/ChannelItem.vue?04e8","webpack:///app/javascript/dashboard/routes/dashboard/settings/inbox/ChannelList.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/inbox/ChannelList.vue?d091","webpack:///./app/javascript/dashboard/routes/dashboard/settings/inbox/ChannelList.vue"],"names":["_vm","this","_c","_self","class","inactive","isActive","attrs","channel","name","getChannelThumbnail","on","onItemClick","staticClass","$t","useInstallationName","globalConfig","installationName","_v","_l","key","enabledFeatures","initChannelAuth"],"mappings":"+JAAA,ICAuN,ECUvN,CACA,4B,QAAA,GACA,OACA,SACA,YACA,aAEA,iBACA,YACA,cAGA,UACA,gBADA,WACA,MACA,sEAEA,SAJA,WAKA,uBACA,sDAGA,cACA,qCAEA,eACA,4DAEA,YACA,mCAGA,CACA,UACA,SACA,MACA,WACA,MACA,WACA,QACA,eAGA,SACA,oBADA,WAEA,uDACA,uBAEA,sEAEA,YAPA,WAQA,eACA,qD,OC3Ce,EAXC,YACd,GCRW,WAAkB,IAAIA,EAAIC,KAAqB,OAAOC,EAApBF,EAAIG,MAAMD,IAAa,mBAAmB,CAACE,MAAM,CAAEC,UAAWL,EAAIM,UAAWC,MAAM,CAAC,MAAQP,EAAIQ,QAAQC,KAAK,IAAMT,EAAIU,uBAAuBC,GAAG,CAAC,MAAQX,EAAIY,iBAEvL,IDSpB,EACA,KACA,KACA,M,0fEqBF,OACA,YACA,cACA,gBAEA,aACA,KANA,WAOA,OACA,qBAGA,S,+VAAA,EACA,QADA,WAEA,mEAEA,YAJA,WAKA,wBACA,OACA,+BACA,kCACA,iCACA,uBACA,2BACA,CACA,UACA,KATA,kBASA,MACA,UAVA,uBAYA,iCACA,4BAGA,sBACA,gCACA,mCAGA,QArCA,WAsCA,kCAEA,SACA,0BADA,WACA,I,EAAA,c,EAAA,sHACA,qCADA,0C,kLAGA,gBAJA,SAIA,GACA,OACA,WACA,YAEA,6DCpFmO,ICO/N,EAAY,YACd,GPRW,WAAkB,IAAIZ,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACW,YAAY,6JAA6J,CAACX,EAAG,cAAc,CAACW,YAAY,YAAYN,MAAM,CAAC,eAAeP,EAAIc,GAAG,6BAA6B,iBAAiBd,EAAIe,oBACxWf,EAAIc,GAAG,4BACPd,EAAIgB,aAAaC,qBACdjB,EAAIkB,GAAG,KAAKhB,EAAG,MAAM,CAACW,YAAY,sEAAsEb,EAAImB,GAAInB,EAAe,aAAE,SAASQ,GAAS,OAAON,EAAG,eAAe,CAACkB,IAAIZ,EAAQY,IAAIb,MAAM,CAAC,QAAUC,EAAQ,mBAAmBR,EAAIqB,iBAAiBV,GAAG,CAAC,qBAAqBX,EAAIsB,sBAAqB,IAAI,KAEzS,IOMpB,EACA,KACA,KACA,MAIa,Y","file":"js/118-c97ab01c5af8c55e15de.chunk.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"border border-slate-25 dark:border-slate-800/60 bg-white dark:bg-slate-900 h-full p-6 w-full max-w-full md:w-3/4 md:max-w-[75%] flex-shrink-0 flex-grow-0\"},[_c('page-header',{staticClass:\"max-w-4xl\",attrs:{\"header-title\":_vm.$t('INBOX_MGMT.ADD.AUTH.TITLE'),\"header-content\":_vm.useInstallationName(\n        _vm.$t('INBOX_MGMT.ADD.AUTH.DESC'),\n        _vm.globalConfig.installationName\n      )}}),_vm._v(\" \"),_c('div',{staticClass:\"mt-6 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 mx-0 max-w-3xl\"},_vm._l((_vm.channelList),function(channel){return _c('channel-item',{key:channel.key,attrs:{\"channel\":channel,\"enabled-features\":_vm.enabledFeatures},on:{\"channel-item-click\":_vm.initChannelAuth}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelItem.vue?vue&type=script&lang=js&\"","<template>\n  <channel-selector\n    :class=\"{ inactive: !isActive }\"\n    :title=\"channel.name\"\n    :src=\"getChannelThumbnail()\"\n    @click=\"onItemClick\"\n  />\n</template>\n<script>\nimport ChannelSelector from '../ChannelSelector.vue';\nexport default {\n  components: { ChannelSelector },\n  props: {\n    channel: {\n      type: Object,\n      required: true,\n    },\n    enabledFeatures: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    hasFbConfigured() {\n      return window.chatwootConfig?.fbAppId;\n    },\n    isActive() {\n      const { key } = this.channel;\n      if (Object.keys(this.enabledFeatures).length === 0) {\n        return false;\n      }\n      if (key === 'website') {\n        return this.enabledFeatures.channel_website;\n      }\n      if (key === 'facebook') {\n        return this.enabledFeatures.channel_facebook && this.hasFbConfigured;\n      }\n      if (key === 'email') {\n        return this.enabledFeatures.channel_email;\n      }\n\n      return [\n        'website',\n        'twilio',\n        'api',\n        'whatsapp',\n        'sms',\n        'telegram',\n        'line',\n      ].includes(key);\n    },\n  },\n  methods: {\n    getChannelThumbnail() {\n      if (this.channel.key === 'api' && this.channel.thumbnail) {\n        return this.channel.thumbnail;\n      }\n      return `/assets/images/dashboard/channels/${this.channel.key}.png`;\n    },\n    onItemClick() {\n      if (this.isActive) {\n        this.$emit('channel-item-click', this.channel.key);\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./ChannelItem.vue?vue&type=template&id=40b2a076&\"\nimport script from \"./ChannelItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ChannelItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('channel-selector',{class:{ inactive: !_vm.isActive },attrs:{\"title\":_vm.channel.name,\"src\":_vm.getChannelThumbnail()},on:{\"click\":_vm.onItemClick}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"border border-slate-25 dark:border-slate-800/60 bg-white dark:bg-slate-900 h-full p-6 w-full max-w-full md:w-3/4 md:max-w-[75%] flex-shrink-0 flex-grow-0\"\n  >\n    <page-header\n      class=\"max-w-4xl\"\n      :header-title=\"$t('INBOX_MGMT.ADD.AUTH.TITLE')\"\n      :header-content=\"\n        useInstallationName(\n          $t('INBOX_MGMT.ADD.AUTH.DESC'),\n          globalConfig.installationName\n        )\n      \"\n    />\n    <div\n      class=\"mt-6 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 mx-0 max-w-3xl\"\n    >\n      <channel-item\n        v-for=\"channel in channelList\"\n        :key=\"channel.key\"\n        :channel=\"channel\"\n        :enabled-features=\"enabledFeatures\"\n        @channel-item-click=\"initChannelAuth\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport ChannelItem from 'dashboard/components/widgets/ChannelItem.vue';\nimport router from '../../../index';\nimport PageHeader from '../SettingsSubPageHeader.vue';\nimport { mapGetters } from 'vuex';\nimport globalConfigMixin from 'shared/mixins/globalConfigMixin';\n\nexport default {\n  components: {\n    ChannelItem,\n    PageHeader,\n  },\n  mixins: [globalConfigMixin],\n  data() {\n    return {\n      enabledFeatures: {},\n    };\n  },\n  computed: {\n    account() {\n      return this.$store.getters['accounts/getAccount'](this.accountId);\n    },\n    channelList() {\n      const { apiChannelName, apiChannelThumbnail } = this.globalConfig;\n      return [\n        { key: 'website', name: 'Website' },\n        { key: 'facebook', name: 'Messenger' },\n        { key: 'whatsapp', name: 'WhatsApp' },\n        { key: 'sms', name: 'SMS' },\n        { key: 'email', name: 'Email' },\n        {\n          key: 'api',\n          name: apiChannelName || 'API',\n          thumbnail: apiChannelThumbnail,\n        },\n        { key: 'telegram', name: 'Telegram' },\n        { key: 'line', name: 'Line' },\n      ];\n    },\n    ...mapGetters({\n      accountId: 'getCurrentAccountId',\n      globalConfig: 'globalConfig/get',\n    }),\n  },\n  mounted() {\n    this.initializeEnabledFeatures();\n  },\n  methods: {\n    async initializeEnabledFeatures() {\n      this.enabledFeatures = this.account.features;\n    },\n    initChannelAuth(channel) {\n      const params = {\n        page: 'new',\n        sub_page: channel,\n      };\n      router.push({ name: 'settings_inboxes_page_channel', params });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChannelList.vue?vue&type=template&id=69ab66f8&\"\nimport script from \"./ChannelList.vue?vue&type=script&lang=js&\"\nexport * from \"./ChannelList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}